const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminView-BW56d5_y.js","assets/AdminView-Cyo63J1_.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function so(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ue={},wn=[],pt=()=>{},ef=()=>!1,Ti=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),io=t=>t.startsWith("onUpdate:"),we=Object.assign,ro=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},tf=Object.prototype.hasOwnProperty,te=(t,e)=>tf.call(t,e),W=Array.isArray,Rn=t=>Si(t)==="[object Map]",Qa=t=>Si(t)==="[object Set]",V=t=>typeof t=="function",Ee=t=>typeof t=="string",Yt=t=>typeof t=="symbol",de=t=>t!==null&&typeof t=="object",Xa=t=>(de(t)||V(t))&&V(t.then)&&V(t.catch),Ja=Object.prototype.toString,Si=t=>Ja.call(t),nf=t=>Si(t).slice(8,-1),Za=t=>Si(t)==="[object Object]",oo=t=>Ee(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,es=so(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},sf=/-(\w)/g,$t=wi(t=>t.replace(sf,(e,n)=>n?n.toUpperCase():"")),rf=/\B([A-Z])/g,_n=wi(t=>t.replace(rf,"-$1").toLowerCase()),ec=wi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ki=wi(t=>t?`on${ec(t)}`:""),Bt=(t,e)=>!Object.is(t,e),zi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},tc=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},of=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let hl;const Ri=()=>hl||(hl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function lo(t){if(W(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ee(s)?uf(s):lo(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ee(t)||de(t))return t}const lf=/;(?![^(]*\))/g,af=/:([^]+)/,cf=/\/\*[^]*?\*\//g;function uf(t){const e={};return t.replace(cf,"").split(lf).forEach(n=>{if(n){const s=n.split(af);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ni(t){let e="";if(Ee(t))e=t;else if(W(t))for(let n=0;n<t.length;n++){const s=Ni(t[n]);s&&(e+=s+" ")}else if(de(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const hf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ff=so(hf);function nc(t){return!!t||t===""}const sc=t=>!!(t&&t.__v_isRef===!0),rn=t=>Ee(t)?t:t==null?"":W(t)||de(t)&&(t.toString===Ja||!V(t.toString))?sc(t)?rn(t.value):JSON.stringify(t,ic,2):String(t),ic=(t,e)=>sc(e)?ic(t,e.value):Rn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Yi(s,r)+" =>"]=i,n),{})}:Qa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Yi(n))}:Yt(e)?Yi(e):de(e)&&!W(e)&&!Za(e)?String(e):e,Yi=(t,e="")=>{var n;return Yt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Me;class rc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Me,!e&&Me&&(this.index=(Me.scopes||(Me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Me;try{return Me=this,e()}finally{Me=n}}}on(){Me=this}off(){Me=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function oc(t){return new rc(t)}function lc(){return Me}function df(t,e=!1){Me&&Me.cleanups.push(t)}let le;const Qi=new WeakSet;class ac{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Me&&Me.active&&Me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Qi.has(this)&&(Qi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||uc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fl(this),hc(this);const e=le,n=it;le=this,it=!0;try{return this.fn()}finally{fc(this),le=e,it=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)uo(e);this.deps=this.depsTail=void 0,fl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Qi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cr(this)&&this.run()}get dirty(){return Cr(this)}}let cc=0,ts,ns;function uc(t,e=!1){if(t.flags|=8,e){t.next=ns,ns=t;return}t.next=ts,ts=t}function ao(){cc++}function co(){if(--cc>0)return;if(ns){let e=ns;for(ns=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ts;){let e=ts;for(ts=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function hc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function fc(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),uo(s),pf(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function Cr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(dc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function dc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===_s))return;t.globalVersion=_s;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Cr(t)){t.flags&=-3;return}const n=le,s=it;le=t,it=!0;try{hc(t);const i=t.fn(t._value);(e.version===0||Bt(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{le=n,it=s,fc(t),t.flags&=-3}}function uo(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)uo(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function pf(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let it=!0;const pc=[];function Qt(){pc.push(it),it=!1}function Xt(){const t=pc.pop();it=t===void 0?!0:t}function fl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=le;le=void 0;try{e()}finally{le=n}}}let _s=0;class _f{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ho{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!le||!it||le===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==le)n=this.activeLink=new _f(le,this),le.deps?(n.prevDep=le.depsTail,le.depsTail.nextDep=n,le.depsTail=n):le.deps=le.depsTail=n,_c(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=le.depsTail,n.nextDep=void 0,le.depsTail.nextDep=n,le.depsTail=n,le.deps===n&&(le.deps=s)}return n}trigger(e){this.version++,_s++,this.notify(e)}notify(e){ao();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{co()}}}function _c(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)_c(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ei=new WeakMap,an=Symbol(""),Tr=Symbol(""),ms=Symbol("");function Oe(t,e,n){if(it&&le){let s=ei.get(t);s||ei.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new ho),i.map=s,i.key=n),i.track()}}function Ct(t,e,n,s,i,r){const o=ei.get(t);if(!o){_s++;return}const l=a=>{a&&a.trigger()};if(ao(),e==="clear")o.forEach(l);else{const a=W(t),c=a&&oo(n);if(a&&n==="length"){const u=Number(s);o.forEach((h,f)=>{(f==="length"||f===ms||!Yt(f)&&f>=u)&&l(h)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(ms)),e){case"add":a?c&&l(o.get("length")):(l(o.get(an)),Rn(t)&&l(o.get(Tr)));break;case"delete":a||(l(o.get(an)),Rn(t)&&l(o.get(Tr)));break;case"set":Rn(t)&&l(o.get(an));break}}co()}function mf(t,e){const n=ei.get(t);return n&&n.get(e)}function En(t){const e=X(t);return e===t?e:(Oe(e,"iterate",ms),Ze(t)?e:e.map(xe))}function Ai(t){return Oe(t=X(t),"iterate",ms),t}const gf={__proto__:null,[Symbol.iterator](){return Xi(this,Symbol.iterator,xe)},concat(...t){return En(this).concat(...t.map(e=>W(e)?En(e):e))},entries(){return Xi(this,"entries",t=>(t[1]=xe(t[1]),t))},every(t,e){return Et(this,"every",t,e,void 0,arguments)},filter(t,e){return Et(this,"filter",t,e,n=>n.map(xe),arguments)},find(t,e){return Et(this,"find",t,e,xe,arguments)},findIndex(t,e){return Et(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Et(this,"findLast",t,e,xe,arguments)},findLastIndex(t,e){return Et(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Et(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ji(this,"includes",t)},indexOf(...t){return Ji(this,"indexOf",t)},join(t){return En(this).join(t)},lastIndexOf(...t){return Ji(this,"lastIndexOf",t)},map(t,e){return Et(this,"map",t,e,void 0,arguments)},pop(){return qn(this,"pop")},push(...t){return qn(this,"push",t)},reduce(t,...e){return dl(this,"reduce",t,e)},reduceRight(t,...e){return dl(this,"reduceRight",t,e)},shift(){return qn(this,"shift")},some(t,e){return Et(this,"some",t,e,void 0,arguments)},splice(...t){return qn(this,"splice",t)},toReversed(){return En(this).toReversed()},toSorted(t){return En(this).toSorted(t)},toSpliced(...t){return En(this).toSpliced(...t)},unshift(...t){return qn(this,"unshift",t)},values(){return Xi(this,"values",xe)}};function Xi(t,e,n){const s=Ai(t),i=s[e]();return s!==t&&!Ze(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const vf=Array.prototype;function Et(t,e,n,s,i,r){const o=Ai(t),l=o!==t&&!Ze(t),a=o[e];if(a!==vf[e]){const h=a.apply(t,r);return l?xe(h):h}let c=n;o!==t&&(l?c=function(h,f){return n.call(this,xe(h),f,t)}:n.length>2&&(c=function(h,f){return n.call(this,h,f,t)}));const u=a.call(o,c,s);return l&&i?i(u):u}function dl(t,e,n,s){const i=Ai(t);let r=n;return i!==t&&(Ze(t)?n.length>3&&(r=function(o,l,a){return n.call(this,o,l,a,t)}):r=function(o,l,a){return n.call(this,o,xe(l),a,t)}),i[e](r,...s)}function Ji(t,e,n){const s=X(t);Oe(s,"iterate",ms);const i=s[e](...n);return(i===-1||i===!1)&&_o(n[0])?(n[0]=X(n[0]),s[e](...n)):i}function qn(t,e,n=[]){Qt(),ao();const s=X(t)[e].apply(t,n);return co(),Xt(),s}const yf=so("__proto__,__v_isRef,__isVue"),mc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Yt));function Ef(t){Yt(t)||(t=String(t));const e=X(this);return Oe(e,"has",t),e.hasOwnProperty(t)}class gc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Of:bc:r?Ec:yc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=W(e);if(!i){let a;if(o&&(a=gf[n]))return a;if(n==="hasOwnProperty")return Ef}const l=Reflect.get(e,n,ve(e)?e:s);return(Yt(n)?mc.has(n):yf(n))||(i||Oe(e,"get",n),r)?l:ve(l)?o&&oo(n)?l:l.value:de(l)?i?Cc(l):ks(l):l}}class vc extends gc{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const a=un(r);if(!Ze(s)&&!un(s)&&(r=X(r),s=X(s)),!W(e)&&ve(r)&&!ve(s))return a?!1:(r.value=s,!0)}const o=W(e)&&oo(n)?Number(n)<e.length:te(e,n),l=Reflect.set(e,n,s,ve(e)?e:i);return e===X(i)&&(o?Bt(s,r)&&Ct(e,"set",n,s):Ct(e,"add",n,s)),l}deleteProperty(e,n){const s=te(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Ct(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Yt(n)||!mc.has(n))&&Oe(e,"has",n),s}ownKeys(e){return Oe(e,"iterate",W(e)?"length":an),Reflect.ownKeys(e)}}class bf extends gc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const If=new vc,Cf=new bf,Tf=new vc(!0);const Sr=t=>t,$s=t=>Reflect.getPrototypeOf(t);function Sf(t,e,n){return function(...s){const i=this.__v_raw,r=X(i),o=Rn(r),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=i[t](...s),u=n?Sr:e?wr:xe;return!e&&Oe(r,"iterate",a?Tr:an),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:l?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function qs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function wf(t,e){const n={get(i){const r=this.__v_raw,o=X(r),l=X(i);t||(Bt(i,l)&&Oe(o,"get",i),Oe(o,"get",l));const{has:a}=$s(o),c=e?Sr:t?wr:xe;if(a.call(o,i))return c(r.get(i));if(a.call(o,l))return c(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Oe(X(i),"iterate",an),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=X(r),l=X(i);return t||(Bt(i,l)&&Oe(o,"has",i),Oe(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,a=X(l),c=e?Sr:t?wr:xe;return!t&&Oe(a,"iterate",an),l.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return we(n,t?{add:qs("add"),set:qs("set"),delete:qs("delete"),clear:qs("clear")}:{add(i){!e&&!Ze(i)&&!un(i)&&(i=X(i));const r=X(this);return $s(r).has.call(r,i)||(r.add(i),Ct(r,"add",i,i)),this},set(i,r){!e&&!Ze(r)&&!un(r)&&(r=X(r));const o=X(this),{has:l,get:a}=$s(o);let c=l.call(o,i);c||(i=X(i),c=l.call(o,i));const u=a.call(o,i);return o.set(i,r),c?Bt(r,u)&&Ct(o,"set",i,r):Ct(o,"add",i,r),this},delete(i){const r=X(this),{has:o,get:l}=$s(r);let a=o.call(r,i);a||(i=X(i),a=o.call(r,i)),l&&l.call(r,i);const c=r.delete(i);return a&&Ct(r,"delete",i,void 0),c},clear(){const i=X(this),r=i.size!==0,o=i.clear();return r&&Ct(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Sf(i,t,e)}),n}function fo(t,e){const n=wf(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(te(n,i)&&i in s?n:s,i,r)}const Rf={get:fo(!1,!1)},Nf={get:fo(!1,!0)},Af={get:fo(!0,!1)};const yc=new WeakMap,Ec=new WeakMap,bc=new WeakMap,Of=new WeakMap;function xf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pf(t){return t.__v_skip||!Object.isExtensible(t)?0:xf(nf(t))}function ks(t){return un(t)?t:po(t,!1,If,Rf,yc)}function Ic(t){return po(t,!1,Tf,Nf,Ec)}function Cc(t){return po(t,!0,Cf,Af,bc)}function po(t,e,n,s,i){if(!de(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=Pf(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function Ut(t){return un(t)?Ut(t.__v_raw):!!(t&&t.__v_isReactive)}function un(t){return!!(t&&t.__v_isReadonly)}function Ze(t){return!!(t&&t.__v_isShallow)}function _o(t){return t?!!t.__v_raw:!1}function X(t){const e=t&&t.__v_raw;return e?X(e):t}function mo(t){return!te(t,"__v_skip")&&Object.isExtensible(t)&&tc(t,"__v_skip",!0),t}const xe=t=>de(t)?ks(t):t,wr=t=>de(t)?Cc(t):t;function ve(t){return t?t.__v_isRef===!0:!1}function Oi(t){return Tc(t,!1)}function Df(t){return Tc(t,!0)}function Tc(t,e){return ve(t)?t:new kf(t,e)}class kf{constructor(e,n){this.dep=new ho,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:X(e),this._value=n?e:xe(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Ze(e)||un(e);e=s?e:X(e),Bt(e,n)&&(this._rawValue=e,this._value=s?e:xe(e),this.dep.trigger())}}function ye(t){return ve(t)?t.value:t}const Mf={get:(t,e,n)=>e==="__v_raw"?t:ye(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return ve(i)&&!ve(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Sc(t){return Ut(t)?t:new Proxy(t,Mf)}function Lf(t){const e=W(t)?new Array(t.length):{};for(const n in t)e[n]=Hf(t,n);return e}class Ff{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return mf(X(this._object),this._key)}}function Hf(t,e,n){const s=t[e];return ve(s)?s:new Ff(t,e,n)}class Bf{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ho(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_s-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&le!==this)return uc(this,!0),!0}get value(){const e=this.dep.track();return dc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Uf(t,e,n=!1){let s,i;return V(t)?s=t:(s=t.get,i=t.set),new Bf(s,i,n)}const Ks={},ti=new WeakMap;let tn;function Wf(t,e=!1,n=tn){if(n){let s=ti.get(n);s||ti.set(n,s=[]),s.push(t)}}function Gf(t,e,n=ue){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:a}=n,c=P=>i?P:Ze(P)||i===!1||i===0?Ht(P,1):Ht(P);let u,h,f,_,g=!1,C=!1;if(ve(t)?(h=()=>t.value,g=Ze(t)):Ut(t)?(h=()=>c(t),g=!0):W(t)?(C=!0,g=t.some(P=>Ut(P)||Ze(P)),h=()=>t.map(P=>{if(ve(P))return P.value;if(Ut(P))return c(P);if(V(P))return a?a(P,2):P()})):V(t)?e?h=a?()=>a(t,2):t:h=()=>{if(f){Qt();try{f()}finally{Xt()}}const P=tn;tn=u;try{return a?a(t,3,[_]):t(_)}finally{tn=P}}:h=pt,e&&i){const P=h,j=i===!0?1/0:i;h=()=>Ht(P(),j)}const D=lc(),k=()=>{u.stop(),D&&D.active&&ro(D.effects,u)};if(r&&e){const P=e;e=(...j)=>{P(...j),k()}}let x=C?new Array(t.length).fill(Ks):Ks;const M=P=>{if(!(!(u.flags&1)||!u.dirty&&!P))if(e){const j=u.run();if(i||g||(C?j.some((Ie,ne)=>Bt(Ie,x[ne])):Bt(j,x))){f&&f();const Ie=tn;tn=u;try{const ne=[j,x===Ks?void 0:C&&x[0]===Ks?[]:x,_];a?a(e,3,ne):e(...ne),x=j}finally{tn=Ie}}}else u.run()};return l&&l(M),u=new ac(h),u.scheduler=o?()=>o(M,!1):M,_=P=>Wf(P,!1,u),f=u.onStop=()=>{const P=ti.get(u);if(P){if(a)a(P,4);else for(const j of P)j();ti.delete(u)}},e?s?M(!0):x=u.run():o?o(M.bind(null,!0),!0):u.run(),k.pause=u.pause.bind(u),k.resume=u.resume.bind(u),k.stop=k,k}function Ht(t,e=1/0,n){if(e<=0||!de(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ve(t))Ht(t.value,e,n);else if(W(t))for(let s=0;s<t.length;s++)Ht(t[s],e,n);else if(Qa(t)||Rn(t))t.forEach(s=>{Ht(s,e,n)});else if(Za(t)){for(const s in t)Ht(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Ht(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ms(t,e,n,s){try{return s?t(...s):t()}catch(i){xi(i,e,n)}}function mt(t,e,n,s){if(V(t)){const i=Ms(t,e,n,s);return i&&Xa(i)&&i.catch(r=>{xi(r,e,n)}),i}if(W(t)){const i=[];for(let r=0;r<t.length;r++)i.push(mt(t[r],e,n,s));return i}}function xi(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ue;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,a,c)===!1)return}l=l.parent}if(r){Qt(),Ms(r,null,10,[t,a,c]),Xt();return}}Vf(t,n,i,s,o)}function Vf(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Le=[];let ut=-1;const Nn=[];let kt=null,Cn=0;const wc=Promise.resolve();let ni=null;function go(t){const e=ni||wc;return t?e.then(this?t.bind(this):t):e}function jf(t){let e=ut+1,n=Le.length;for(;e<n;){const s=e+n>>>1,i=Le[s],r=gs(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function vo(t){if(!(t.flags&1)){const e=gs(t),n=Le[Le.length-1];!n||!(t.flags&2)&&e>=gs(n)?Le.push(t):Le.splice(jf(e),0,t),t.flags|=1,Rc()}}function Rc(){ni||(ni=wc.then(Ac))}function $f(t){W(t)?Nn.push(...t):kt&&t.id===-1?kt.splice(Cn+1,0,t):t.flags&1||(Nn.push(t),t.flags|=1),Rc()}function pl(t,e,n=ut+1){for(;n<Le.length;n++){const s=Le[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Le.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Nc(t){if(Nn.length){const e=[...new Set(Nn)].sort((n,s)=>gs(n)-gs(s));if(Nn.length=0,kt){kt.push(...e);return}for(kt=e,Cn=0;Cn<kt.length;Cn++){const n=kt[Cn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}kt=null,Cn=0}}const gs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ac(t){try{for(ut=0;ut<Le.length;ut++){const e=Le[ut];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ms(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ut<Le.length;ut++){const e=Le[ut];e&&(e.flags&=-2)}ut=-1,Le.length=0,Nc(),ni=null,(Le.length||Nn.length)&&Ac()}}let nt=null,Oc=null;function si(t){const e=nt;return nt=t,Oc=t&&t.type.__scopeId||null,e}function qf(t,e=nt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Il(-1);const r=si(e);let o;try{o=t(...i)}finally{si(r),s._d&&Il(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Zt(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a&&(Qt(),mt(a,n,8,[t.el,l,t,e]),Xt())}}const Kf=Symbol("_vte"),zf=t=>t.__isTeleport;function yo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,yo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Un(t,e){return V(t)?we({name:t.name},e,{setup:t}):t}function xc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ii(t,e,n,s,i=!1){if(W(t)){t.forEach((g,C)=>ii(g,e&&(W(e)?e[C]:e),n,s,i));return}if(ss(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ii(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Co(s.component):s.el,o=i?null:r,{i:l,r:a}=t,c=e&&e.r,u=l.refs===ue?l.refs={}:l.refs,h=l.setupState,f=X(h),_=h===ue?()=>!1:g=>te(f,g);if(c!=null&&c!==a&&(Ee(c)?(u[c]=null,_(c)&&(h[c]=null)):ve(c)&&(c.value=null)),V(a))Ms(a,l,12,[o,u]);else{const g=Ee(a),C=ve(a);if(g||C){const D=()=>{if(t.f){const k=g?_(a)?h[a]:u[a]:a.value;i?W(k)&&ro(k,r):W(k)?k.includes(r)||k.push(r):g?(u[a]=[r],_(a)&&(h[a]=u[a])):(a.value=[r],t.k&&(u[t.k]=a.value))}else g?(u[a]=o,_(a)&&(h[a]=o)):C&&(a.value=o,t.k&&(u[t.k]=o))};o?(D.id=-1,ze(D,n)):D()}}}Ri().requestIdleCallback;Ri().cancelIdleCallback;const ss=t=>!!t.type.__asyncLoader,Pc=t=>t.type.__isKeepAlive;function Yf(t,e){Dc(t,"a",e)}function Qf(t,e){Dc(t,"da",e)}function Dc(t,e,n=Pe){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Pi(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Pc(i.parent.vnode)&&Xf(s,e,n,i),i=i.parent}}function Xf(t,e,n,s){const i=Pi(e,t,s,!0);Lc(()=>{ro(s[e],i)},n)}function Pi(t,e,n=Pe,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Qt();const l=Ls(n),a=mt(e,n,t,o);return l(),Xt(),a});return s?i.unshift(r):i.push(r),r}}const Nt=t=>(e,n=Pe)=>{(!ys||t==="sp")&&Pi(t,(...s)=>e(...s),n)},Jf=Nt("bm"),kc=Nt("m"),Zf=Nt("bu"),Mc=Nt("u"),ed=Nt("bum"),Lc=Nt("um"),td=Nt("sp"),nd=Nt("rtg"),sd=Nt("rtc");function id(t,e=Pe){Pi("ec",t,e)}const rd=Symbol.for("v-ndc");function od(t,e,n,s){let i;const r=n,o=W(t);if(o||Ee(t)){const l=o&&Ut(t);let a=!1;l&&(a=!Ze(t),t=Ai(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(a?xe(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r)}else if(de(t))if(t[Symbol.iterator])i=Array.from(t,(l,a)=>e(l,a,void 0,r));else{const l=Object.keys(t);i=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];i[a]=e(t[u],u,a,r)}}else i=[];return i}const Rr=t=>t?su(t)?Co(t):Rr(t.parent):null,is=we(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Rr(t.parent),$root:t=>Rr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Eo(t),$forceUpdate:t=>t.f||(t.f=()=>{vo(t.update)}),$nextTick:t=>t.n||(t.n=go.bind(t.proxy)),$watch:t=>Nd.bind(t)}),Zi=(t,e)=>t!==ue&&!t.__isScriptSetup&&te(t,e),ld={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Zi(s,e))return o[e]=1,s[e];if(i!==ue&&te(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&te(c,e))return o[e]=3,r[e];if(n!==ue&&te(n,e))return o[e]=4,n[e];Nr&&(o[e]=0)}}const u=is[e];let h,f;if(u)return e==="$attrs"&&Oe(t.attrs,"get",""),u(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==ue&&te(n,e))return o[e]=4,n[e];if(f=a.config.globalProperties,te(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Zi(i,e)?(i[e]=n,!0):s!==ue&&te(s,e)?(s[e]=n,!0):te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==ue&&te(t,o)||Zi(e,o)||(l=r[0])&&te(l,o)||te(s,o)||te(is,o)||te(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function _l(t){return W(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Nr=!0;function ad(t){const e=Eo(t),n=t.proxy,s=t.ctx;Nr=!1,e.beforeCreate&&ml(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:_,updated:g,activated:C,deactivated:D,beforeDestroy:k,beforeUnmount:x,destroyed:M,unmounted:P,render:j,renderTracked:Ie,renderTriggered:ne,errorCaptured:K,serverPrefetch:z,expose:pe,inheritAttrs:De,components:je,directives:Ue,filters:Jt}=e;if(c&&cd(c,s,null),o)for(const G in o){const Z=o[G];V(Z)&&(s[G]=Z.bind(n))}if(i){const G=i.call(n,n);de(G)&&(t.data=ks(G))}if(Nr=!0,r)for(const G in r){const Z=r[G],yt=V(Z)?Z.bind(n,n):V(Z.get)?Z.get.bind(n,n):pt,xt=!V(Z)&&V(Z.set)?Z.set.bind(n):pt,lt=Fe({get:yt,set:xt});Object.defineProperty(s,G,{enumerable:!0,configurable:!0,get:()=>lt.value,set:We=>lt.value=We})}if(l)for(const G in l)Fc(l[G],s,n,G);if(a){const G=V(a)?a.call(n):a;Reflect.ownKeys(G).forEach(Z=>{Qs(Z,G[Z])})}u&&ml(u,t,"c");function fe(G,Z){W(Z)?Z.forEach(yt=>G(yt.bind(n))):Z&&G(Z.bind(n))}if(fe(Jf,h),fe(kc,f),fe(Zf,_),fe(Mc,g),fe(Yf,C),fe(Qf,D),fe(id,K),fe(sd,Ie),fe(nd,ne),fe(ed,x),fe(Lc,P),fe(td,z),W(pe))if(pe.length){const G=t.exposed||(t.exposed={});pe.forEach(Z=>{Object.defineProperty(G,Z,{get:()=>n[Z],set:yt=>n[Z]=yt})})}else t.exposed||(t.exposed={});j&&t.render===pt&&(t.render=j),De!=null&&(t.inheritAttrs=De),je&&(t.components=je),Ue&&(t.directives=Ue),z&&xc(t)}function cd(t,e,n=pt){W(t)&&(t=Ar(t));for(const s in t){const i=t[s];let r;de(i)?"default"in i?r=_t(i.from||s,i.default,!0):r=_t(i.from||s):r=_t(i),ve(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function ml(t,e,n){mt(W(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Fc(t,e,n,s){let i=s.includes(".")?Xc(n,s):()=>n[s];if(Ee(t)){const r=e[t];V(r)&&rs(i,r)}else if(V(t))rs(i,t.bind(n));else if(de(t))if(W(t))t.forEach(r=>Fc(r,e,n,s));else{const r=V(t.handler)?t.handler.bind(n):e[t.handler];V(r)&&rs(i,r,t)}}function Eo(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let a;return l?a=l:!i.length&&!n&&!s?a=e:(a={},i.length&&i.forEach(c=>ri(a,c,o,!0)),ri(a,e,o)),de(e)&&r.set(e,a),a}function ri(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&ri(t,r,n,!0),i&&i.forEach(o=>ri(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=ud[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const ud={data:gl,props:vl,emits:vl,methods:Zn,computed:Zn,beforeCreate:ke,created:ke,beforeMount:ke,mounted:ke,beforeUpdate:ke,updated:ke,beforeDestroy:ke,beforeUnmount:ke,destroyed:ke,unmounted:ke,activated:ke,deactivated:ke,errorCaptured:ke,serverPrefetch:ke,components:Zn,directives:Zn,watch:fd,provide:gl,inject:hd};function gl(t,e){return e?t?function(){return we(V(t)?t.call(this,this):t,V(e)?e.call(this,this):e)}:e:t}function hd(t,e){return Zn(Ar(t),Ar(e))}function Ar(t){if(W(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ke(t,e){return t?[...new Set([].concat(t,e))]:e}function Zn(t,e){return t?we(Object.create(null),t,e):e}function vl(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:we(Object.create(null),_l(t),_l(e??{})):e}function fd(t,e){if(!t)return e;if(!e)return t;const n=we(Object.create(null),t);for(const s in e)n[s]=ke(t[s],e[s]);return n}function Hc(){return{app:null,config:{isNativeTag:ef,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dd=0;function pd(t,e){return function(s,i=null){V(s)||(s=we({},s)),i!=null&&!de(i)&&(i=null);const r=Hc(),o=new WeakSet,l=[];let a=!1;const c=r.app={_uid:dd++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Yd,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&V(u.install)?(o.add(u),u.install(c,...h)):V(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,f){if(!a){const _=c._ceVNode||He(s,i);return _.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(_,u):t(_,u,f),a=!0,c._container=u,u.__vue_app__=c,Co(_.component)}},onUnmount(u){l.push(u)},unmount(){a&&(mt(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=cn;cn=c;try{return u()}finally{cn=h}}};return c}}let cn=null;function Qs(t,e){if(Pe){let n=Pe.provides;const s=Pe.parent&&Pe.parent.provides;s===n&&(n=Pe.provides=Object.create(s)),n[t]=e}}function _t(t,e,n=!1){const s=Pe||nt;if(s||cn){const i=cn?cn._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&V(e)?e.call(s&&s.proxy):e}}function _d(){return!!(Pe||nt||cn)}const Bc={},Uc=()=>Object.create(Bc),Wc=t=>Object.getPrototypeOf(t)===Bc;function md(t,e,n,s=!1){const i={},r=Uc();t.propsDefaults=Object.create(null),Gc(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Ic(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function gd(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=X(i),[a]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Di(t.emitsOptions,f))continue;const _=e[f];if(a)if(te(r,f))_!==r[f]&&(r[f]=_,c=!0);else{const g=$t(f);i[g]=Or(a,l,g,_,t,!1)}else _!==r[f]&&(r[f]=_,c=!0)}}}else{Gc(t,e,i,r)&&(c=!0);let u;for(const h in l)(!e||!te(e,h)&&((u=_n(h))===h||!te(e,u)))&&(a?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=Or(a,l,h,void 0,t,!0)):delete i[h]);if(r!==l)for(const h in r)(!e||!te(e,h))&&(delete r[h],c=!0)}c&&Ct(t.attrs,"set","")}function Gc(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(es(a))continue;const c=e[a];let u;i&&te(i,u=$t(a))?!r||!r.includes(u)?n[u]=c:(l||(l={}))[u]=c:Di(t.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(r){const a=X(n),c=l||ue;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Or(i,a,h,c[h],t,!te(c,h))}}return o}function Or(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=te(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&V(a)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Ls(i);s=c[n]=a.call(null,e),u()}}else s=a;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===_n(n))&&(s=!0))}return s}const vd=new WeakMap;function Vc(t,e,n=!1){const s=n?vd:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let a=!1;if(!V(t)){const u=h=>{a=!0;const[f,_]=Vc(h,e,!0);we(o,f),_&&l.push(..._)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!a)return de(t)&&s.set(t,wn),wn;if(W(r))for(let u=0;u<r.length;u++){const h=$t(r[u]);yl(h)&&(o[h]=ue)}else if(r)for(const u in r){const h=$t(u);if(yl(h)){const f=r[u],_=o[h]=W(f)||V(f)?{type:f}:we({},f),g=_.type;let C=!1,D=!0;if(W(g))for(let k=0;k<g.length;++k){const x=g[k],M=V(x)&&x.name;if(M==="Boolean"){C=!0;break}else M==="String"&&(D=!1)}else C=V(g)&&g.name==="Boolean";_[0]=C,_[1]=D,(C||te(_,"default"))&&l.push(h)}}const c=[o,l];return de(t)&&s.set(t,c),c}function yl(t){return t[0]!=="$"&&!es(t)}const jc=t=>t[0]==="_"||t==="$stable",bo=t=>W(t)?t.map(ft):[ft(t)],yd=(t,e,n)=>{if(e._n)return e;const s=qf((...i)=>bo(e(...i)),n);return s._c=!1,s},$c=(t,e,n)=>{const s=t._ctx;for(const i in t){if(jc(i))continue;const r=t[i];if(V(r))e[i]=yd(i,r,s);else if(r!=null){const o=bo(r);e[i]=()=>o}}},qc=(t,e)=>{const n=bo(e);t.slots.default=()=>n},Kc=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},Ed=(t,e,n)=>{const s=t.slots=Uc();if(t.vnode.shapeFlag&32){const i=e._;i?(Kc(s,e,n),n&&tc(s,"_",i,!0)):$c(e,s)}else e&&qc(t,e)},bd=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=ue;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:Kc(i,e,n):(r=!e.$stable,$c(e,i)),o=e}else e&&(qc(t,e),o={default:1});if(r)for(const l in i)!jc(l)&&o[l]==null&&delete i[l]},ze=Md;function Id(t){return Cd(t)}function Cd(t,e){const n=Ri();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:_=pt,insertStaticContent:g}=t,C=(d,p,m,E=null,v=null,b=null,R=void 0,w=null,S=!!p.dynamicChildren)=>{if(d===p)return;d&&!Kn(d,p)&&(E=y(d),We(d,v,b,!0),d=null),p.patchFlag===-2&&(S=!1,p.dynamicChildren=null);const{type:I,ref:H,shapeFlag:A}=p;switch(I){case ki:D(d,p,m,E);break;case hn:k(d,p,m,E);break;case nr:d==null&&x(p,m,E,R);break;case Xe:je(d,p,m,E,v,b,R,w,S);break;default:A&1?j(d,p,m,E,v,b,R,w,S):A&6?Ue(d,p,m,E,v,b,R,w,S):(A&64||A&128)&&I.process(d,p,m,E,v,b,R,w,S,L)}H!=null&&v&&ii(H,d&&d.ref,b,p||d,!p)},D=(d,p,m,E)=>{if(d==null)s(p.el=l(p.children),m,E);else{const v=p.el=d.el;p.children!==d.children&&c(v,p.children)}},k=(d,p,m,E)=>{d==null?s(p.el=a(p.children||""),m,E):p.el=d.el},x=(d,p,m,E)=>{[d.el,d.anchor]=g(d.children,p,m,E,d.el,d.anchor)},M=({el:d,anchor:p},m,E)=>{let v;for(;d&&d!==p;)v=f(d),s(d,m,E),d=v;s(p,m,E)},P=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),i(d),d=m;i(p)},j=(d,p,m,E,v,b,R,w,S)=>{p.type==="svg"?R="svg":p.type==="math"&&(R="mathml"),d==null?Ie(p,m,E,v,b,R,w,S):z(d,p,v,b,R,w,S)},Ie=(d,p,m,E,v,b,R,w)=>{let S,I;const{props:H,shapeFlag:A,transition:F,dirs:U}=d;if(S=d.el=o(d.type,b,H&&H.is,H),A&8?u(S,d.children):A&16&&K(d.children,S,null,E,v,er(d,b),R,w),U&&Zt(d,null,E,"created"),ne(S,d,d.scopeId,R,E),H){for(const oe in H)oe!=="value"&&!es(oe)&&r(S,oe,null,H[oe],b,E);"value"in H&&r(S,"value",null,H.value,b),(I=H.onVnodeBeforeMount)&&ct(I,E,d)}U&&Zt(d,null,E,"beforeMount");const Q=Td(v,F);Q&&F.beforeEnter(S),s(S,p,m),((I=H&&H.onVnodeMounted)||Q||U)&&ze(()=>{I&&ct(I,E,d),Q&&F.enter(S),U&&Zt(d,null,E,"mounted")},v)},ne=(d,p,m,E,v)=>{if(m&&_(d,m),E)for(let b=0;b<E.length;b++)_(d,E[b]);if(v){let b=v.subTree;if(p===b||Zc(b.type)&&(b.ssContent===p||b.ssFallback===p)){const R=v.vnode;ne(d,R,R.scopeId,R.slotScopeIds,v.parent)}}},K=(d,p,m,E,v,b,R,w,S=0)=>{for(let I=S;I<d.length;I++){const H=d[I]=w?Lt(d[I]):ft(d[I]);C(null,H,p,m,E,v,b,R,w)}},z=(d,p,m,E,v,b,R)=>{const w=p.el=d.el;let{patchFlag:S,dynamicChildren:I,dirs:H}=p;S|=d.patchFlag&16;const A=d.props||ue,F=p.props||ue;let U;if(m&&en(m,!1),(U=F.onVnodeBeforeUpdate)&&ct(U,m,p,d),H&&Zt(p,d,m,"beforeUpdate"),m&&en(m,!0),(A.innerHTML&&F.innerHTML==null||A.textContent&&F.textContent==null)&&u(w,""),I?pe(d.dynamicChildren,I,w,m,E,er(p,v),b):R||Z(d,p,w,null,m,E,er(p,v),b,!1),S>0){if(S&16)De(w,A,F,m,v);else if(S&2&&A.class!==F.class&&r(w,"class",null,F.class,v),S&4&&r(w,"style",A.style,F.style,v),S&8){const Q=p.dynamicProps;for(let oe=0;oe<Q.length;oe++){const ie=Q[oe],$e=A[ie],Ae=F[ie];(Ae!==$e||ie==="value")&&r(w,ie,$e,Ae,v,m)}}S&1&&d.children!==p.children&&u(w,p.children)}else!R&&I==null&&De(w,A,F,m,v);((U=F.onVnodeUpdated)||H)&&ze(()=>{U&&ct(U,m,p,d),H&&Zt(p,d,m,"updated")},E)},pe=(d,p,m,E,v,b,R)=>{for(let w=0;w<p.length;w++){const S=d[w],I=p[w],H=S.el&&(S.type===Xe||!Kn(S,I)||S.shapeFlag&70)?h(S.el):m;C(S,I,H,null,E,v,b,R,!0)}},De=(d,p,m,E,v)=>{if(p!==m){if(p!==ue)for(const b in p)!es(b)&&!(b in m)&&r(d,b,p[b],null,v,E);for(const b in m){if(es(b))continue;const R=m[b],w=p[b];R!==w&&b!=="value"&&r(d,b,w,R,v,E)}"value"in m&&r(d,"value",p.value,m.value,v)}},je=(d,p,m,E,v,b,R,w,S)=>{const I=p.el=d?d.el:l(""),H=p.anchor=d?d.anchor:l("");let{patchFlag:A,dynamicChildren:F,slotScopeIds:U}=p;U&&(w=w?w.concat(U):U),d==null?(s(I,m,E),s(H,m,E),K(p.children||[],m,H,v,b,R,w,S)):A>0&&A&64&&F&&d.dynamicChildren?(pe(d.dynamicChildren,F,m,v,b,R,w),(p.key!=null||v&&p===v.subTree)&&zc(d,p,!0)):Z(d,p,m,H,v,b,R,w,S)},Ue=(d,p,m,E,v,b,R,w,S)=>{p.slotScopeIds=w,d==null?p.shapeFlag&512?v.ctx.activate(p,m,E,R,S):Jt(p,m,E,v,b,R,S):Ot(d,p,S)},Jt=(d,p,m,E,v,b,R)=>{const w=d.component=Vd(d,E,v);if(Pc(d)&&(w.ctx.renderer=L),jd(w,!1,R),w.asyncDep){if(v&&v.registerDep(w,fe,R),!d.el){const S=w.subTree=He(hn);k(null,S,p,m)}}else fe(w,d,p,m,v,b,R)},Ot=(d,p,m)=>{const E=p.component=d.component;if(Dd(d,p,m))if(E.asyncDep&&!E.asyncResolved){G(E,p,m);return}else E.next=p,E.update();else p.el=d.el,E.vnode=p},fe=(d,p,m,E,v,b,R)=>{const w=()=>{if(d.isMounted){let{next:A,bu:F,u:U,parent:Q,vnode:oe}=d;{const qe=Yc(d);if(qe){A&&(A.el=oe.el,G(d,A,R)),qe.asyncDep.then(()=>{d.isUnmounted||w()});return}}let ie=A,$e;en(d,!1),A?(A.el=oe.el,G(d,A,R)):A=oe,F&&zi(F),($e=A.props&&A.props.onVnodeBeforeUpdate)&&ct($e,Q,A,oe),en(d,!0);const Ae=tr(d),et=d.subTree;d.subTree=Ae,C(et,Ae,h(et.el),y(et),d,v,b),A.el=Ae.el,ie===null&&kd(d,Ae.el),U&&ze(U,v),($e=A.props&&A.props.onVnodeUpdated)&&ze(()=>ct($e,Q,A,oe),v)}else{let A;const{el:F,props:U}=p,{bm:Q,m:oe,parent:ie,root:$e,type:Ae}=d,et=ss(p);if(en(d,!1),Q&&zi(Q),!et&&(A=U&&U.onVnodeBeforeMount)&&ct(A,ie,p),en(d,!0),F&&_e){const qe=()=>{d.subTree=tr(d),_e(F,d.subTree,d,v,null)};et&&Ae.__asyncHydrate?Ae.__asyncHydrate(F,d,qe):qe()}else{$e.ce&&$e.ce._injectChildStyle(Ae);const qe=d.subTree=tr(d);C(null,qe,m,E,d,v,b),p.el=qe.el}if(oe&&ze(oe,v),!et&&(A=U&&U.onVnodeMounted)){const qe=p;ze(()=>ct(A,ie,qe),v)}(p.shapeFlag&256||ie&&ss(ie.vnode)&&ie.vnode.shapeFlag&256)&&d.a&&ze(d.a,v),d.isMounted=!0,p=m=E=null}};d.scope.on();const S=d.effect=new ac(w);d.scope.off();const I=d.update=S.run.bind(S),H=d.job=S.runIfDirty.bind(S);H.i=d,H.id=d.uid,S.scheduler=()=>vo(H),en(d,!0),I()},G=(d,p,m)=>{p.component=d;const E=d.vnode.props;d.vnode=p,d.next=null,gd(d,p.props,E,m),bd(d,p.children,m),Qt(),pl(d),Xt()},Z=(d,p,m,E,v,b,R,w,S=!1)=>{const I=d&&d.children,H=d?d.shapeFlag:0,A=p.children,{patchFlag:F,shapeFlag:U}=p;if(F>0){if(F&128){xt(I,A,m,E,v,b,R,w,S);return}else if(F&256){yt(I,A,m,E,v,b,R,w,S);return}}U&8?(H&16&&Qe(I,v,b),A!==I&&u(m,A)):H&16?U&16?xt(I,A,m,E,v,b,R,w,S):Qe(I,v,b,!0):(H&8&&u(m,""),U&16&&K(A,m,E,v,b,R,w,S))},yt=(d,p,m,E,v,b,R,w,S)=>{d=d||wn,p=p||wn;const I=d.length,H=p.length,A=Math.min(I,H);let F;for(F=0;F<A;F++){const U=p[F]=S?Lt(p[F]):ft(p[F]);C(d[F],U,m,null,v,b,R,w,S)}I>H?Qe(d,v,b,!0,!1,A):K(p,m,E,v,b,R,w,S,A)},xt=(d,p,m,E,v,b,R,w,S)=>{let I=0;const H=p.length;let A=d.length-1,F=H-1;for(;I<=A&&I<=F;){const U=d[I],Q=p[I]=S?Lt(p[I]):ft(p[I]);if(Kn(U,Q))C(U,Q,m,null,v,b,R,w,S);else break;I++}for(;I<=A&&I<=F;){const U=d[A],Q=p[F]=S?Lt(p[F]):ft(p[F]);if(Kn(U,Q))C(U,Q,m,null,v,b,R,w,S);else break;A--,F--}if(I>A){if(I<=F){const U=F+1,Q=U<H?p[U].el:E;for(;I<=F;)C(null,p[I]=S?Lt(p[I]):ft(p[I]),m,Q,v,b,R,w,S),I++}}else if(I>F)for(;I<=A;)We(d[I],v,b,!0),I++;else{const U=I,Q=I,oe=new Map;for(I=Q;I<=F;I++){const Ke=p[I]=S?Lt(p[I]):ft(p[I]);Ke.key!=null&&oe.set(Ke.key,I)}let ie,$e=0;const Ae=F-Q+1;let et=!1,qe=0;const $n=new Array(Ae);for(I=0;I<Ae;I++)$n[I]=0;for(I=U;I<=A;I++){const Ke=d[I];if($e>=Ae){We(Ke,v,b,!0);continue}let at;if(Ke.key!=null)at=oe.get(Ke.key);else for(ie=Q;ie<=F;ie++)if($n[ie-Q]===0&&Kn(Ke,p[ie])){at=ie;break}at===void 0?We(Ke,v,b,!0):($n[at-Q]=I+1,at>=qe?qe=at:et=!0,C(Ke,p[at],m,null,v,b,R,w,S),$e++)}const cl=et?Sd($n):wn;for(ie=cl.length-1,I=Ae-1;I>=0;I--){const Ke=Q+I,at=p[Ke],ul=Ke+1<H?p[Ke+1].el:E;$n[I]===0?C(null,at,m,ul,v,b,R,w,S):et&&(ie<0||I!==cl[ie]?lt(at,m,ul,2):ie--)}}},lt=(d,p,m,E,v=null)=>{const{el:b,type:R,transition:w,children:S,shapeFlag:I}=d;if(I&6){lt(d.component.subTree,p,m,E);return}if(I&128){d.suspense.move(p,m,E);return}if(I&64){R.move(d,p,m,L);return}if(R===Xe){s(b,p,m);for(let A=0;A<S.length;A++)lt(S[A],p,m,E);s(d.anchor,p,m);return}if(R===nr){M(d,p,m);return}if(E!==2&&I&1&&w)if(E===0)w.beforeEnter(b),s(b,p,m),ze(()=>w.enter(b),v);else{const{leave:A,delayLeave:F,afterLeave:U}=w,Q=()=>s(b,p,m),oe=()=>{A(b,()=>{Q(),U&&U()})};F?F(b,Q,oe):oe()}else s(b,p,m)},We=(d,p,m,E=!1,v=!1)=>{const{type:b,props:R,ref:w,children:S,dynamicChildren:I,shapeFlag:H,patchFlag:A,dirs:F,cacheIndex:U}=d;if(A===-2&&(v=!1),w!=null&&ii(w,null,m,d,!0),U!=null&&(p.renderCache[U]=void 0),H&256){p.ctx.deactivate(d);return}const Q=H&1&&F,oe=!ss(d);let ie;if(oe&&(ie=R&&R.onVnodeBeforeUnmount)&&ct(ie,p,d),H&6)js(d.component,m,E);else{if(H&128){d.suspense.unmount(m,E);return}Q&&Zt(d,null,p,"beforeUnmount"),H&64?d.type.remove(d,p,m,L,E):I&&!I.hasOnce&&(b!==Xe||A>0&&A&64)?Qe(I,p,m,!1,!0):(b===Xe&&A&384||!v&&H&16)&&Qe(S,p,m),E&&vn(d)}(oe&&(ie=R&&R.onVnodeUnmounted)||Q)&&ze(()=>{ie&&ct(ie,p,d),Q&&Zt(d,null,p,"unmounted")},m)},vn=d=>{const{type:p,el:m,anchor:E,transition:v}=d;if(p===Xe){yn(m,E);return}if(p===nr){P(d);return}const b=()=>{i(m),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:R,delayLeave:w}=v,S=()=>R(m,b);w?w(d.el,b,S):S()}else b()},yn=(d,p)=>{let m;for(;d!==p;)m=f(d),i(d),d=m;i(p)},js=(d,p,m)=>{const{bum:E,scope:v,job:b,subTree:R,um:w,m:S,a:I}=d;El(S),El(I),E&&zi(E),v.stop(),b&&(b.flags|=8,We(R,d,p,m)),w&&ze(w,p),ze(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Qe=(d,p,m,E=!1,v=!1,b=0)=>{for(let R=b;R<d.length;R++)We(d[R],p,m,E,v)},y=d=>{if(d.shapeFlag&6)return y(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=f(d.anchor||d.el),m=p&&p[Kf];return m?f(m):p};let O=!1;const N=(d,p,m)=>{d==null?p._vnode&&We(p._vnode,null,null,!0):C(p._vnode||null,d,p,null,null,null,m),p._vnode=d,O||(O=!0,pl(),Nc(),O=!1)},L={p:C,um:We,m:lt,r:vn,mt:Jt,mc:K,pc:Z,pbc:pe,n:y,o:t};let se,_e;return{render:N,hydrate:se,createApp:pd(N,se)}}function er({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function en({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Td(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zc(t,e,n=!1){const s=t.children,i=e.children;if(W(s)&&W(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Lt(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&zc(o,l)),l.type===ki&&(l.el=o.el)}}function Sd(t){const e=t.slice(),n=[0];let s,i,r,o,l;const a=t.length;for(s=0;s<a;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<c?r=l+1:o=l;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Yc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Yc(e)}function El(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const wd=Symbol.for("v-scx"),Rd=()=>_t(wd);function rs(t,e,n){return Qc(t,e,n)}function Qc(t,e,n=ue){const{immediate:s,deep:i,flush:r,once:o}=n,l=we({},n),a=e&&s||!e&&r!=="post";let c;if(ys){if(r==="sync"){const _=Rd();c=_.__watcherHandles||(_.__watcherHandles=[])}else if(!a){const _=()=>{};return _.stop=pt,_.resume=pt,_.pause=pt,_}}const u=Pe;l.call=(_,g,C)=>mt(_,u,g,C);let h=!1;r==="post"?l.scheduler=_=>{ze(_,u&&u.suspense)}:r!=="sync"&&(h=!0,l.scheduler=(_,g)=>{g?_():vo(_)}),l.augmentJob=_=>{e&&(_.flags|=4),h&&(_.flags|=2,u&&(_.id=u.uid,_.i=u))};const f=Gf(t,e,l);return ys&&(c?c.push(f):a&&f()),f}function Nd(t,e,n){const s=this.proxy,i=Ee(t)?t.includes(".")?Xc(s,t):()=>s[t]:t.bind(s,s);let r;V(e)?r=e:(r=e.handler,n=e);const o=Ls(this),l=Qc(i,r.bind(s),n);return o(),l}function Xc(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const Ad=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${$t(e)}Modifiers`]||t[`${_n(e)}Modifiers`];function Od(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ue;let i=n;const r=e.startsWith("update:"),o=r&&Ad(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>Ee(u)?u.trim():u)),o.number&&(i=n.map(of)));let l,a=s[l=Ki(e)]||s[l=Ki($t(e))];!a&&r&&(a=s[l=Ki(_n(e))]),a&&mt(a,t,6,i);const c=s[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,mt(c,t,6,i)}}function Jc(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!V(t)){const a=c=>{const u=Jc(c,e,!0);u&&(l=!0,we(o,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!l?(de(t)&&s.set(t,null),null):(W(r)?r.forEach(a=>o[a]=null):we(o,r),de(t)&&s.set(t,o),o)}function Di(t,e){return!t||!Ti(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(t,e[0].toLowerCase()+e.slice(1))||te(t,_n(e))||te(t,e))}function tr(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:a,render:c,renderCache:u,props:h,data:f,setupState:_,ctx:g,inheritAttrs:C}=t,D=si(t);let k,x;try{if(n.shapeFlag&4){const P=i||s,j=P;k=ft(c.call(j,P,u,h,_,f,g)),x=l}else{const P=e;k=ft(P.length>1?P(h,{attrs:l,slots:o,emit:a}):P(h,null)),x=e.props?l:xd(l)}}catch(P){os.length=0,xi(P,t,1),k=He(hn)}let M=k;if(x&&C!==!1){const P=Object.keys(x),{shapeFlag:j}=M;P.length&&j&7&&(r&&P.some(io)&&(x=Pd(x,r)),M=Pn(M,x,!1,!0))}return n.dirs&&(M=Pn(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&yo(M,n.transition),k=M,si(D),k}const xd=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ti(n))&&((e||(e={}))[n]=t[n]);return e},Pd=(t,e)=>{const n={};for(const s in t)(!io(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Dd(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:a}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?bl(s,o,c):!!o;if(a&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Di(c,f))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?bl(s,o,c):!0:!!o;return!1}function bl(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Di(n,r))return!0}return!1}function kd({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Zc=t=>t.__isSuspense;function Md(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):$f(t)}const Xe=Symbol.for("v-fgt"),ki=Symbol.for("v-txt"),hn=Symbol.for("v-cmt"),nr=Symbol.for("v-stc"),os=[];let Ye=null;function ht(t=!1){os.push(Ye=t?null:[])}function Ld(){os.pop(),Ye=os[os.length-1]||null}let vs=1;function Il(t,e=!1){vs+=t,t<0&&Ye&&e&&(Ye.hasOnce=!0)}function eu(t){return t.dynamicChildren=vs>0?Ye||wn:null,Ld(),vs>0&&Ye&&Ye.push(t),t}function Mt(t,e,n,s,i,r){return eu(dt(t,e,n,s,i,r,!0))}function tu(t,e,n,s,i){return eu(He(t,e,n,s,i,!0))}function oi(t){return t?t.__v_isVNode===!0:!1}function Kn(t,e){return t.type===e.type&&t.key===e.key}const nu=({key:t})=>t??null,Xs=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ee(t)||ve(t)||V(t)?{i:nt,r:t,k:e,f:!!n}:t:null);function dt(t,e=null,n=null,s=0,i=null,r=t===Xe?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&nu(e),ref:e&&Xs(e),scopeId:Oc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:nt};return l?(Io(a,n),r&128&&t.normalize(a)):n&&(a.shapeFlag|=Ee(n)?8:16),vs>0&&!o&&Ye&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&Ye.push(a),a}const He=Fd;function Fd(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===rd)&&(t=hn),oi(t)){const l=Pn(t,e,!0);return n&&Io(l,n),vs>0&&!r&&Ye&&(l.shapeFlag&6?Ye[Ye.indexOf(t)]=l:Ye.push(l)),l.patchFlag=-2,l}if(zd(t)&&(t=t.__vccOpts),e){e=Hd(e);let{class:l,style:a}=e;l&&!Ee(l)&&(e.class=Ni(l)),de(a)&&(_o(a)&&!W(a)&&(a=we({},a)),e.style=lo(a))}const o=Ee(t)?1:Zc(t)?128:zf(t)?64:de(t)?4:V(t)?2:0;return dt(t,e,n,s,i,o,r,!0)}function Hd(t){return t?_o(t)||Wc(t)?we({},t):t:null}function Pn(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:a}=t,c=e?Ud(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&nu(c),ref:e&&e.ref?n&&r?W(r)?r.concat(Xs(e)):[r,Xs(e)]:Xs(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pn(t.ssContent),ssFallback:t.ssFallback&&Pn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&s&&yo(u,a.clone(u)),u}function Bd(t=" ",e=0){return He(ki,null,t,e)}function sr(t="",e=!1){return e?(ht(),tu(hn,null,t)):He(hn,null,t)}function ft(t){return t==null||typeof t=="boolean"?He(hn):W(t)?He(Xe,null,t.slice()):oi(t)?Lt(t):He(ki,null,String(t))}function Lt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pn(t)}function Io(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(W(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Io(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Wc(e)?e._ctx=nt:i===3&&nt&&(nt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else V(e)?(e={default:e,_ctx:nt},n=32):(e=String(e),s&64?(n=16,e=[Bd(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ud(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ni([e.class,s.class]));else if(i==="style")e.style=lo([e.style,s.style]);else if(Ti(i)){const r=e[i],o=s[i];o&&r!==o&&!(W(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function ct(t,e,n,s=null){mt(t,e,7,[n,s])}const Wd=Hc();let Gd=0;function Vd(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||Wd,r={uid:Gd++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vc(s,i),emitsOptions:Jc(s,i),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:s.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Od.bind(null,r),t.ce&&t.ce(r),r}let Pe=null,li,xr;{const t=Ri(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};li=e("__VUE_INSTANCE_SETTERS__",n=>Pe=n),xr=e("__VUE_SSR_SETTERS__",n=>ys=n)}const Ls=t=>{const e=Pe;return li(t),t.scope.on(),()=>{t.scope.off(),li(e)}},Cl=()=>{Pe&&Pe.scope.off(),li(null)};function su(t){return t.vnode.shapeFlag&4}let ys=!1;function jd(t,e=!1,n=!1){e&&xr(e);const{props:s,children:i}=t.vnode,r=su(t);md(t,s,r,e),Ed(t,i,n);const o=r?$d(t,e):void 0;return e&&xr(!1),o}function $d(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ld);const{setup:s}=n;if(s){Qt();const i=t.setupContext=s.length>1?Kd(t):null,r=Ls(t),o=Ms(s,t,0,[t.props,i]),l=Xa(o);if(Xt(),r(),(l||t.sp)&&!ss(t)&&xc(t),l){if(o.then(Cl,Cl),e)return o.then(a=>{Tl(t,a,e)}).catch(a=>{xi(a,t,0)});t.asyncDep=o}else Tl(t,o,e)}else iu(t,e)}function Tl(t,e,n){V(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:de(e)&&(t.setupState=Sc(e)),iu(t,n)}let Sl;function iu(t,e,n){const s=t.type;if(!t.render){if(!e&&Sl&&!s.render){const i=s.template||Eo(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=s,c=we(we({isCustomElement:r,delimiters:l},o),a);s.render=Sl(i,c)}}t.render=s.render||pt}{const i=Ls(t);Qt();try{ad(t)}finally{Xt(),i()}}}const qd={get(t,e){return Oe(t,"get",""),t[e]}};function Kd(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,qd),slots:t.slots,emit:t.emit,expose:e}}function Co(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Sc(mo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in is)return is[n](t)},has(e,n){return n in e||n in is}})):t.proxy}function zd(t){return V(t)&&"__vccOpts"in t}const Fe=(t,e)=>Uf(t,e,ys);function ru(t,e,n){const s=arguments.length;return s===2?de(e)&&!W(e)?oi(e)?He(t,null,[e]):He(t,e):He(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&oi(n)&&(n=[n]),He(t,e,n))}const Yd="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pr;const wl=typeof window<"u"&&window.trustedTypes;if(wl)try{Pr=wl.createPolicy("vue",{createHTML:t=>t})}catch{}const ou=Pr?t=>Pr.createHTML(t):t=>t,Qd="http://www.w3.org/2000/svg",Xd="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,Rl=It&&It.createElement("template"),Jd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?It.createElementNS(Qd,t):e==="mathml"?It.createElementNS(Xd,t):n?It.createElement(t,{is:n}):It.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>It.createTextNode(t),createComment:t=>It.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>It.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Rl.innerHTML=ou(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=Rl.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Zd=Symbol("_vtc");function ep(t,e,n){const s=t[Zd];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Nl=Symbol("_vod"),tp=Symbol("_vsh"),np=Symbol(""),sp=/(^|;)\s*display\s*:/;function ip(t,e,n){const s=t.style,i=Ee(n);let r=!1;if(n&&!i){if(e)if(Ee(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Js(s,l,"")}else for(const o in e)n[o]==null&&Js(s,o,"");for(const o in n)o==="display"&&(r=!0),Js(s,o,n[o])}else if(i){if(e!==n){const o=s[np];o&&(n+=";"+o),s.cssText=n,r=sp.test(n)}}else e&&t.removeAttribute("style");Nl in t&&(t[Nl]=r?s.display:"",t[tp]&&(s.display="none"))}const Al=/\s*!important$/;function Js(t,e,n){if(W(n))n.forEach(s=>Js(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=rp(t,e);Al.test(n)?t.setProperty(_n(s),n.replace(Al,""),"important"):t[s]=n}}const Ol=["Webkit","Moz","ms"],ir={};function rp(t,e){const n=ir[e];if(n)return n;let s=$t(e);if(s!=="filter"&&s in t)return ir[e]=s;s=ec(s);for(let i=0;i<Ol.length;i++){const r=Ol[i]+s;if(r in t)return ir[e]=r}return e}const xl="http://www.w3.org/1999/xlink";function Pl(t,e,n,s,i,r=ff(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(xl,e.slice(6,e.length)):t.setAttributeNS(xl,e,n):n==null||r&&!nc(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Yt(n)?String(n):n)}function Dl(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?ou(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=nc(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function op(t,e,n,s){t.addEventListener(e,n,s)}function lp(t,e,n,s){t.removeEventListener(e,n,s)}const kl=Symbol("_vei");function ap(t,e,n,s,i=null){const r=t[kl]||(t[kl]={}),o=r[e];if(s&&o)o.value=s;else{const[l,a]=cp(e);if(s){const c=r[e]=fp(s,i);op(t,l,c,a)}else o&&(lp(t,l,o,a),r[e]=void 0)}}const Ml=/(?:Once|Passive|Capture)$/;function cp(t){let e;if(Ml.test(t)){e={};let s;for(;s=t.match(Ml);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_n(t.slice(2)),e]}let rr=0;const up=Promise.resolve(),hp=()=>rr||(up.then(()=>rr=0),rr=Date.now());function fp(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;mt(dp(s,n.value),e,5,[s])};return n.value=t,n.attached=hp(),n}function dp(t,e){if(W(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Ll=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,pp=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?ep(t,s,o):e==="style"?ip(t,n,s):Ti(e)?io(e)||ap(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_p(t,e,s,o))?(Dl(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Pl(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ee(s))?Dl(t,$t(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Pl(t,e,s,o))};function _p(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ll(e)&&V(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ll(e)&&Ee(n)?!1:e in t}const mp=we({patchProp:pp},Jd);let Fl;function gp(){return Fl||(Fl=Id(mp))}const vp=(...t)=>{const e=gp().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=Ep(s);if(!i)return;const r=e._component;!V(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,yp(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function yp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ep(t){return Ee(t)?document.querySelector(t):t}var bp=!1;/*!
 * pinia v2.2.7
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let lu;const Mi=t=>lu=t,au=Symbol();function Dr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ls;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ls||(ls={}));function Ip(){const t=oc(!0),e=t.run(()=>Oi({}));let n=[],s=[];const i=mo({install(r){Mi(i),i._a=r,r.provide(au,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!bp?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const cu=()=>{};function Hl(t,e,n,s=cu){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&lc()&&df(i),i}function bn(t,...e){t.slice().forEach(n=>{n(...e)})}const Cp=t=>t(),Bl=Symbol(),or=Symbol();function kr(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];Dr(i)&&Dr(s)&&t.hasOwnProperty(n)&&!ve(s)&&!Ut(s)?t[n]=kr(i,s):t[n]=s}return t}const Tp=Symbol();function Sp(t){return!Dr(t)||!t.hasOwnProperty(Tp)}const{assign:Dt}=Object;function wp(t){return!!(ve(t)&&t.effect)}function Rp(t,e,n,s){const{state:i,actions:r,getters:o}=e,l=n.state.value[t];let a;function c(){l||(n.state.value[t]=i?i():{});const u=Lf(n.state.value[t]);return Dt(u,r,Object.keys(o||{}).reduce((h,f)=>(h[f]=mo(Fe(()=>{Mi(n);const _=n._s.get(t);return o[f].call(_,_)})),h),{}))}return a=uu(t,c,e,n,s,!0),a}function uu(t,e,n={},s,i,r){let o;const l=Dt({actions:{}},n),a={deep:!0};let c,u,h=[],f=[],_;const g=s.state.value[t];!r&&!g&&(s.state.value[t]={}),Oi({});let C;function D(K){let z;c=u=!1,typeof K=="function"?(K(s.state.value[t]),z={type:ls.patchFunction,storeId:t,events:_}):(kr(s.state.value[t],K),z={type:ls.patchObject,payload:K,storeId:t,events:_});const pe=C=Symbol();go().then(()=>{C===pe&&(c=!0)}),u=!0,bn(h,z,s.state.value[t])}const k=r?function(){const{state:z}=n,pe=z?z():{};this.$patch(De=>{Dt(De,pe)})}:cu;function x(){o.stop(),h=[],f=[],s._s.delete(t)}const M=(K,z="")=>{if(Bl in K)return K[or]=z,K;const pe=function(){Mi(s);const De=Array.from(arguments),je=[],Ue=[];function Jt(G){je.push(G)}function Ot(G){Ue.push(G)}bn(f,{args:De,name:pe[or],store:j,after:Jt,onError:Ot});let fe;try{fe=K.apply(this&&this.$id===t?this:j,De)}catch(G){throw bn(Ue,G),G}return fe instanceof Promise?fe.then(G=>(bn(je,G),G)).catch(G=>(bn(Ue,G),Promise.reject(G))):(bn(je,fe),fe)};return pe[Bl]=!0,pe[or]=z,pe},P={_p:s,$id:t,$onAction:Hl.bind(null,f),$patch:D,$reset:k,$subscribe(K,z={}){const pe=Hl(h,K,z.detached,()=>De()),De=o.run(()=>rs(()=>s.state.value[t],je=>{(z.flush==="sync"?u:c)&&K({storeId:t,type:ls.direct,events:_},je)},Dt({},a,z)));return pe},$dispose:x},j=ks(P);s._s.set(t,j);const ne=(s._a&&s._a.runWithContext||Cp)(()=>s._e.run(()=>(o=oc()).run(()=>e({action:M}))));for(const K in ne){const z=ne[K];if(ve(z)&&!wp(z)||Ut(z))r||(g&&Sp(z)&&(ve(z)?z.value=g[K]:kr(z,g[K])),s.state.value[t][K]=z);else if(typeof z=="function"){const pe=M(z,K);ne[K]=pe,l.actions[K]=z}}return Dt(j,ne),Dt(X(j),ne),Object.defineProperty(j,"$state",{get:()=>s.state.value[t],set:K=>{D(z=>{Dt(z,K)})}}),s._p.forEach(K=>{Dt(j,o.run(()=>K({store:j,app:s._a,pinia:s,options:l})))}),g&&r&&n.hydrate&&n.hydrate(j.$state,g),c=!0,u=!0,j}/*! #__NO_SIDE_EFFECTS__ */function Np(t,e,n){let s,i;const r=typeof e=="function";s=t,i=r?n:e;function o(l,a){const c=_d();return l=l||(c?_t(au,null):null),l&&Mi(l),l=lu,l._s.has(s)||(r?uu(s,e,i,l):Rp(s,i,l)),l._s.get(s)}return o.$id=s,o}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Tn=typeof document<"u";function hu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Ap(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&hu(t.default)}const ee=Object.assign;function lr(t,e){const n={};for(const s in e){const i=e[s];n[s]=ot(i)?i.map(t):t(i)}return n}const as=()=>{},ot=Array.isArray,fu=/#/g,Op=/&/g,xp=/\//g,Pp=/=/g,Dp=/\?/g,du=/\+/g,kp=/%5B/g,Mp=/%5D/g,pu=/%5E/g,Lp=/%60/g,_u=/%7B/g,Fp=/%7C/g,mu=/%7D/g,Hp=/%20/g;function To(t){return encodeURI(""+t).replace(Fp,"|").replace(kp,"[").replace(Mp,"]")}function Bp(t){return To(t).replace(_u,"{").replace(mu,"}").replace(pu,"^")}function Mr(t){return To(t).replace(du,"%2B").replace(Hp,"+").replace(fu,"%23").replace(Op,"%26").replace(Lp,"`").replace(_u,"{").replace(mu,"}").replace(pu,"^")}function Up(t){return Mr(t).replace(Pp,"%3D")}function Wp(t){return To(t).replace(fu,"%23").replace(Dp,"%3F")}function Gp(t){return t==null?"":Wp(t).replace(xp,"%2F")}function Es(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Vp=/\/$/,jp=t=>t.replace(Vp,"");function ar(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),i=t(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=zp(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Es(o)}}function $p(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ul(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function qp(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Dn(e.matched[s],n.matched[i])&&gu(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Dn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function gu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Kp(t[n],e[n]))return!1;return!0}function Kp(t,e){return ot(t)?Wl(t,e):ot(e)?Wl(e,t):t===e}function Wl(t,e){return ot(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function zp(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var bs;(function(t){t.pop="pop",t.push="push"})(bs||(bs={}));var cs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(cs||(cs={}));function Yp(t){if(!t)if(Tn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),jp(t)}const Qp=/^[^#]+#/;function Xp(t,e){return t.replace(Qp,"#")+e}function Jp(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Li=()=>({left:window.scrollX,top:window.scrollY});function Zp(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Jp(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Gl(t,e){return(history.state?history.state.position-e:-1)+t}const Lr=new Map;function e_(t,e){Lr.set(t,e)}function t_(t){const e=Lr.get(t);return Lr.delete(t),e}let n_=()=>location.protocol+"//"+location.host;function vu(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let l=i.includes(t.slice(r))?t.slice(r).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),Ul(a,"")}return Ul(n,t)+s+i}function s_(t,e,n,s){let i=[],r=[],o=null;const l=({state:f})=>{const _=vu(t,location),g=n.value,C=e.value;let D=0;if(f){if(n.value=_,e.value=f,o&&o===g){o=null;return}D=C?f.position-C.position:0}else s(_);i.forEach(k=>{k(n.value,g,{delta:D,type:bs.pop,direction:D?D>0?cs.forward:cs.back:cs.unknown})})};function a(){o=n.value}function c(f){i.push(f);const _=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return r.push(_),_}function u(){const{history:f}=window;f.state&&f.replaceState(ee({},f.state,{scroll:Li()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:h}}function Vl(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Li():null}}function i_(t){const{history:e,location:n}=window,s={value:vu(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(a,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+a:n_()+t+a;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(_){console.error(_),n[u?"replace":"assign"](f)}}function o(a,c){const u=ee({},e.state,Vl(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});r(a,u,!0),s.value=a}function l(a,c){const u=ee({},i.value,e.state,{forward:a,scroll:Li()});r(u.current,u,!0);const h=ee({},Vl(s.value,a,null),{position:u.position+1},c);r(a,h,!1),s.value=a}return{location:s,state:i,push:l,replace:o}}function r_(t){t=Yp(t);const e=i_(t),n=s_(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=ee({location:"",base:t,go:s,createHref:Xp.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function o_(t){return typeof t=="string"||t&&typeof t=="object"}function yu(t){return typeof t=="string"||typeof t=="symbol"}const Eu=Symbol("");var jl;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(jl||(jl={}));function kn(t,e){return ee(new Error,{type:t,[Eu]:!0},e)}function bt(t,e){return t instanceof Error&&Eu in t&&(e==null||!!(t.type&e))}const $l="[^/]+?",l_={sensitive:!1,strict:!1,start:!0,end:!0},a_=/[.+*?^${}()[\]/\\]/g;function c_(t,e){const n=ee({},l_,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let _=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(a_,"\\$&"),_+=40;else if(f.type===1){const{value:g,repeatable:C,optional:D,regexp:k}=f;r.push({name:g,repeatable:C,optional:D});const x=k||$l;if(x!==$l){_+=10;try{new RegExp(`(${x})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${g}" (${x}): `+P.message)}}let M=C?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(M=D&&c.length<2?`(?:/${M})`:"/"+M),D&&(M+="?"),i+=M,_+=20,D&&(_+=-8),C&&(_+=-20),x===".*"&&(_+=-50)}u.push(_)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const _=u[f]||"",g=r[f-1];h[g.name]=_&&g.repeatable?_.split("/"):_}return h}function a(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const _ of f)if(_.type===0)u+=_.value;else if(_.type===1){const{value:g,repeatable:C,optional:D}=_,k=g in c?c[g]:"";if(ot(k)&&!C)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const x=ot(k)?k.join("/"):k;if(!x)if(D)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=x}}return u||"/"}return{re:o,score:s,keys:r,parse:l,stringify:a}}function u_(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function bu(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=u_(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(ql(s))return 1;if(ql(i))return-1}return i.length-s.length}function ql(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const h_={type:0,value:""},f_=/[a-zA-Z0-9_]/;function d_(t){if(!t)return[[]];if(t==="/")return[[h_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${n})/"${c}": ${_}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,a,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&h(),o()):a===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:a==="("?n=2:f_.test(a)?f():(h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function p_(t,e,n){const s=c_(d_(t.path),n),i=ee(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function __(t,e){const n=[],s=new Map;e=Ql({strict:!1,end:!0,sensitive:!1},e);function i(h){return s.get(h)}function r(h,f,_){const g=!_,C=zl(h);C.aliasOf=_&&_.record;const D=Ql(e,h),k=[C];if("alias"in h){const P=typeof h.alias=="string"?[h.alias]:h.alias;for(const j of P)k.push(zl(ee({},C,{components:_?_.record.components:C.components,path:j,aliasOf:_?_.record:C})))}let x,M;for(const P of k){const{path:j}=P;if(f&&j[0]!=="/"){const Ie=f.record.path,ne=Ie[Ie.length-1]==="/"?"":"/";P.path=f.record.path+(j&&ne+j)}if(x=p_(P,f,D),_?_.alias.push(x):(M=M||x,M!==x&&M.alias.push(x),g&&h.name&&!Yl(x)&&o(h.name)),Iu(x)&&a(x),C.children){const Ie=C.children;for(let ne=0;ne<Ie.length;ne++)r(Ie[ne],x,_&&_.children[ne])}_=_||x}return M?()=>{o(M)}:as}function o(h){if(yu(h)){const f=s.get(h);f&&(s.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function l(){return n}function a(h){const f=v_(h,n);n.splice(f,0,h),h.record.name&&!Yl(h)&&s.set(h.record.name,h)}function c(h,f){let _,g={},C,D;if("name"in h&&h.name){if(_=s.get(h.name),!_)throw kn(1,{location:h});D=_.record.name,g=ee(Kl(f.params,_.keys.filter(M=>!M.optional).concat(_.parent?_.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),h.params&&Kl(h.params,_.keys.map(M=>M.name))),C=_.stringify(g)}else if(h.path!=null)C=h.path,_=n.find(M=>M.re.test(C)),_&&(g=_.parse(C),D=_.record.name);else{if(_=f.name?s.get(f.name):n.find(M=>M.re.test(f.path)),!_)throw kn(1,{location:h,currentLocation:f});D=_.record.name,g=ee({},f.params,h.params),C=_.stringify(g)}const k=[];let x=_;for(;x;)k.unshift(x.record),x=x.parent;return{name:D,path:C,params:g,matched:k,meta:g_(k)}}t.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:l,getRecordMatcher:i}}function Kl(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function zl(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:m_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function m_(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Yl(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function g_(t){return t.reduce((e,n)=>ee(e,n.meta),{})}function Ql(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function v_(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;bu(t,e[r])<0?s=r:n=r+1}const i=y_(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function y_(t){let e=t;for(;e=e.parent;)if(Iu(e)&&bu(t,e)===0)return e}function Iu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function E_(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(du," "),o=r.indexOf("="),l=Es(o<0?r:r.slice(0,o)),a=o<0?null:Es(r.slice(o+1));if(l in e){let c=e[l];ot(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function Xl(t){let e="";for(let n in t){const s=t[n];if(n=Up(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(ot(s)?s.map(r=>r&&Mr(r)):[s&&Mr(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function b_(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=ot(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const I_=Symbol(""),Jl=Symbol(""),So=Symbol(""),Cu=Symbol(""),Fr=Symbol("");function zn(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ft(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,a)=>{const c=f=>{f===!1?a(kn(4,{from:n,to:e})):f instanceof Error?a(f):o_(f)?a(kn(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),l())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>a(f))})}function cr(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(hu(a)){const u=(a.__vccOpts||a)[e];u&&r.push(Ft(u,n,s,o,l,i))}else{let c=a();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const h=Ap(u)?u.default:u;o.mods[l]=u,o.components[l]=h;const _=(h.__vccOpts||h)[e];return _&&Ft(_,n,s,o,l,i)()}))}}return r}function Zl(t){const e=_t(So),n=_t(Cu),s=Fe(()=>{const a=ye(t.to);return e.resolve(a)}),i=Fe(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Dn.bind(null,u));if(f>-1)return f;const _=ea(a[c-2]);return c>1&&ea(u)===_&&h[h.length-1].path!==_?h.findIndex(Dn.bind(null,a[c-2])):f}),r=Fe(()=>i.value>-1&&R_(n.params,s.value.params)),o=Fe(()=>i.value>-1&&i.value===n.matched.length-1&&gu(n.params,s.value.params));function l(a={}){if(w_(a)){const c=e[ye(t.replace)?"replace":"push"](ye(t.to)).catch(as);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Fe(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function C_(t){return t.length===1?t[0]:t}const T_=Un({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Zl,setup(t,{slots:e}){const n=ks(Zl(t)),{options:s}=_t(So),i=Fe(()=>({[ta(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ta(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&C_(e.default(n));return t.custom?r:ru("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),S_=T_;function w_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function R_(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!ot(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function ea(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ta=(t,e,n)=>t??e??n,N_=Un({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=_t(Fr),i=Fe(()=>t.route||s.value),r=_t(Jl,0),o=Fe(()=>{let c=ye(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),l=Fe(()=>i.value.matched[o.value]);Qs(Jl,Fe(()=>o.value+1)),Qs(I_,l),Qs(Fr,i);const a=Oi();return rs(()=>[a.value,l.value,t.name],([c,u,h],[f,_,g])=>{u&&(u.instances[h]=c,_&&_!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=_.leaveGuards),u.updateGuards.size||(u.updateGuards=_.updateGuards))),c&&u&&(!_||!Dn(u,_)||!f)&&(u.enterCallbacks[h]||[]).forEach(C=>C(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=l.value,f=h&&h.components[u];if(!f)return na(n.default,{Component:f,route:c});const _=h.props[u],g=_?_===!0?c.params:typeof _=="function"?_(c):_:null,D=ru(f,ee({},g,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(h.instances[u]=null)},ref:a}));return na(n.default,{Component:D,route:c})||D}}});function na(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Tu=N_;function A_(t){const e=__(t.routes,t),n=t.parseQuery||E_,s=t.stringifyQuery||Xl,i=t.history,r=zn(),o=zn(),l=zn(),a=Df(Pt);let c=Pt;Tn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=lr.bind(null,y=>""+y),h=lr.bind(null,Gp),f=lr.bind(null,Es);function _(y,O){let N,L;return yu(y)?(N=e.getRecordMatcher(y),L=O):L=y,e.addRoute(L,N)}function g(y){const O=e.getRecordMatcher(y);O&&e.removeRoute(O)}function C(){return e.getRoutes().map(y=>y.record)}function D(y){return!!e.getRecordMatcher(y)}function k(y,O){if(O=ee({},O||a.value),typeof y=="string"){const p=ar(n,y,O.path),m=e.resolve({path:p.path},O),E=i.createHref(p.fullPath);return ee(p,m,{params:f(m.params),hash:Es(p.hash),redirectedFrom:void 0,href:E})}let N;if(y.path!=null)N=ee({},y,{path:ar(n,y.path,O.path).path});else{const p=ee({},y.params);for(const m in p)p[m]==null&&delete p[m];N=ee({},y,{params:h(p)}),O.params=h(O.params)}const L=e.resolve(N,O),se=y.hash||"";L.params=u(f(L.params));const _e=$p(s,ee({},y,{hash:Bp(se),path:L.path})),d=i.createHref(_e);return ee({fullPath:_e,hash:se,query:s===Xl?b_(y.query):y.query||{}},L,{redirectedFrom:void 0,href:d})}function x(y){return typeof y=="string"?ar(n,y,a.value.path):ee({},y)}function M(y,O){if(c!==y)return kn(8,{from:O,to:y})}function P(y){return ne(y)}function j(y){return P(ee(x(y),{replace:!0}))}function Ie(y){const O=y.matched[y.matched.length-1];if(O&&O.redirect){const{redirect:N}=O;let L=typeof N=="function"?N(y):N;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=x(L):{path:L},L.params={}),ee({query:y.query,hash:y.hash,params:L.path!=null?{}:y.params},L)}}function ne(y,O){const N=c=k(y),L=a.value,se=y.state,_e=y.force,d=y.replace===!0,p=Ie(N);if(p)return ne(ee(x(p),{state:typeof p=="object"?ee({},se,p.state):se,force:_e,replace:d}),O||N);const m=N;m.redirectedFrom=O;let E;return!_e&&qp(s,L,N)&&(E=kn(16,{to:m,from:L}),lt(L,L,!0,!1)),(E?Promise.resolve(E):pe(m,L)).catch(v=>bt(v)?bt(v,2)?v:xt(v):Z(v,m,L)).then(v=>{if(v){if(bt(v,2))return ne(ee({replace:d},x(v.to),{state:typeof v.to=="object"?ee({},se,v.to.state):se,force:_e}),O||m)}else v=je(m,L,!0,d,se);return De(m,L,v),v})}function K(y,O){const N=M(y,O);return N?Promise.reject(N):Promise.resolve()}function z(y){const O=yn.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(y):y()}function pe(y,O){let N;const[L,se,_e]=O_(y,O);N=cr(L.reverse(),"beforeRouteLeave",y,O);for(const p of L)p.leaveGuards.forEach(m=>{N.push(Ft(m,y,O))});const d=K.bind(null,y,O);return N.push(d),Qe(N).then(()=>{N=[];for(const p of r.list())N.push(Ft(p,y,O));return N.push(d),Qe(N)}).then(()=>{N=cr(se,"beforeRouteUpdate",y,O);for(const p of se)p.updateGuards.forEach(m=>{N.push(Ft(m,y,O))});return N.push(d),Qe(N)}).then(()=>{N=[];for(const p of _e)if(p.beforeEnter)if(ot(p.beforeEnter))for(const m of p.beforeEnter)N.push(Ft(m,y,O));else N.push(Ft(p.beforeEnter,y,O));return N.push(d),Qe(N)}).then(()=>(y.matched.forEach(p=>p.enterCallbacks={}),N=cr(_e,"beforeRouteEnter",y,O,z),N.push(d),Qe(N))).then(()=>{N=[];for(const p of o.list())N.push(Ft(p,y,O));return N.push(d),Qe(N)}).catch(p=>bt(p,8)?p:Promise.reject(p))}function De(y,O,N){l.list().forEach(L=>z(()=>L(y,O,N)))}function je(y,O,N,L,se){const _e=M(y,O);if(_e)return _e;const d=O===Pt,p=Tn?history.state:{};N&&(L||d?i.replace(y.fullPath,ee({scroll:d&&p&&p.scroll},se)):i.push(y.fullPath,se)),a.value=y,lt(y,O,N,d),xt()}let Ue;function Jt(){Ue||(Ue=i.listen((y,O,N)=>{if(!js.listening)return;const L=k(y),se=Ie(L);if(se){ne(ee(se,{replace:!0,force:!0}),L).catch(as);return}c=L;const _e=a.value;Tn&&e_(Gl(_e.fullPath,N.delta),Li()),pe(L,_e).catch(d=>bt(d,12)?d:bt(d,2)?(ne(ee(x(d.to),{force:!0}),L).then(p=>{bt(p,20)&&!N.delta&&N.type===bs.pop&&i.go(-1,!1)}).catch(as),Promise.reject()):(N.delta&&i.go(-N.delta,!1),Z(d,L,_e))).then(d=>{d=d||je(L,_e,!1),d&&(N.delta&&!bt(d,8)?i.go(-N.delta,!1):N.type===bs.pop&&bt(d,20)&&i.go(-1,!1)),De(L,_e,d)}).catch(as)}))}let Ot=zn(),fe=zn(),G;function Z(y,O,N){xt(y);const L=fe.list();return L.length?L.forEach(se=>se(y,O,N)):console.error(y),Promise.reject(y)}function yt(){return G&&a.value!==Pt?Promise.resolve():new Promise((y,O)=>{Ot.add([y,O])})}function xt(y){return G||(G=!y,Jt(),Ot.list().forEach(([O,N])=>y?N(y):O()),Ot.reset()),y}function lt(y,O,N,L){const{scrollBehavior:se}=t;if(!Tn||!se)return Promise.resolve();const _e=!N&&t_(Gl(y.fullPath,0))||(L||!N)&&history.state&&history.state.scroll||null;return go().then(()=>se(y,O,_e)).then(d=>d&&Zp(d)).catch(d=>Z(d,y,O))}const We=y=>i.go(y);let vn;const yn=new Set,js={currentRoute:a,listening:!0,addRoute:_,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:C,resolve:k,options:t,push:P,replace:j,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:fe.add,isReady:yt,install(y){const O=this;y.component("RouterLink",S_),y.component("RouterView",Tu),y.config.globalProperties.$router=O,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>ye(a)}),Tn&&!vn&&a.value===Pt&&(vn=!0,P(i.location).catch(se=>{}));const N={};for(const se in Pt)Object.defineProperty(N,se,{get:()=>a.value[se],enumerable:!0});y.provide(So,O),y.provide(Cu,Ic(N)),y.provide(Fr,a);const L=y.unmount;yn.add(y),y.unmount=function(){yn.delete(y),yn.size<1&&(c=Pt,Ue&&Ue(),Ue=null,a.value=Pt,vn=!1,G=!1),L()}}};function Qe(y){return y.reduce((O,N)=>O.then(()=>z(N)),Promise.resolve())}return js}function O_(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(c=>Dn(c,l))?s.push(l):n.push(l));const a=t.matched[o];a&&(e.matched.find(c=>Dn(c,a))||i.push(a))}return[n,s,i]}const x_=Un({__name:"App",setup(t){return(e,n)=>(ht(),tu(ye(Tu)))}}),P_="modulepreload",D_=function(t){return"/BotanInvestments-test-task/"+t},sa={},k_=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=D_(a),a in sa)return;sa[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":P_,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,_)=>{h.addEventListener("load",f),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},M_=[[{id:0,header:"Stage 1, Header 1",text:"Lorem ipsum odor amet, consectetuer adipiscing elit. Montes interdum nibh dolor magna augue fames congue ridiculus. Sed euismod dapibus consectetur ipsum luctus. Arcu posuere penatibus malesuada, ad dictumst vitae. Et euismod netus lobortis ex consectetur ridiculus enim molestie. Ullamcorper integer ad luctus a ornare porttitor. Odio mollis at scelerisque pharetra feugiat justo iaculis mollis. Pellentesque hendrerit turpis inceptos phasellus libero."},{id:1,header:"Stage 1, Header 2",text:"Nec fringilla dui ultricies penatibus augue orci odio. At cursus suscipit senectus venenatis velit aliquet. Aliquet dictumst pulvinar cras finibus magnis velit. Cubilia primis habitant parturient dictum porta condimentum sociosqu. Morbi congue fames tempor molestie laoreet magna curae. Nunc nam sodales nulla morbi bibendum eget ac in. Sociosqu varius semper accumsan ridiculus dictumst egestas?"},{id:2,header:"Stage 1, Header 3",text:"Eget tortor eros leo ante augue nostra tristique. Sapien commodo ultrices lacinia condimentum non cubilia dapibus. Sapien tempus mauris sodales condimentum molestie; enim ligula. Suscipit dis sapien sodales eleifend feugiat fusce convallis fames. Rutrum elementum congue penatibus torquent odio. Adipiscing torquent odio accumsan fringilla magnis. Rutrum pretium placerat viverra dis eros. Volutpat eget fusce; mattis vulputate arcu nullam convallis."},{id:3,header:"Stage 1, Header 4",text:"Quis phasellus potenti mauris malesuada duis sem nulla. Posuere quis molestie accumsan ultricies nec venenatis. Nisl purus dictumst placerat iaculis gravida nibh cursus. Sollicitudin diam semper iaculis gravida efficitur luctus. Magnis ornare lorem mollis non semper mollis! Habitasse nam faucibus porta tempor vulputate mus. Morbi ipsum hac vel maximus consectetur. Sodales pellentesque luctus nascetur mattis tincidunt magna. Habitasse varius netus posuere, venenatis fames dis."},{id:4,header:"Stage 1, Header 5",text:"Hendrerit primis viverra elementum donec viverra lobortis. Natoque urna vestibulum nisi odio torquent semper? Suspendisse scelerisque malesuada curabitur; faucibus nisl habitant justo vivamus senectus. Senectus ullamcorper ligula natoque facilisi tempus ipsum. Porttitor nisl ad ultrices dignissim mattis aliquet. Gravida finibus proin libero ipsum placerat laoreet. Himenaeos taciti dis tempor litora litora cras pellentesque sed."}],[{id:0,header:"Stage 2, Header 1",text:"Lorem ipsum odor amet, consectetuer adipiscing elit. Dapibus cursus odio rutrum curae mi taciti tempus pulvinar? Integer porttitor mus rhoncus litora parturient aliquam placerat. Posuere posuere egestas sapien habitant ac nostra hac. Pulvinar vestibulum blandit quam donec lacinia. Ante accumsan sollicitudin ut blandit felis, aliquet ipsum rhoncus. Duis eros netus netus ut ut quam. Integer luctus metus montes iaculis cubilia dolor."},{id:1,header:"Stage 2, Header 2",text:"Elit libero orci; quisque porta scelerisque sollicitudin. Velit mus est nisi nunc etiam tempus. Diam erat tortor ac tortor lobortis vivamus ridiculus vehicula. Eu ultrices penatibus cras mus torquent maecenas semper fringilla. Curabitur at velit metus habitant luctus aliquam venenatis. Facilisis pharetra dignissim facilisis scelerisque bibendum fermentum mi."},{id:2,header:"Stage 2, Header 3",text:"Arcu potenti eros sit quisque natoque ex facilisis mollis. Tortor senectus quis efficitur; vel eros dis. Imperdiet tincidunt lacus nostra curabitur pellentesque, natoque est! Tincidunt aliquet fames blandit conubia sociosqu feugiat rhoncus himenaeos. Parturient maximus consectetur ad adipiscing himenaeos nisi rutrum leo. Pulvinar leo per quam imperdiet dictumst a nec maximus. Eget nullam etiam lobortis aptent orci taciti vehicula a. Vulputate fusce curabitur aliquet aliquet duis."},{id:3,header:"Stage 2, Header 4",text:"Vulputate eu massa in nisl consectetur euismod dolor. Nec ultricies ligula; lectus eros faucibus consectetur ad convallis. Porttitor pulvinar cras morbi nec orci mi maecenas duis? Nam dolor mollis maecenas massa purus orci natoque ac. Ornare curae feugiat orci vel duis. Enim imperdiet habitasse eleifend posuere quis mattis diam per."}],[{id:0,header:"Stage 3, Header 1",text:"Lorem ipsum odor amet, consectetuer adipiscing elit. Ased nec pulvinar pellentesque iaculis tempor. Primis sodales ultrices diam per aliquam; erat donec quisque. Facilisi ipsum lectus, bibendum fusce conubia non. Ex purus semper vehicula consequat, ornare purus. Tempus nascetur lacus primis mattis libero commodo adipiscing. Ornare etiam cras ut; ipsum justo orci. Commodo curabitur scelerisque nec fames nunc quis. Sociosqu posuere luctus mus vivamus adipiscing fermentum."},{id:1,header:"Stage 3, Header 2",text:"Laoreet nisi nostra cras accumsan, phasellus rutrum ex sem. Neque facilisis torquent sollicitudin ac pulvinar interdum eros. Vestibulum enim nisl euismod; nisi nisl aptent. Semper penatibus magna aenean; orci faucibus torquent. Nullam quam ante cubilia risus pellentesque velit dignissim. Fusce efficitur vehicula urna gravida sem magnis penatibus. Potenti fusce sit gravida potenti ipsum consectetur."},{id:2,header:"Stage 3, Header 3",text:"Facilisi placerat lacus a bibendum vehicula dictumst erat aenean erat. Elementum et elit sociosqu auctor habitasse urna posuere maximus. Dictumst convallis venenatis curae diam mauris amet ipsum, libero sem. Nisl eget hac ligula vehicula leo platea sagittis dignissim arcu. Feugiat nisi sem imperdiet torquent varius magna. Ut sem hendrerit ipsum urna mollis volutpat aliquet. Ex netus risus dignissim felis lobortis turpis vitae placerat."}]],ur=[{id:0,header:"Wellcome to onboarding!"},{id:1,header:"Stage"},{id:2,header:"Well done!"}],hr=[{id:0,header:"Get Started"},{id:1,header:"Next"},{id:2,header:"Finish onboarding"}],ia=[{description:"Welcome to Glam!",link:"https://cdn.getglam.app/content/paywalls/240515_web2web_video1_v04.mp4"},{description:"Match your Aesthetic",link:"https://cdn.getglam.app/content/paywalls/240515_web2web_video2_v01.mp4"},{description:"Explore 100+ Styles",link:"https://cdn.getglam.app/content/paywalls/240515_web2web_video3_v01.mp4"}],Su=Np("stage",()=>{const t=Oi(0);function e(){t.value++}return{stage:t,increment:e}}),L_={class:"head"},F_={class:"green"},H_=Un({__name:"HeaderComponent",setup(t){const e=Su(),n=Fe(()=>{switch(e.stage){case 0:return ur[0].header;case 4:return ur[2].header;default:return ur[1].header}}),s=Fe(()=>e.stage>0&&e.stage<4?` ${e.stage}.`:"");return(i,r)=>(ht(),Mt("div",L_,[dt("h1",F_,rn(n.value)+rn(s.value),1)]))}}),wo=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},B_=wo(H_,[["__scopeId","data-v-bbc58754"]]);var ra={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"npm/10.8.2 node/v18.20.5 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/18.20.5/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",VITE_FIREBASE_MESSAGING_SENDER_ID:"196245016684",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"varaeff",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"113440374",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_userconfig:"/home/runner/.npmrc",npm_config_local_prefix:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",SYSTEMD_EXEC_PID:"602",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241201.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.9/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.3/x64",JOURNAL_STREAM:"8:19067",GITHUB_WORKFLOW:"Deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/18.20.5/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/18.20.5/x64",npm_config_npm_version:"10.8.2",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12204719594",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",VITE_FIREBASE_STORAGE_BUCKET:"botaninvestments-onboarding.firebasestorage.app",GITHUB_WORKFLOW_SHA:"660cd48e87d5bce1107b39b7b4c1da4adfc1e454",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"varaeff/BotanInvestments-test-task/.github/workflows/deploy.yml@refs/heads/main",VITE_FIREBASE_AUTH_DOMAIN:"botaninvestments-onboarding.firebaseapp.com",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/18.20.5/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_88d3cfe9-e08a-4ffe-b588-3d5048da21ab",INVOCATION_ID:"5e1aef588d8e424fa59404b76de7badb",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/18.20.5/x64/bin/node",npm_package_name:"onboarding-front",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"10",GITHUB_TRIGGERING_ACTOR:"varaeff",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 17",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"varaeff/BotanInvestments-test-task",STATS_D_D:"true",npm_lifecycle_script:"vite build",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"899555682",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"0.0.0",npm_lifecycle_event:"build-only",VITE_FIREBASE_PROJECT_ID:"botaninvestments-onboarding",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"660cd48e87d5bce1107b39b7b4c1da4adfc1e454",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",VITE_FIREBASE_APP_ID:"1:196245016684:web:2b912f287ad9ecfb014849",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"varaeff",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",npm_config_globalconfig:"/opt/hostedtoolcache/node/18.20.5/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",GITHUB_ACTOR_ID:"113440374",RUNNER_WORKSPACE:"/home/runner/work/BotanInvestments-test-task",npm_execpath:"/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.11.2-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",npm_config_global_prefix:"/opt/hostedtoolcache/node/18.20.5/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",VITE_FIREBASE_API_KEY:"AIzaSyDeJ\\_-qfuKQzhuMggUbvLl7YabZpIjqRVo",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",INIT_CWD:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",EDITOR:"vi",NODE_ENV:"production",LAUNCH_EDITOR:"code"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(t,e){if(!t)throw Wn(e)},Wn=function(t){return new Error("Firebase Database ("+wu.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U_=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Ro={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=r>>2,h=(r&3)<<4|l>>4;let f=(l&15)<<2|c>>6,_=c&63;a||(_=64,o||(f=64)),s.push(n[u],n[h],n[f],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ru(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||c==null||h==null)throw new W_;const f=r<<2|l>>4;if(s.push(f),c!==64){const _=l<<4&240|c>>2;if(s.push(_),h!==64){const g=c<<6&192|h;s.push(g)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nu=function(t){const e=Ru(t);return Ro.encodeByteArray(e,!0)},ai=function(t){return Nu(t).replace(/\./g,"")},Hr=function(t){try{return Ro.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){return Au(void 0,t)}function Au(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!V_(n)||(t[n]=Au(t[n],e[n]));return t}function V_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=()=>j_().__FIREBASE_DEFAULTS__,q_=()=>{if(typeof process>"u"||typeof ra>"u")return;const t=ra.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},K_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hr(t[1]);return e&&JSON.parse(e)},Ou=()=>{try{return $_()||q_()||K_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z_=t=>{var e,n;return(n=(e=Ou())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Y_=t=>{const e=z_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xu=()=>{var t;return(t=Ou())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ai(JSON.stringify(n)),ai(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X_())}function J_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Du(){return wu.NODE_ADMIN===!0}function Z_(){try{return typeof indexedDB=="object"}catch{return!1}}function em(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="FirebaseError";class Fs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tm,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?nm(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Fs(i,l,s)}}function nm(t,e){return t.replace(sm,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const sm=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){return JSON.parse(t)}function be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=Is(Hr(r[0])||""),n=Is(Hr(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},im=function(t){const e=Mu(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},rm=function(t){const e=Mu(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Mn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function oa(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ci(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Br(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(la(r)&&la(o)){if(!Br(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function la(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)s[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)s[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=l^r&(o^l),u=1518500249):(c=r^o^l,u=1859775393):h<60?(c=r&o|l&(r|o),u=2400959708):(c=r^o^l,u=3395469782);const f=(i<<5|i>>>27)+c+a+u+s[h]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function No(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,T(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hi=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){return t&&t._delegate?t._delegate:t}class Cs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Fi;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hm(e))try{this.getOrInitializeService({instanceIdentifier:nn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=nn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nn){return this.instances.has(e)}getOptions(e=nn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:um(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=nn){return this.component?this.component.multipleInstances?e:nn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function um(t){return t===nn?void 0:t}function hm(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const dm={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},pm=ce.INFO,_m={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},mm=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=_m[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lu{constructor(e){this.name=e,this._logLevel=pm,this._logHandler=mm,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const gm=(t,e)=>e.some(n=>t instanceof n);let aa,ca;function vm(){return aa||(aa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ym(){return ca||(ca=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fu=new WeakMap,Ur=new WeakMap,Hu=new WeakMap,fr=new WeakMap,Ao=new WeakMap;function Em(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Wt(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Fu.set(n,t)}).catch(()=>{}),Ao.set(e,t),e}function bm(t){if(Ur.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Ur.set(t,e)}let Wr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ur.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hu.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Im(t){Wr=t(Wr)}function Cm(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(dr(this),e,...n);return Hu.set(s,e.sort?e.sort():[e]),Wt(s)}:ym().includes(t)?function(...e){return t.apply(dr(this),e),Wt(Fu.get(this))}:function(...e){return Wt(t.apply(dr(this),e))}}function Tm(t){return typeof t=="function"?Cm(t):(t instanceof IDBTransaction&&bm(t),gm(t,vm())?new Proxy(t,Wr):t)}function Wt(t){if(t instanceof IDBRequest)return Em(t);if(fr.has(t))return fr.get(t);const e=Tm(t);return e!==t&&(fr.set(t,e),Ao.set(e,t)),e}const dr=t=>Ao.get(t);function Sm(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=Wt(o);return s&&o.addEventListener("upgradeneeded",a=>{s(Wt(o.result),a.oldVersion,a.newVersion,Wt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const wm=["get","getKey","getAll","getAllKeys","count"],Rm=["put","add","delete","clear"],pr=new Map;function ua(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pr.get(e))return pr.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=Rm.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||wm.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return pr.set(e,r),r}Im(t=>({...t,get:(e,n,s)=>ua(e,n)||t.get(e,n,s),has:(e,n)=>!!ua(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Am(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Am(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gr="@firebase/app",ha="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt=new Lu("@firebase/app"),Om="@firebase/app-compat",xm="@firebase/analytics-compat",Pm="@firebase/analytics",Dm="@firebase/app-check-compat",km="@firebase/app-check",Mm="@firebase/auth",Lm="@firebase/auth-compat",Fm="@firebase/database",Hm="@firebase/data-connect",Bm="@firebase/database-compat",Um="@firebase/functions",Wm="@firebase/functions-compat",Gm="@firebase/installations",Vm="@firebase/installations-compat",jm="@firebase/messaging",$m="@firebase/messaging-compat",qm="@firebase/performance",Km="@firebase/performance-compat",zm="@firebase/remote-config",Ym="@firebase/remote-config-compat",Qm="@firebase/storage",Xm="@firebase/storage-compat",Jm="@firebase/firestore",Zm="@firebase/vertexai",eg="@firebase/firestore-compat",tg="firebase",ng="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]",sg={[Gr]:"fire-core",[Om]:"fire-core-compat",[Pm]:"fire-analytics",[xm]:"fire-analytics-compat",[km]:"fire-app-check",[Dm]:"fire-app-check-compat",[Mm]:"fire-auth",[Lm]:"fire-auth-compat",[Fm]:"fire-rtdb",[Hm]:"fire-data-connect",[Bm]:"fire-rtdb-compat",[Um]:"fire-fn",[Wm]:"fire-fn-compat",[Gm]:"fire-iid",[Vm]:"fire-iid-compat",[jm]:"fire-fcm",[$m]:"fire-fcm-compat",[qm]:"fire-perf",[Km]:"fire-perf-compat",[zm]:"fire-rc",[Ym]:"fire-rc-compat",[Qm]:"fire-gcs",[Xm]:"fire-gcs-compat",[Jm]:"fire-fst",[eg]:"fire-fst-compat",[Zm]:"fire-vertex","fire-js":"fire-js",[tg]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Map,ig=new Map,jr=new Map;function fa(t,e){try{t.container.addComponent(e)}catch(n){wt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hi(t){const e=t.name;if(jr.has(e))return wt.debug(`There were multiple attempts to register component ${e}.`),!1;jr.set(e,t);for(const n of ui.values())fa(n,t);for(const n of ig.values())fa(n,t);return!0}function rg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gt=new ku("app","Firebase",og);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=ng;function Bu(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vr,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Gt.create("bad-app-name",{appName:String(i)});if(n||(n=xu()),!n)throw Gt.create("no-options");const r=ui.get(i);if(r){if(Br(n,r.options)&&Br(s,r.config))return r;throw Gt.create("duplicate-app",{appName:i})}const o=new fm(i);for(const a of jr.values())o.addComponent(a);const l=new lg(n,s,o);return ui.set(i,l),l}function cg(t=Vr){const e=ui.get(t);if(!e&&t===Vr&&xu())return Bu();if(!e)throw Gt.create("no-app",{appName:t});return e}function An(t,e,n){var s;let i=(s=sg[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wt.warn(l.join(" "));return}hi(new Cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="firebase-heartbeat-database",hg=1,Ts="firebase-heartbeat-store";let _r=null;function Uu(){return _r||(_r=Sm(ug,hg,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ts)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gt.create("idb-open",{originalErrorMessage:t.message})})),_r}async function fg(t){try{const n=(await Uu()).transaction(Ts),s=await n.objectStore(Ts).get(Wu(t));return await n.done,s}catch(e){if(e instanceof Fs)wt.warn(e.message);else{const n=Gt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wt.warn(n.message)}}}async function da(t,e){try{const s=(await Uu()).transaction(Ts,"readwrite");await s.objectStore(Ts).put(e,Wu(t)),await s.done}catch(n){if(n instanceof Fs)wt.warn(n.message);else{const s=Gt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wt.warn(s.message)}}}function Wu(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=1024,pg=30*24*60*60*1e3;class _g{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gg(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pa();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=pg}),this._storage.overwrite(this._heartbeatsCache))}catch(s){wt.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pa(),{heartbeatsToSend:s,unsentEntries:i}=mg(this._heartbeatsCache.heartbeats),r=ai(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return wt.warn(n),""}}}function pa(){return new Date().toISOString().substring(0,10)}function mg(t,e=dg){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),_a(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_a(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class gg{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z_()?em().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fg(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return da(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return da(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _a(t){return ai(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t){hi(new Cs("platform-logger",e=>new Nm(e),"PRIVATE")),hi(new Cs("heartbeat",e=>new _g(e),"PRIVATE")),An(Gr,ha,t),An(Gr,ha,"esm2017"),An("fire-js","")}vg("");var ma={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"npm/10.8.2 node/v18.20.5 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/18.20.5/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",VITE_FIREBASE_MESSAGING_SENDER_ID:"196245016684",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"varaeff",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"113440374",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_userconfig:"/home/runner/.npmrc",npm_config_local_prefix:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",SYSTEMD_EXEC_PID:"602",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241201.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.9/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.3/x64",JOURNAL_STREAM:"8:19067",GITHUB_WORKFLOW:"Deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/18.20.5/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/18.20.5/x64",npm_config_npm_version:"10.8.2",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12204719594",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",VITE_FIREBASE_STORAGE_BUCKET:"botaninvestments-onboarding.firebasestorage.app",GITHUB_WORKFLOW_SHA:"660cd48e87d5bce1107b39b7b4c1da4adfc1e454",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"varaeff/BotanInvestments-test-task/.github/workflows/deploy.yml@refs/heads/main",VITE_FIREBASE_AUTH_DOMAIN:"botaninvestments-onboarding.firebaseapp.com",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/18.20.5/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_88d3cfe9-e08a-4ffe-b588-3d5048da21ab",INVOCATION_ID:"5e1aef588d8e424fa59404b76de7badb",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/18.20.5/x64/bin/node",npm_package_name:"onboarding-front",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"10",GITHUB_TRIGGERING_ACTOR:"varaeff",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 17",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"varaeff/BotanInvestments-test-task",STATS_D_D:"true",npm_lifecycle_script:"vite build",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"899555682",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"0.0.0",npm_lifecycle_event:"build-only",VITE_FIREBASE_PROJECT_ID:"botaninvestments-onboarding",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"660cd48e87d5bce1107b39b7b4c1da4adfc1e454",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",VITE_FIREBASE_APP_ID:"1:196245016684:web:2b912f287ad9ecfb014849",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"varaeff",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",npm_config_globalconfig:"/opt/hostedtoolcache/node/18.20.5/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",GITHUB_ACTOR_ID:"113440374",RUNNER_WORKSPACE:"/home/runner/work/BotanInvestments-test-task",npm_execpath:"/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.11.2-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",npm_config_global_prefix:"/opt/hostedtoolcache/node/18.20.5/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",VITE_FIREBASE_API_KEY:"AIzaSyDeJ\\_-qfuKQzhuMggUbvLl7YabZpIjqRVo",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_72e72ae4-72fa-45ed-a44f-945b35ae8c5c",INIT_CWD:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",EDITOR:"vi",NODE_ENV:"production",LAUNCH_EDITOR:"code"};const ga="@firebase/database",va="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="";function yg(t){Gu=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),be(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Is(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Eg(e)}}catch{}return new bg},on=Vu("localStorage"),Ig=Vu("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new Lu("@firebase/database"),Cg=function(){let t=1;return function(){return t++}}(),ju=function(t){const e=am(t),n=new lm;n.update(e);const s=n.digest();return Ro.encodeByteArray(s)},Bs=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Bs.apply(null,s):typeof s=="object"?e+=be(s):e+=s,e+=" "}return e};let us=null,ya=!0;const Tg=function(t,e){T(!e,"Can't turn on custom loggers persistently."),On.logLevel=ce.VERBOSE,us=On.log.bind(On)},Re=function(...t){if(ya===!0&&(ya=!1,us===null&&Ig.get("logging_enabled")===!0&&Tg()),us){const e=Bs.apply(null,t);us(e)}},Us=function(t){return function(...e){Re(t,...e)}},$r=function(...t){const e="FIREBASE INTERNAL ERROR: "+Bs(...t);On.error(e)},Rt=function(...t){const e=`FIREBASE FATAL ERROR: ${Bs(...t)}`;throw On.error(e),new Error(e)},Ve=function(...t){const e="FIREBASE WARNING: "+Bs(...t);On.warn(e)},Sg=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Oo=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wg=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ln="[MIN_NAME]",fn="[MAX_NAME]",mn=function(t,e){if(t===e)return 0;if(t===Ln||e===fn)return-1;if(e===Ln||t===fn)return 1;{const n=Ea(t),s=Ea(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},Rg=function(t,e){return t===e?0:t<e?-1:1},Yn=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+be(e))},xo=function(t){if(typeof t!="object"||t===null)return be(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=be(e[s]),n+=":",n+=xo(t[e[s]]);return n+="}",n},$u=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Ne(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const qu=function(t){T(!Oo(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,l,a;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=l+s,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(a=0;a<64;a+=8){let f=parseInt(u.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},Ng=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ag=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Og(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const xg=new RegExp("^-?(0*)\\d{1,10}$"),Pg=-2147483648,Dg=2147483647,Ea=function(t){if(xg.test(t)){const e=Number(t);if(e>=Pg&&e<=Dg)return e}return null},Gn=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ve("Exception was thrown by user callback.",n),e},Math.floor(0))}},kg=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Ve(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ve(e)}}class Zs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Zs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="5",Ku="v",zu="s",Yu="r",Qu="f",Xu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ju="ls",Zu="p",qr="ac",eh="websocket",th="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,s,i,r=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=on.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&on.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Fg(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sh(t,e,n){T(typeof e=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let s;if(e===eh)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===th)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Fg(t)&&(n.ns=t.namespace);const i=[];return Ne(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.counters_={}}incrementCounter(e,n=1){vt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return G_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={},gr={};function Do(t){const e=t.toString();return mr[e]||(mr[e]=new Hg),mr[e]}function Bg(t,e){const n=t.toString();return gr[n]||(gr[n]=e()),gr[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Gn(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="start",Wg="close",Gg="pLPCommand",Vg="pRTLPCB",ih="id",rh="pw",oh="ser",jg="cb",$g="seg",qg="ts",Kg="d",zg="dframe",lh=1870,ah=30,Yg=lh-ah,Qg=25e3,Xg=3e4;class Sn{constructor(e,n,s,i,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Us(e),this.stats_=Do(n),this.urlFn=a=>(this.appCheckToken&&(a[qr]=this.appCheckToken),sh(n,th,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ug(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Xg)),wg(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ko((...r)=>{const[o,l,a,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ba)this.id=l,this.password=a;else if(o===Wg)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const s={};s[ba]="t",s[oh]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[jg]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Ku]=Po,this.transportSessionId&&(s[zu]=this.transportSessionId),this.lastSessionId&&(s[Ju]=this.lastSessionId),this.applicationId&&(s[Zu]=this.applicationId),this.appCheckToken&&(s[qr]=this.appCheckToken),typeof location<"u"&&location.hostname&&Xu.test(location.hostname)&&(s[Yu]=Qu);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sn.forceAllow_=!0}static forceDisallow(){Sn.forceDisallow_=!0}static isAvailable(){return Sn.forceAllow_?!0:!Sn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ng()&&!Ag()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Nu(n),i=$u(s,Yg);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[zg]="t",s[ih]=e,s[rh]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ko{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Cg(),window[Gg+this.uniqueCallbackIdentifier]=e,window[Vg+this.uniqueCallbackIdentifier]=n,this.myIFrame=ko.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Re("frame writing exception"),l.stack&&Re(l.stack),Re(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Re("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ih]=this.myID,e[rh]=this.myPW,e[oh]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ah+s.length<=lh;){const o=this.pendingSegs.shift();s=s+"&"+$g+i+"="+o.seg+"&"+qg+i+"="+o.ts+"&"+Kg+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(Qg)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Re("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=16384,Zg=45e3;let fi=null;typeof MozWebSocket<"u"?fi=MozWebSocket:typeof WebSocket<"u"&&(fi=WebSocket);class tt{constructor(e,n,s,i,r,o,l){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Us(this.connId),this.stats_=Do(n),this.connURL=tt.connectionURL_(n,o,l,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[Ku]=Po,typeof location<"u"&&location.hostname&&Xu.test(location.hostname)&&(o[Yu]=Qu),n&&(o[zu]=n),s&&(o[Ju]=s),i&&(o[qr]=i),r&&(o[Zu]=r),sh(e,eh,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,on.set("previous_websocket_failure",!0);try{let s;Du(),this.mySock=new fi(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){tt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&fi!==null&&!tt.forceDisallow_}static previouslyFailed(){return on.isInMemoryStorage||on.get("previous_websocket_failure")===!0}markConnectionHealthy(){on.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Is(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(T(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=$u(n,Jg);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zg))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tt.responsesRequiredToBeHealthy=2;tt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static get ALL_TRANSPORTS(){return[Sn,tt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=tt&&tt.isAvailable();let s=n&&!tt.previouslyFailed();if(e.webSocketOnly&&(n||Ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[tt];else{const i=this.transports_=[];for(const r of Ss.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);Ss.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ss.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=6e4,tv=5e3,nv=10*1024,sv=100*1024,vr="t",Ia="d",iv="s",Ca="r",rv="e",Ta="o",Sa="a",wa="n",Ra="p",ov="h";class lv{constructor(e,n,s,i,r,o,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Us("c:"+this.id+":"),this.transportManager_=new Ss(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=hs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>sv?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nv?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(vr in e){const n=e[vr];n===Sa?this.upgradeIfSecondaryHealthy_():n===Ca?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ta&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Yn("t",e),s=Yn("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ra,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Sa,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wa,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Yn("t",e),s=Yn("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Yn(vr,e);if(Ia in e){const s=e[Ia];if(n===ov){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===wa){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===iv?this.onConnectionShutdown_(s):n===Ca?this.onReset_(s):n===rv?$r("Server Error: "+s):n===Ta?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$r("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Po!==s&&Ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),hs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ev))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tv))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ra,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(on.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.allowedEvents_=e,this.listeners_={},T(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){T(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends uh{static getInstance(){return new di}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return T(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=32,Aa=768;class re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function J(){return new re("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qt(t){return t.pieces_.length-t.pieceNum_}function he(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new re(t.pieces_,e)}function Mo(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function av(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ws(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hh(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new re(e,0)}function me(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof re)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new re(n,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function Be(t,e){const n=Y(t),s=Y(e);if(n===null)return e;if(n===s)return Be(he(t),he(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function cv(t,e){const n=ws(t,0),s=ws(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=mn(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function fh(t,e){if(qt(t)!==qt(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Je(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(qt(t)>qt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class uv{constructor(e,n){this.errorPrefix_=n,this.parts_=ws(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Hi(this.parts_[s]);dh(this)}}function hv(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Hi(e),dh(t)}function fv(t){const e=t.parts_.pop();t.byteLength_-=Hi(e),t.parts_.length>0&&(t.byteLength_-=1)}function dh(t){if(t.byteLength_>Aa)throw new Error(t.errorPrefix_+"has a key path longer than "+Aa+" bytes ("+t.byteLength_+").");if(t.parts_.length>Na)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Na+") or object contains a cycle "+sn(t))}function sn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends uh{static getInstance(){return new Lo}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return T(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=1e3,dv=60*5*1e3,Oa=30*1e3,pv=1.3,_v=3e4,mv="server_kill",xa=3;class St extends ch{constructor(e,n,s,i,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=St.nextPersistentConnectionId_++,this.log_=Us("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qn,this.maxReconnectDelay_=dv,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Du())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lo.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&di.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(be(r)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new Fi,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,c=l.s;St.warnOnListenWarnings_(a,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vt(e,"w")){const s=Mn(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||rm(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Oa)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=im(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+be(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):$r("Unrecognized action received from server: "+be(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_v&&(this.reconnectDelay_=Qn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pv)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+St.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,s())},c=function(h){T(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new lv(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,_=>{Ve(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(mv)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ve(h),a())}}}interrupt(e){Re("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Re("Resuming connection for reason: "+e),delete this.interruptReasons_[e],oa(this.interruptReasons_)&&(this.reconnectDelay_=Qn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>xo(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new re(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){Re("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xa&&(this.reconnectDelay_=Oa,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Re("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xa&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Gu.replace(/\./g,"-")]=1,Pu()?e["framework.cordova"]=1:J_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=di.getInstance().currentlyOnline();return oa(this.interruptReasons_)&&e}}St.nextPersistentConnectionId_=0;St.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new $(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new $(Ln,e),i=new $(Ln,n);return this.compare(s,i)!==0}minPost(){return $.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs;class ph extends Bi{static get __EMPTY_NODE(){return zs}static set __EMPTY_NODE(e){zs=e}compare(e,n){return mn(e.name,n.name)}isDefinedOn(e){throw Wn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return $.MIN}maxPost(){return new $(fn,zs)}makePost(e,n){return T(typeof e=="string","KeyIndex indexValue must always be a string."),new $(e,zs)}toString(){return".key"}}const xn=new ph;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Te{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??Te.RED,this.left=i??Ge.EMPTY_NODE,this.right=r??Ge.EMPTY_NODE}copy(e,n,s,i,r){return new Te(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ge.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Ge.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Te.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Te.RED=!0;Te.BLACK=!1;class gv{copy(e,n,s,i,r){return this}insert(e,n,s){return new Te(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ge{constructor(e,n=Ge.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ge(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Te.BLACK,null,null))}remove(e){return new Ge(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Te.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ys(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ys(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ys(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ys(this.root_,null,this.comparator_,!0,e)}}Ge.EMPTY_NODE=new gv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e){return mn(t.name,e.name)}function Fo(t,e){return mn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr;function yv(t){Kr=t}const _h=function(t){return typeof t=="number"?"number:"+qu(t):"string:"+t},mh=function(t){if(t.isLeafNode()){const e=t.val();T(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vt(e,".sv"),"Priority must be a string or number.")}else T(t===Kr||t.isEmpty(),"priority of unexpected type.");T(t===Kr||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa;class Ce{static set __childrenNodeConstructor(e){Pa=e}static get __childrenNodeConstructor(){return Pa}constructor(e,n=Ce.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mh(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ce(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return q(e)?this:Y(e)===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ce.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Y(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(T(s!==".priority"||qt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ce.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_h(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=qu(this.value_):e+=this.value_,this.lazyHash_=ju(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ce.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ce.__childrenNodeConstructor?-1:(T(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=Ce.VALUE_TYPE_ORDER.indexOf(n),r=Ce.VALUE_TYPE_ORDER.indexOf(s);return T(i>=0,"Unknown leaf type: "+n),T(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ce.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh,vh;function Ev(t){gh=t}function bv(t){vh=t}class Iv extends Bi{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?mn(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(fn,new Ce("[PRIORITY-POST]",vh))}makePost(e,n){const s=gh(e);return new $(n,new Ce("[PRIORITY-POST]",s))}toString(){return".priority"}}const ge=new Iv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=Math.log(2);class Tv{constructor(e){const n=r=>parseInt(Math.log(r)/Cv,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pi=function(t,e,n,s){t.sort(e);const i=function(a,c){const u=c-a;let h,f;if(u===0)return null;if(u===1)return h=t[a],f=n?n(h):h,new Te(f,h.node,Te.BLACK,null,null);{const _=parseInt(u/2,10)+a,g=i(a,_),C=i(_+1,c);return h=t[_],f=n?n(h):h,new Te(f,h.node,Te.BLACK,g,C)}},r=function(a){let c=null,u=null,h=t.length;const f=function(g,C){const D=h-g,k=h;h-=g;const x=i(D+1,k),M=t[D],P=n?n(M):M;_(new Te(P,M.node,C,null,x))},_=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<a.count;++g){const C=a.nextBitIsOne(),D=Math.pow(2,a.count-(g+1));C?f(D,Te.BLACK):(f(D,Te.BLACK),f(D,Te.RED))}return u},o=new Tv(t.length),l=r(o);return new Ge(s||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr;const In={};class Tt{static get Default(){return T(In&&ge,"ChildrenNode.ts has not been loaded"),yr=yr||new Tt({".priority":In},{".priority":ge}),yr}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Mn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ge?n:null}hasIndex(e){return vt(this.indexSet_,e.toString())}addIndex(e,n){T(e!==xn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator($.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let l;i?l=pi(s,e.getCompare()):l=In;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=l,new Tt(u,c)}addToIndexes(e,n){const s=ci(this.indexes_,(i,r)=>{const o=Mn(this.indexSet_,r);if(T(o,"Missing index implementation for "+r),i===In)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator($.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),pi(l,o.getCompare())}else return In;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new $(e.name,l))),a.insert(e,e.node)}});return new Tt(s,this.indexSet_)}removeFromIndexes(e,n){const s=ci(this.indexes_,i=>{if(i===In)return i;{const r=n.get(e.name);return r?i.remove(new $(e.name,r)):i}});return new Tt(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xn;class B{static get EMPTY_NODE(){return Xn||(Xn=new B(new Ge(Fo),null,Tt.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&mh(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xn}updatePriority(e){return this.children_.isEmpty()?this:new B(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Xn:n}}getChild(e){const n=Y(e);return n===null?this:this.getImmediateChild(n).getChild(he(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(T(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new $(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?Xn:this.priorityNode_;return new B(i,o,r)}}updateChild(e,n){const s=Y(e);if(s===null)return n;{T(Y(e)!==".priority"||qt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(he(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(ge,(o,l)=>{n[o]=l.val(e),s++,r&&B.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_h(this.getPriority().val())+":"),this.forEachChild(ge,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ju(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new $(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new $(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new $(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,$.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,$.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ws?-1:0}withIndex(e){if(e===xn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===xn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(ge),i=n.getIterator(ge);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===xn?null:this.indexMap_.get(e.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Sv extends B{constructor(){super(new Ge(Fo),B.EMPTY_NODE,Tt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}}const Ws=new Sv;Object.defineProperties($,{MIN:{value:new $(Ln,B.EMPTY_NODE)},MAX:{value:new $(fn,Ws)}});ph.__EMPTY_NODE=B.EMPTY_NODE;Ce.__childrenNodeConstructor=B;yv(Ws);bv(Ws);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=!0;function Se(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),T(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ce(n,Se(e))}if(!(t instanceof Array)&&wv){const n=[];let s=!1;if(Ne(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Se(l);a.isEmpty()||(s=s||!a.getPriority().isEmpty(),n.push(new $(o,a)))}}),n.length===0)return B.EMPTY_NODE;const r=pi(n,vv,o=>o.name,Fo);if(s){const o=pi(n,ge.getCompare());return new B(r,Se(e),new Tt({".priority":o},{".priority":ge}))}else return new B(r,Se(e),Tt.Default)}else{let n=B.EMPTY_NODE;return Ne(t,(s,i)=>{if(vt(t,s)&&s.substring(0,1)!=="."){const r=Se(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(Se(e))}}Ev(Se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Bi{constructor(e){super(),this.indexPath_=e,T(!q(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?mn(e.name,n.name):r}makePost(e,n){const s=Se(e),i=B.EMPTY_NODE.updateChild(this.indexPath_,s);return new $(n,i)}maxPost(){const e=B.EMPTY_NODE.updateChild(this.indexPath_,Ws);return new $(fn,e)}toString(){return ws(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Bi{compare(e,n){const s=e.node.compareTo(n.node);return s===0?mn(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(e,n){const s=Se(e);return new $(n,s)}toString(){return".value"}}const Av=new Nv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return{type:"value",snapshotNode:t}}function Fn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Rs(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ns(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Ov(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(s.getChild(i))&&l.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(Rs(n,l)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Fn(n,s)):o.trackChildChange(Ns(n,s,l))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ge,(i,r)=>{n.hasChild(i)||s.trackChildChange(Rs(i,r))}),n.isLeafNode()||n.forEachChild(ge,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(Ns(i,r,o))}else s.trackChildChange(Fn(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.indexedFilter_=new Ho(e.getIndex()),this.index_=e.getIndex(),this.startPost_=As.getStartPost_(e),this.endPost_=As.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new $(n,s))||(s=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);const r=this;return n.forEachChild(ge,(o,l)=>{r.matches(new $(o,l))||(i=i.updateImmediateChild(o,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new As(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new $(n,s))||(s=B.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,_)=>h(_,f)}else o=this.index_.getCompare();const l=e;T(l.numChildren()===this.limit_,"");const a=new $(n,s),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const _=f==null?1:o(f,a);if(u&&!s.isEmpty()&&_>=0)return r!=null&&r.trackChildChange(Ns(n,s,h)),l.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(Rs(n,h));const C=l.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Fn(f.name,f.node)),C.updateImmediateChild(f.name,f.node)):C}}else return s.isEmpty()?e:u&&o(c,a)>=0?(r!=null&&(r.trackChildChange(Rs(c.name,c.node)),r.trackChildChange(Fn(n,s))),l.updateImmediateChild(n,s).updateImmediateChild(c.name,B.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ln}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){const e=new Bo;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Pv(t){return t.loadsAllData()?new Ho(t.getIndex()):t.hasLimit()?new xv(t):new As(t)}function Da(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ge?n="$priority":t.index_===Av?n="$value":t.index_===xn?n="$key":(T(t.index_ instanceof Rv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=be(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=be(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+be(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=be(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ka(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends ch{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Us("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=_i.getListenId_(e,s),l={};this.listens_[o]=l;const a=Da(e._queryParams);this.restRequest_(r+".json",a,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,s),Mn(this.listens_,o)===l){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=_i.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Da(e._queryParams),s=e._path.toString(),i=new Fi;return this.restRequest_(s+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(s,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+om(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(s&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Is(l.responseText)}catch{Ve("Failed to parse JSON response for "+o+": "+l.responseText)}s(null,a)}else l.status!==401&&l.status!==404&&Ve("Got unsuccessful REST response for "+o+" Status: "+l.status),s(l.status);s=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return{value:null,children:new Map}}function Eh(t,e,n){if(q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Y(e);t.children.has(s)||t.children.set(s,mi());const i=t.children.get(s);e=he(e),Eh(i,e,n)}}function zr(t,e,n){t.value!==null?n(e,t.value):kv(t,(s,i)=>{const r=new re(e.toString()+"/"+s);zr(i,r,n)})}function kv(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ne(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=10*1e3,Lv=30*1e3,Fv=5*60*1e3;class Hv{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Mv(e);const s=Ma+(Lv-Ma)*Math.random();hs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Ne(e,(i,r)=>{r>0&&vt(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),hs(this.reportStats_.bind(this),Math.floor(Math.random()*2*Fv))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(st||(st={}));function Uo(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wo(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Go(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=st.ACK_USER_WRITE,this.source=Uo()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new re(e));return new gi(J(),n,this.revert)}}else return T(Y(this.path)===e,"operationForChild called for unrelated child."),new gi(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this.source=e,this.path=n,this.type=st.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new Os(this.source,J()):new Os(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=st.OVERWRITE}operationForChild(e){return q(this.path)?new dn(this.source,J(),this.snap.getImmediateChild(e)):new dn(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=st.MERGE}operationForChild(e){if(q(this.path)){const n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new dn(this.source,J(),n.value):new Hn(this.source,J(),n)}else return T(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hn(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Uv(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(Ov(o.childName,o.snapshotNode))}),Jn(t,i,"child_removed",e,s,n),Jn(t,i,"child_added",e,s,n),Jn(t,i,"child_moved",r,s,n),Jn(t,i,"child_changed",e,s,n),Jn(t,i,"value",e,s,n),i}function Jn(t,e,n,s,i,r){const o=s.filter(l=>l.type===n);o.sort((l,a)=>Gv(t,l,a)),o.forEach(l=>{const a=Wv(t,l,r);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function Wv(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Gv(t,e,n){if(e.childName==null||n.childName==null)throw Wn("Should only compare child_ events.");const s=new $(e.childName,e.snapshotNode),i=new $(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){return{eventCache:t,serverCache:e}}function fs(t,e,n,s){return Ui(new Kt(e,n,s),t.serverCache)}function bh(t,e,n,s){return Ui(t.eventCache,new Kt(e,n,s))}function vi(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er;const Vv=()=>(Er||(Er=new Ge(Rg)),Er);class ae{static fromObject(e){let n=new ae(null);return Ne(e,(s,i)=>{n=n.set(new re(s),i)}),n}constructor(e,n=Vv()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(q(e))return null;{const s=Y(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(he(e),n);return r!=null?{path:me(new re(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{const n=Y(e),s=this.children.get(n);return s!==null?s.subtree(he(e)):new ae(null)}}set(e,n){if(q(e))return new ae(n,this.children);{const s=Y(e),r=(this.children.get(s)||new ae(null)).set(he(e),n),o=this.children.insert(s,r);return new ae(this.value,o)}}remove(e){if(q(e))return this.children.isEmpty()?new ae(null):new ae(null,this.children);{const n=Y(e),s=this.children.get(n);if(s){const i=s.remove(he(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new ae(null):new ae(this.value,r)}else return this}}get(e){if(q(e))return this.value;{const n=Y(e),s=this.children.get(n);return s?s.get(he(e)):null}}setTree(e,n){if(q(e))return n;{const s=Y(e),r=(this.children.get(s)||new ae(null)).setTree(he(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new ae(this.value,o)}}fold(e){return this.fold_(J(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(me(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,J(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(q(e))return null;{const r=Y(e),o=this.children.get(r);return o?o.findOnPath_(he(e),me(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,J(),n)}foreachOnPath_(e,n,s){if(q(e))return this;{this.value&&s(n,this.value);const i=Y(e),r=this.children.get(i);return r?r.foreachOnPath_(he(e),me(n,i),s):new ae(null)}}foreach(e){this.foreach_(J(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(me(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.writeTree_=e}static empty(){return new rt(new ae(null))}}function ds(t,e,n){if(q(e))return new rt(new ae(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Be(i,e);return r=r.updateChild(o,n),new rt(t.writeTree_.set(i,r))}else{const i=new ae(n),r=t.writeTree_.setTree(e,i);return new rt(r)}}}function Yr(t,e,n){let s=t;return Ne(n,(i,r)=>{s=ds(s,me(e,i),r)}),s}function La(t,e){if(q(e))return rt.empty();{const n=t.writeTree_.setTree(e,new ae(null));return new rt(n)}}function Qr(t,e){return gn(t,e)!=null}function gn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Be(n.path,e)):null}function Fa(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(s,i)=>{e.push(new $(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new $(s,i.value))}),e}function Vt(t,e){if(q(e))return t;{const n=gn(t,e);return n!=null?new rt(new ae(n)):new rt(t.writeTree_.subtree(e))}}function Xr(t){return t.writeTree_.isEmpty()}function Bn(t,e){return Ih(J(),t.writeTree_,e)}function Ih(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(T(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=Ih(me(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(me(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){return wh(e,t)}function jv(t,e,n,s,i){T(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=ds(t.visibleWrites,e,n)),t.lastWriteId=s}function $v(t,e,n,s){T(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=Yr(t.visibleWrites,e,n),t.lastWriteId=s}function qv(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function Kv(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);T(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&zv(l,s.path)?i=!1:Je(s.path,l.path)&&(r=!0)),o--}if(i){if(r)return Yv(t),!0;if(s.snap)t.visibleWrites=La(t.visibleWrites,s.path);else{const l=s.children;Ne(l,a=>{t.visibleWrites=La(t.visibleWrites,me(s.path,a))})}return!0}else return!1}function zv(t,e){if(t.snap)return Je(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Je(me(t.path,n),e))return!0;return!1}function Yv(t){t.visibleWrites=Ch(t.allWrites,Qv,J()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Qv(t){return t.visible}function Ch(t,e,n){let s=rt.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let l;if(r.snap)Je(n,o)?(l=Be(n,o),s=ds(s,l,r.snap)):Je(o,n)&&(l=Be(o,n),s=ds(s,J(),r.snap.getChild(l)));else if(r.children){if(Je(n,o))l=Be(n,o),s=Yr(s,l,r.children);else if(Je(o,n))if(l=Be(o,n),q(l))s=Yr(s,J(),r.children);else{const a=Mn(r.children,Y(l));if(a){const c=a.getChild(he(l));s=ds(s,J(),c)}}}else throw Wn("WriteRecord should have .snap or .children")}}return s}function Th(t,e,n,s,i){if(!s&&!i){const r=gn(t.visibleWrites,e);if(r!=null)return r;{const o=Vt(t.visibleWrites,e);if(Xr(o))return n;if(n==null&&!Qr(o,J()))return null;{const l=n||B.EMPTY_NODE;return Bn(o,l)}}}else{const r=Vt(t.visibleWrites,e);if(!i&&Xr(r))return n;if(!i&&n==null&&!Qr(r,J()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(Je(c.path,e)||Je(e,c.path))},l=Ch(t.allWrites,o,e),a=n||B.EMPTY_NODE;return Bn(l,a)}}}function Xv(t,e,n){let s=B.EMPTY_NODE;const i=gn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ge,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=Vt(t.visibleWrites,e);return n.forEachChild(ge,(o,l)=>{const a=Bn(Vt(r,new re(o)),l);s=s.updateImmediateChild(o,a)}),Fa(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=Vt(t.visibleWrites,e);return Fa(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function Jv(t,e,n,s,i){T(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=me(e,n);if(Qr(t.visibleWrites,r))return null;{const o=Vt(t.visibleWrites,r);return Xr(o)?i.getChild(n):Bn(o,i.getChild(n))}}function Zv(t,e,n,s){const i=me(e,n),r=gn(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=Vt(t.visibleWrites,i);return Bn(o,s.getNode().getImmediateChild(n))}else return null}function ey(t,e){return gn(t.visibleWrites,e)}function ty(t,e,n,s,i,r,o){let l;const a=Vt(t.visibleWrites,e),c=gn(a,J());if(c!=null)l=c;else if(n!=null)l=Bn(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],h=o.getCompare(),f=r?l.getReverseIteratorFrom(s,o):l.getIteratorFrom(s,o);let _=f.getNext();for(;_&&u.length<i;)h(_,s)!==0&&u.push(_),_=f.getNext();return u}else return[]}function ny(){return{visibleWrites:rt.empty(),allWrites:[],lastWriteId:-1}}function yi(t,e,n,s){return Th(t.writeTree,t.treePath,e,n,s)}function Vo(t,e){return Xv(t.writeTree,t.treePath,e)}function Ha(t,e,n,s){return Jv(t.writeTree,t.treePath,e,n,s)}function Ei(t,e){return ey(t.writeTree,me(t.treePath,e))}function sy(t,e,n,s,i,r){return ty(t.writeTree,t.treePath,e,n,s,i,r)}function jo(t,e,n){return Zv(t.writeTree,t.treePath,e,n)}function Sh(t,e){return wh(me(t.treePath,e),t.writeTree)}function wh(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,Ns(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,Rs(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,Fn(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,Ns(s,e.snapshotNode,i.oldSnap));else throw Wn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Rh=new ry;class $o{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jo(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pn(this.viewCache_),r=sy(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){return{filter:t}}function ly(t,e){T(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),T(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ay(t,e,n,s,i){const r=new iy;let o,l;if(n.type===st.OVERWRITE){const c=n;c.source.fromUser?o=Jr(t,e,c.path,c.snap,s,i,r):(T(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!q(c.path),o=bi(t,e,c.path,c.snap,s,i,l,r))}else if(n.type===st.MERGE){const c=n;c.source.fromUser?o=uy(t,e,c.path,c.children,s,i,r):(T(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Zr(t,e,c.path,c.children,s,i,l,r))}else if(n.type===st.ACK_USER_WRITE){const c=n;c.revert?o=dy(t,e,c.path,s,i,r):o=hy(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===st.LISTEN_COMPLETE)o=fy(t,e,n.path,s,r);else throw Wn("Unknown operation type: "+n.type);const a=r.getChanges();return cy(e,o,a),{viewCache:o,changes:a}}function cy(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=vi(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(yh(vi(e)))}}function Nh(t,e,n,s,i,r){const o=e.eventCache;if(Ei(s,n)!=null)return e;{let l,a;if(q(n))if(T(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=pn(e),u=c instanceof B?c:B.EMPTY_NODE,h=Vo(s,u);l=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=yi(s,pn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=Y(n);if(c===".priority"){T(qt(n)===1,"Can't have a priority with additional path components");const u=o.getNode();a=e.serverCache.getNode();const h=Ha(s,n,u,a);h!=null?l=t.filter.updatePriority(u,h):l=o.getNode()}else{const u=he(n);let h;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const f=Ha(s,n,o.getNode(),a);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=jo(s,c,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),c,h,u,i,r):l=o.getNode()}}return fs(e,l,o.isFullyInitialized()||q(n),t.filter.filtersNodes())}}function bi(t,e,n,s,i,r,o,l){const a=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(q(n))c=u.updateFullNode(a.getNode(),s,null);else if(u.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,s);c=u.updateFullNode(a.getNode(),_,null)}else{const _=Y(n);if(!a.isCompleteForPath(n)&&qt(n)>1)return e;const g=he(n),D=a.getNode().getImmediateChild(_).updateChild(g,s);_===".priority"?c=u.updatePriority(a.getNode(),D):c=u.updateChild(a.getNode(),_,D,g,Rh,null)}const h=bh(e,c,a.isFullyInitialized()||q(n),u.filtersNodes()),f=new $o(i,h,r);return Nh(t,h,n,i,f,l)}function Jr(t,e,n,s,i,r,o){const l=e.eventCache;let a,c;const u=new $o(i,e,r);if(q(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),a=fs(e,c,!0,t.filter.filtersNodes());else{const h=Y(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),a=fs(e,c,l.isFullyInitialized(),l.isFiltered());else{const f=he(n),_=l.getNode().getImmediateChild(h);let g;if(q(f))g=s;else{const C=u.getCompleteChild(h);C!=null?Mo(f)===".priority"&&C.getChild(hh(f)).isEmpty()?g=C:g=C.updateChild(f,s):g=B.EMPTY_NODE}if(_.equals(g))a=e;else{const C=t.filter.updateChild(l.getNode(),h,g,f,u,o);a=fs(e,C,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Ba(t,e){return t.eventCache.isCompleteForChild(e)}function uy(t,e,n,s,i,r,o){let l=e;return s.foreach((a,c)=>{const u=me(n,a);Ba(e,Y(u))&&(l=Jr(t,l,u,c,i,r,o))}),s.foreach((a,c)=>{const u=me(n,a);Ba(e,Y(u))||(l=Jr(t,l,u,c,i,r,o))}),l}function Ua(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Zr(t,e,n,s,i,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;q(n)?c=s:c=new ae(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const _=e.serverCache.getNode().getImmediateChild(h),g=Ua(t,_,f);a=bi(t,a,new re(h),g,i,r,o,l)}}),c.children.inorderTraversal((h,f)=>{const _=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!_){const g=e.serverCache.getNode().getImmediateChild(h),C=Ua(t,g,f);a=bi(t,a,new re(h),C,i,r,o,l)}}),a}function hy(t,e,n,s,i,r,o){if(Ei(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(s.value!=null){if(q(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return bi(t,e,n,a.getNode().getChild(n),i,r,l,o);if(q(n)){let c=new ae(null);return a.getNode().forEachChild(xn,(u,h)=>{c=c.set(new re(u),h)}),Zr(t,e,n,c,i,r,l,o)}else return e}else{let c=new ae(null);return s.foreach((u,h)=>{const f=me(n,u);a.isCompleteForPath(f)&&(c=c.set(u,a.getNode().getChild(f)))}),Zr(t,e,n,c,i,r,l,o)}}function fy(t,e,n,s,i){const r=e.serverCache,o=bh(e,r.getNode(),r.isFullyInitialized()||q(n),r.isFiltered());return Nh(t,o,n,s,Rh,i)}function dy(t,e,n,s,i,r){let o;if(Ei(s,n)!=null)return e;{const l=new $o(s,e,i),a=e.eventCache.getNode();let c;if(q(n)||Y(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=yi(s,pn(e));else{const h=e.serverCache.getNode();T(h instanceof B,"serverChildren would be complete if leaf node"),u=Vo(s,h)}u=u,c=t.filter.updateFullNode(a,u,r)}else{const u=Y(n);let h=jo(s,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=a.getImmediateChild(u)),h!=null?c=t.filter.updateChild(a,u,h,he(n),l,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,B.EMPTY_NODE,he(n),l,r):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=yi(s,pn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Ei(s,J())!=null,fs(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Ho(s.getIndex()),r=Pv(s);this.processor_=oy(r);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(B.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(B.EMPTY_NODE,l.getNode(),null),u=new Kt(a,o.isFullyInitialized(),i.filtersNodes()),h=new Kt(c,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=Ui(h,u),this.eventGenerator_=new Bv(this.query_)}get query(){return this.query_}}function _y(t){return t.viewCache_.serverCache.getNode()}function my(t){return vi(t.viewCache_)}function gy(t,e){const n=pn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!q(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function Wa(t){return t.eventRegistrations_.length===0}function vy(t,e){t.eventRegistrations_.push(e)}function Ga(t,e,n){const s=[];if(n){T(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function Va(t,e,n,s){e.type===st.MERGE&&e.source.queryId!==null&&(T(pn(t.viewCache_),"We should always have a full cache before handling merges"),T(vi(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=ay(t.processor_,i,e,n,s);return ly(t.processor_,r.viewCache),T(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,Ah(t,r.changes,r.viewCache.eventCache.getNode(),null)}function yy(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(r,o)=>{s.push(Fn(r,o))}),n.isFullyInitialized()&&s.push(yh(n.getNode())),Ah(t,s,n.getNode(),e)}function Ah(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return Uv(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ii;class Oh{constructor(){this.views=new Map}}function Ey(t){T(!Ii,"__referenceConstructor has already been defined"),Ii=t}function by(){return T(Ii,"Reference.ts has not been loaded"),Ii}function Iy(t){return t.views.size===0}function qo(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return T(r!=null,"SyncTree gave us an op for an invalid query."),Va(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(Va(o,e,n,s));return r}}function xh(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=yi(n,i?s:null),a=!1;l?a=!0:s instanceof B?(l=Vo(n,s),a=!1):(l=B.EMPTY_NODE,a=!1);const c=Ui(new Kt(l,a,!1),new Kt(s,i,!1));return new py(e,c)}return o}function Cy(t,e,n,s,i,r){const o=xh(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),vy(o,n),yy(o,n)}function Ty(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const l=zt(t);if(i==="default")for(const[a,c]of t.views.entries())o=o.concat(Ga(c,n,s)),Wa(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||r.push(c.query));else{const a=t.views.get(i);a&&(o=o.concat(Ga(a,n,s)),Wa(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!zt(t)&&r.push(new(by())(e._repo,e._path)),{removed:r,events:o}}function Ph(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function jt(t,e){let n=null;for(const s of t.views.values())n=n||gy(s,e);return n}function Dh(t,e){if(e._queryParams.loadsAllData())return Gi(t);{const s=e._queryIdentifier;return t.views.get(s)}}function kh(t,e){return Dh(t,e)!=null}function zt(t){return Gi(t)!=null}function Gi(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ci;function Sy(t){T(!Ci,"__referenceConstructor has already been defined"),Ci=t}function wy(){return T(Ci,"Reference.ts has not been loaded"),Ci}let Ry=1;class ja{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ae(null),this.pendingWriteTree_=ny(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ny(t,e,n,s,i){return jv(t.pendingWriteTree_,e,n,s,i),i?Vn(t,new dn(Uo(),e,n)):[]}function Ay(t,e,n,s){$v(t.pendingWriteTree_,e,n,s);const i=ae.fromObject(n);return Vn(t,new Hn(Uo(),e,i))}function ln(t,e,n=!1){const s=qv(t.pendingWriteTree_,e);if(Kv(t.pendingWriteTree_,e)){let r=new ae(null);return s.snap!=null?r=r.set(J(),!0):Ne(s.children,o=>{r=r.set(new re(o),!0)}),Vn(t,new gi(s.path,r,n))}else return[]}function Gs(t,e,n){return Vn(t,new dn(Wo(),e,n))}function Oy(t,e,n){const s=ae.fromObject(n);return Vn(t,new Hn(Wo(),e,s))}function xy(t,e){return Vn(t,new Os(Wo(),e))}function Py(t,e,n){const s=Ko(t,n);if(s){const i=zo(s),r=i.path,o=i.queryId,l=Be(r,e),a=new Os(Go(o),l);return Yo(t,r,a)}else return[]}function Mh(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||kh(o,e))){const a=Ty(o,e,n,s);Iy(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=a.removed;if(l=a.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(f,_)=>zt(_));if(u&&!h){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const _=Ly(f);for(let g=0;g<_.length;++g){const C=_[g],D=C.query,k=Uh(t,C);t.listenProvider_.startListening(ps(D),xs(t,D),k.hashFn,k.onComplete)}}}!h&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(ps(e),null):c.forEach(f=>{const _=t.queryToTagMap.get(Vi(f));t.listenProvider_.stopListening(ps(f),_)}))}Fy(t,c)}return l}function Lh(t,e,n,s){const i=Ko(t,s);if(i!=null){const r=zo(i),o=r.path,l=r.queryId,a=Be(o,e),c=new dn(Go(l),a,n);return Yo(t,o,c)}else return[]}function Dy(t,e,n,s){const i=Ko(t,s);if(i){const r=zo(i),o=r.path,l=r.queryId,a=Be(o,e),c=ae.fromObject(n),u=new Hn(Go(l),a,c);return Yo(t,o,u)}else return[]}function ky(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,_)=>{const g=Be(f,i);r=r||jt(_,g),o=o||zt(_)});let l=t.syncPointTree_.get(i);l?(o=o||zt(l),r=r||jt(l,J())):(l=new Oh,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;r!=null?a=!0:(a=!1,r=B.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,g)=>{const C=jt(g,J());C&&(r=r.updateImmediateChild(_,C))}));const c=kh(l,e);if(!c&&!e._queryParams.loadsAllData()){const f=Vi(e);T(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const _=Hy();t.queryToTagMap.set(f,_),t.tagToQueryMap.set(_,f)}const u=Wi(t.pendingWriteTree_,i);let h=Cy(l,e,n,u,r,a);if(!c&&!o&&!s){const f=Dh(l,e);h=h.concat(By(t,e,f))}return h}function Fh(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Be(o,e),c=jt(l,a);if(c)return c});return Th(i,e,r,n,!0)}function My(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=Be(c,n);s=s||jt(u,h)});let i=t.syncPointTree_.get(n);i?s=s||jt(i,J()):(i=new Oh,t.syncPointTree_=t.syncPointTree_.set(n,i));const r=s!=null,o=r?new Kt(s,!0,!1):null,l=Wi(t.pendingWriteTree_,e._path),a=xh(i,e,l,r?o.getNode():B.EMPTY_NODE,r);return my(a)}function Vn(t,e){return Hh(e,t.syncPointTree_,null,Wi(t.pendingWriteTree_,J()))}function Hh(t,e,n,s){if(q(t.path))return Bh(t,e,n,s);{const i=e.get(J());n==null&&i!=null&&(n=jt(i,J()));let r=[];const o=Y(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,u=Sh(s,o);r=r.concat(Hh(l,a,c,u))}return i&&(r=r.concat(qo(i,t,s,n))),r}}function Bh(t,e,n,s){const i=e.get(J());n==null&&i!=null&&(n=jt(i,J()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=Sh(s,o),u=t.operationForChild(o);u&&(r=r.concat(Bh(u,l,a,c)))}),i&&(r=r.concat(qo(i,t,s,n))),r}function Uh(t,e){const n=e.query,s=xs(t,n);return{hashFn:()=>(_y(e)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?Py(t,n._path,s):xy(t,n._path);{const r=Og(i,n);return Mh(t,n,null,r)}}}}function xs(t,e){const n=Vi(e);return t.queryToTagMap.get(n)}function Vi(t){return t._path.toString()+"$"+t._queryIdentifier}function Ko(t,e){return t.tagToQueryMap.get(e)}function zo(t){const e=t.indexOf("$");return T(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new re(t.substr(0,e))}}function Yo(t,e,n){const s=t.syncPointTree_.get(e);T(s,"Missing sync point for query tag that we're tracking");const i=Wi(t.pendingWriteTree_,e);return qo(s,n,i,null)}function Ly(t){return t.fold((e,n,s)=>{if(n&&zt(n))return[Gi(n)];{let i=[];return n&&(i=Ph(n)),Ne(s,(r,o)=>{i=i.concat(o)}),i}})}function ps(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wy())(t._repo,t._path):t}function Fy(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Vi(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function Hy(){return Ry++}function By(t,e,n){const s=e._path,i=xs(t,e),r=Uh(t,n),o=t.listenProvider_.startListening(ps(e),i,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(s);if(i)T(!zt(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,h)=>{if(!q(c)&&u&&zt(u))return[Gi(u).query];{let f=[];return u&&(f=f.concat(Ph(u).map(_=>_.query))),Ne(h,(_,g)=>{f=f.concat(g)}),f}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(ps(u),xs(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Qo(n)}node(){return this.node_}}class Xo{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=me(this.path_,e);return new Xo(this.syncTree_,n)}node(){return Fh(this.syncTree_,this.path_)}}const Uy=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$a=function(t,e,n){if(!t||typeof t!="object")return t;if(T(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Wy(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Gy(t[".sv"],e);T(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Wy=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+t)}},Gy=function(t,e,n){t.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&T(!1,"Unexpected increment value: "+s);const i=e.node();if(T(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},Wh=function(t,e,n,s){return Jo(e,new Xo(n,t),s)},Vy=function(t,e,n){return Jo(t,new Qo(e),n)};function Jo(t,e,n){const s=t.getPriority().val(),i=$a(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=$a(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ce(l,Se(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Ce(i))),o.forEachChild(ge,(l,a)=>{const c=Jo(a,e.getImmediateChild(l),n);c!==a&&(r=r.updateImmediateChild(l,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function el(t,e){let n=e instanceof re?e:new re(e),s=t,i=Y(n);for(;i!==null;){const r=Mn(s.node.children,i)||{children:{},childCount:0};s=new Zo(i,s,r),n=he(n),i=Y(n)}return s}function jn(t){return t.node.value}function Gh(t,e){t.node.value=e,eo(t)}function Vh(t){return t.node.childCount>0}function jy(t){return jn(t)===void 0&&!Vh(t)}function ji(t,e){Ne(t.node.children,(n,s)=>{e(new Zo(n,t,s))})}function jh(t,e,n,s){n&&!s&&e(t),ji(t,i=>{jh(i,e,!0,s)}),n&&s&&e(t)}function $y(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Vs(t){return new re(t.parent===null?t.name:Vs(t.parent)+"/"+t.name)}function eo(t){t.parent!==null&&qy(t.parent,t.name,t)}function qy(t,e,n){const s=jy(n),i=vt(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,eo(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,eo(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=/[\[\].#$\/\u0000-\u001F\u007F]/,zy=/[\[\].#$\u0000-\u001F\u007F]/,br=10*1024*1024,tl=function(t){return typeof t=="string"&&t.length!==0&&!Ky.test(t)},$h=function(t){return typeof t=="string"&&t.length!==0&&!zy.test(t)},Yy=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$h(t)},Qy=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Oo(t)||t&&typeof t=="object"&&vt(t,".sv")},nl=function(t,e,n){const s=n instanceof re?new uv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+sn(s));if(typeof e=="function")throw new Error(t+"contains a function "+sn(s)+" with contents = "+e.toString());if(Oo(e))throw new Error(t+"contains "+e.toString()+" "+sn(s));if(typeof e=="string"&&e.length>br/3&&Hi(e)>br)throw new Error(t+"contains a string greater than "+br+" utf8 bytes "+sn(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Ne(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!tl(o)))throw new Error(t+" contains an invalid key ("+o+") "+sn(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hv(s,o),nl(t,l,s),fv(s)}),i&&r)throw new Error(t+' contains ".value" child '+sn(s)+" in addition to actual children.")}},Xy=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=ws(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!tl(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(cv);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&Je(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},Jy=function(t,e,n,s){const i=No(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];Ne(e,(o,l)=>{const a=new re(o);if(nl(i,l,me(n,a)),Mo(a)===".priority"&&!Qy(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(a)}),Xy(i,r)},qh=function(t,e,n,s){if(!$h(n))throw new Error(No(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Zy=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qh(t,e,n)},eE=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!tl(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Yy(n))throw new Error(No(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kh(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!fh(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function gt(t,e,n){Kh(t,n),nE(t,s=>Je(s,e)||Je(e,s))}function nE(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(sE(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sE(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();us&&Re("event: "+n.toString()),Gn(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="repo_interrupt",rE=25;class oE{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mi(),this.transactionQueueTree_=new Zo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lE(t,e,n){if(t.stats_=Do(t.repoInfo_),t.forceRestClient_||kg())t.server_=new _i(t.repoInfo_,(s,i,r,o)=>{qa(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ka(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{be(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new St(t.repoInfo_,e,(s,i,r,o)=>{qa(t,s,i,r,o)},s=>{Ka(t,s)},s=>{cE(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=Bg(t.repoInfo_,()=>new Hv(t.stats_,t.server_)),t.infoData_=new Dv,t.infoSyncTree_=new ja({startListening:(s,i,r,o)=>{let l=[];const a=t.infoData_.getNode(s._path);return a.isEmpty()||(l=Gs(t.infoSyncTree_,s._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),il(t,"connected",!1),t.serverSyncTree_=new ja({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(l,a)=>{const c=o(l,a);gt(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function aE(t){const n=t.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function sl(t){return Uy({timestamp:aE(t)})}function qa(t,e,n,s,i){t.dataUpdateCount++;const r=new re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const a=ci(n,c=>Se(c));o=Dy(t.serverSyncTree_,r,a,i)}else{const a=Se(n);o=Lh(t.serverSyncTree_,r,a,i)}else if(s){const a=ci(n,c=>Se(c));o=Oy(t.serverSyncTree_,r,a)}else{const a=Se(n);o=Gs(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=Ps(t,r)),gt(t.eventQueue_,l,o)}function Ka(t,e){il(t,"connected",e),e===!1&&fE(t)}function cE(t,e){Ne(e,(n,s)=>{il(t,n,s)})}function il(t,e,n){const s=new re("/.info/"+e),i=Se(n);t.infoData_.updateSnapshot(s,i);const r=Gs(t.infoSyncTree_,s,i);gt(t.eventQueue_,s,r)}function zh(t){return t.nextWriteId_++}function uE(t,e,n){const s=My(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const r=Se(i).withIndex(e._queryParams.getIndex());ky(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Gs(t.serverSyncTree_,e._path,r);else{const l=xs(t.serverSyncTree_,e);o=Lh(t.serverSyncTree_,e._path,r,l)}return gt(t.eventQueue_,e._path,o),Mh(t.serverSyncTree_,e,n,null,!0),r},i=>($i(t,"get for query "+be(e)+" failed: "+i),Promise.reject(new Error(i))))}function hE(t,e,n,s){$i(t,"update",{path:e.toString(),value:n});let i=!0;const r=sl(t),o={};if(Ne(n,(l,a)=>{i=!1,o[l]=Wh(me(e,l),Se(a),t.serverSyncTree_,r)}),i)Re("update() called with empty data.  Don't do anything."),za(t,s,"ok",void 0);else{const l=zh(t),a=Ay(t.serverSyncTree_,e,o,l);Kh(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,u)=>{const h=c==="ok";h||Ve("update at "+e+" failed: "+c);const f=ln(t.serverSyncTree_,l,!h),_=f.length>0?Ps(t,e):e;gt(t.eventQueue_,_,f),za(t,s,c,u)}),Ne(n,c=>{const u=Zh(t,me(e,c));Ps(t,u)}),gt(t.eventQueue_,e,[])}}function fE(t){$i(t,"onDisconnectEvents");const e=sl(t),n=mi();zr(t.onDisconnect_,J(),(i,r)=>{const o=Wh(i,r,t.serverSyncTree_,e);Eh(n,i,o)});let s=[];zr(n,J(),(i,r)=>{s=s.concat(Gs(t.serverSyncTree_,i,r));const o=Zh(t,i);Ps(t,o)}),t.onDisconnect_=mi(),gt(t.eventQueue_,J(),s)}function dE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(iE)}function $i(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Re(n,...e)}function za(t,e,n,s){e&&Gn(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function Yh(t,e,n){return Fh(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function rl(t,e=t.transactionQueueTree_){if(e||qi(t,e),jn(e)){const n=Xh(t,e);T(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&pE(t,Vs(e),n)}else Vh(e)&&ji(e,n=>{rl(t,n)})}function pE(t,e,n){const s=n.map(c=>c.currentWriteId),i=Yh(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];T(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Be(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,c=>{$i(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ln(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();qi(t,el(t.transactionQueueTree_,e)),rl(t,t.transactionQueueTree_),gt(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)Gn(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ve("transaction at "+a.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Ps(t,e)}},o)}function Ps(t,e){const n=Qh(t,e),s=Vs(n),i=Xh(t,n);return _E(t,i,s),s}function _E(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Be(n,a.path);let u=!1,h;if(T(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,h=a.abortReason,i=i.concat(ln(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=rE)u=!0,h="maxretry",i=i.concat(ln(t.serverSyncTree_,a.currentWriteId,!0));else{const f=Yh(t,a.path,o);a.currentInputSnapshot=f;const _=e[l].update(f.val());if(_!==void 0){nl("transaction failed: Data returned ",_,a.path);let g=Se(_);typeof _=="object"&&_!=null&&vt(_,".priority")||(g=g.updatePriority(f.getPriority()));const D=a.currentWriteId,k=sl(t),x=Vy(g,f,k);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=x,a.currentWriteId=zh(t),o.splice(o.indexOf(D),1),i=i.concat(Ny(t.serverSyncTree_,a.path,x,a.currentWriteId,a.applyLocally)),i=i.concat(ln(t.serverSyncTree_,D,!0))}else u=!0,h="nodata",i=i.concat(ln(t.serverSyncTree_,a.currentWriteId,!0))}gt(t.eventQueue_,n,i),i=[],u&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?s.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):s.push(()=>e[l].onComplete(new Error(h),!1,null))))}qi(t,t.transactionQueueTree_);for(let l=0;l<s.length;l++)Gn(s[l]);rl(t,t.transactionQueueTree_)}function Qh(t,e){let n,s=t.transactionQueueTree_;for(n=Y(e);n!==null&&jn(s)===void 0;)s=el(s,n),e=he(e),n=Y(e);return s}function Xh(t,e){const n=[];return Jh(t,e,n),n.sort((s,i)=>s.order-i.order),n}function Jh(t,e,n){const s=jn(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);ji(e,i=>{Jh(t,i,n)})}function qi(t,e){const n=jn(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,Gh(e,n.length>0?n:void 0)}ji(e,s=>{qi(t,s)})}function Zh(t,e){const n=Vs(Qh(t,e)),s=el(t.transactionQueueTree_,e);return $y(s,i=>{Ir(t,i)}),Ir(t,s),jh(s,i=>{Ir(t,i)}),n}function Ir(t,e){const n=jn(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(T(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(T(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ln(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Gh(e,void 0):n.length=r+1,gt(t.eventQueue_,Vs(e),i);for(let o=0;o<s.length;o++)Gn(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function gE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ve(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ya=function(t,e){const n=vE(t),s=n.namespace;n.domain==="firebase.com"&&Rt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Rt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Sg();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new nh(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new re(n.pathString)}},vE=function(t){let e="",n="",s="",i="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=mE(t.substring(u,h)));const f=gE(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const g=e.indexOf(".");s=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:a,domain:n,subdomain:s,secure:o,scheme:l,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+be(this.snapshot.exportVal())}}class EE{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return q(this._path)?null:Mo(this._path)}get ref(){return new At(this._repo,this._path)}get _queryIdentifier(){const e=ka(this._queryParams),n=xo(e);return n==="{}"?"default":n}get _queryObject(){return ka(this._queryParams)}isEqual(e){if(e=Hs(e),!(e instanceof ol))return!1;const n=this._repo===e._repo,s=fh(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+av(this._path)}}class At extends ol{constructor(e,n){super(e,n,new Bo,!1)}get parent(){const e=hh(this._path);return e===null?null:new At(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ds{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new re(e),s=to(this.ref,e);return new Ds(this._node.getChild(n),s,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Ds(i,to(this.ref,s),ge)))}hasChild(e){const n=new re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function IE(t,e){return t=Hs(t),t._checkNotDeleted("ref"),to(t._root,e)}function to(t,e){return t=Hs(t),Y(t._path)===null?Zy("child","path",e):qh("child","path",e),new At(t._repo,me(t._path,e))}function CE(t,e){Jy("update",e,t._path);const n=new Fi;return hE(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function KE(t){t=Hs(t);const e=new bE(()=>{}),n=new ll(e);return uE(t._repo,t,n).then(s=>new Ds(s,new At(t._repo,t._path),t._queryParams.getIndex()))}class ll{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new yE("value",this,new Ds(e.snapshotNode,new At(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new EE(this,e,n):null}matches(e){return e instanceof ll?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Ey(At);Sy(At);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="FIREBASE_DATABASE_EMULATOR_HOST",no={};let SE=!1;function wE(t,e,n,s){t.repoInfo_=new nh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function RE(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||Rt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Ya(r,i),l=o.repoInfo,a;typeof process<"u"&&ma&&(a=ma[TE]),a?(r=`http://${a}?ns=${l.namespace}`,o=Ya(r,i),l=o.repoInfo):o.repoInfo.secure;const c=new Lg(t.name,t.options,e);eE("Invalid Firebase Database URL",o),q(o.path)||Rt("Database URL must point to the root of a Firebase Database (not including a child path).");const u=AE(l,t,c,new Mg(t.name,n));return new OE(u,t)}function NE(t,e){const n=no[e];(!n||n[t.key]!==t)&&Rt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dE(t),delete n[t.key]}function AE(t,e,n,s){let i=no[e.name];i||(i={},no[e.name]=i);let r=i[t.toURLString()];return r&&Rt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new oE(t,SE,n,s),i[t.toURLString()]=r,r}class OE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new At(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(NE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rt("Cannot call "+e+" on a deleted database.")}}function xE(t=cg(),e){const n=rg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=Y_("database");s&&PE(n,...s)}return n}function PE(t,e,n,s={}){t=Hs(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Rt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&Rt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Zs(Zs.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:Q_(s.mockUserToken,t.app.options.projectId);r=new Zs(o)}wE(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){yg(ag),hi(new Cs("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return RE(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),An(ga,va,t),An(ga,va,"esm2017")}function kE(t){return{".sv":{increment:t}}}St.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};St.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};DE();var ME="firebase",LE="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An(ME,LE,"app");const FE={apiKey:"AIzaSyDeJ\\_-qfuKQzhuMggUbvLl7YabZpIjqRVo",authDomain:"botaninvestments-onboarding.firebaseapp.com",projectId:"botaninvestments-onboarding",storageBucket:"botaninvestments-onboarding.firebasestorage.app",messagingSenderId:"196245016684",appId:"1:196245016684:web:2b912f287ad9ecfb014849"},HE=Bu(FE),BE=xE(HE),UE={key:1,class:"videoBlock"},WE=["src"],GE=Un({__name:"OnboardingComponent",setup(t){const e=Su(),n=Fe(()=>{switch(e.stage){case 0:return hr[0].header;case 3:return hr[2].header;default:return hr[1].header}});kc(()=>{s()}),Mc(()=>{s()});function s(){window.scrollTo({top:0,behavior:"smooth"})}function i(){const o=IE(BE,"onboarding/completed");CE(o,{count:kE(1)}).then(()=>console.log("Onboarding completed")).catch(l=>{console.error("Error during counter update",l)})}function r(){e.stage===3&&i(),e.increment()}return(o,l)=>(ht(),Mt(Xe,null,[ye(e).stage>0&&ye(e).stage<4?(ht(),Mt("ul",{class:"list",key:ye(e).stage},[(ht(!0),Mt(Xe,null,od(ye(M_)[ye(e).stage-1],a=>(ht(),Mt("li",{class:"listItem",key:a.id},[dt("h2",null,rn(a.header),1),dt("p",null,rn(a.text),1)]))),128))])):sr("",!0),ye(e).stage>0&&ye(e).stage<4?(ht(),Mt("div",UE,[dt("video",{class:"video",src:ye(ia)[ye(e).stage-1].link,autoplay:"",muted:"",playsinline:"",loop:"",style:{height:"auto",width:"200px"}},null,8,WE),dt("p",null,rn(ye(ia)[ye(e).stage-1].description),1)])):sr("",!0),dt("div",{class:Ni(["buttonBlock",{buttonStart:ye(e).stage===0}])},[ye(e).stage<4?(ht(),Mt("button",{key:0,class:"button",onClick:r},rn(n.value),1)):sr("",!0)],2)],64))}}),VE=wo(GE,[["__scopeId","data-v-06abdf59"]]),jE=Un({__name:"HomeView",setup(t){return(e,n)=>(ht(),Mt(Xe,null,[dt("header",null,[He(B_,{class:"wrapper"})]),dt("main",null,[He(VE)])],64))}}),$E=wo(jE,[["__scopeId","data-v-1e8965a7"]]),qE=A_({history:r_("/BotanInvestments-test-task/"),routes:[{path:"/",name:"home",component:$E},{path:"/admin",name:"admin",component:()=>k_(()=>import("./AdminView-BW56d5_y.js"),__vite__mapDeps([0,1]))}]}),al=vp(x_);al.use(Ip());al.use(qE);al.mount("#app");export{wo as _,Lc as a,IE as b,BE as c,Un as d,Mt as e,ht as f,KE as g,kc as o,Oi as r,rn as t};
