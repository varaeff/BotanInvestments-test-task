const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminView-CLRSt2cz.js","assets/AdminView-ClrT8yKu.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function lo(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const oe={},Rn=[],pt=()=>{},tf=()=>!1,Ni=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ao=t=>t.startsWith("onUpdate:"),we=Object.assign,co=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},nf=Object.prototype.hasOwnProperty,te=(t,e)=>nf.call(t,e),W=Array.isArray,An=t=>Oi(t)==="[object Map]",Xa=t=>Oi(t)==="[object Set]",V=t=>typeof t=="function",ye=t=>typeof t=="string",Yt=t=>typeof t=="symbol",de=t=>t!==null&&typeof t=="object",Ja=t=>(de(t)||V(t))&&V(t.then)&&V(t.catch),Za=Object.prototype.toString,Oi=t=>Za.call(t),sf=t=>Oi(t).slice(8,-1),ec=t=>Oi(t)==="[object Object]",uo=t=>ye(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ns=lo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},rf=/-(\w)/g,$t=xi(t=>t.replace(rf,(e,n)=>n?n.toUpperCase():"")),of=/\B([A-Z])/g,_n=xi(t=>t.replace(of,"-$1").toLowerCase()),tc=xi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ji=xi(t=>t?`on${tc(t)}`:""),Bt=(t,e)=>!Object.is(t,e),Zi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},nc=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},lf=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pl;const Pi=()=>pl||(pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ho(t){if(W(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=ye(s)?hf(s):ho(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(ye(t)||de(t))return t}const af=/;(?![^(]*\))/g,cf=/:([^]+)/,uf=/\/\*[^]*?\*\//g;function hf(t){const e={};return t.replace(uf,"").split(af).forEach(n=>{if(n){const s=n.split(cf);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Di(t){let e="";if(ye(t))e=t;else if(W(t))for(let n=0;n<t.length;n++){const s=Di(t[n]);s&&(e+=s+" ")}else if(de(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ff="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",df=lo(ff);function sc(t){return!!t||t===""}const ic=t=>!!(t&&t.__v_isRef===!0),ln=t=>ye(t)?t:t==null?"":W(t)||de(t)&&(t.toString===Za||!V(t.toString))?ic(t)?ln(t.value):JSON.stringify(t,rc,2):String(t),rc=(t,e)=>ic(e)?rc(t,e.value):An(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[er(s,r)+" =>"]=i,n),{})}:Xa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>er(n))}:Yt(e)?er(e):de(e)&&!W(e)&&!ec(e)?String(e):e,er=(t,e="")=>{var n;return Yt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Le;class oc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Le,!e&&Le&&(this.index=(Le.scopes||(Le.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Le;try{return Le=this,e()}finally{Le=n}}}on(){Le=this}off(){Le=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function lc(t){return new oc(t)}function ac(){return Le}function pf(t,e=!1){Le&&Le.cleanups.push(t)}let ae;const tr=new WeakSet;class cc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Le&&Le.active&&Le.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tr.has(this)&&(tr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||hc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_l(this),fc(this);const e=ae,n=rt;ae=this,rt=!0;try{return this.fn()}finally{dc(this),ae=e,rt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_o(e);this.deps=this.depsTail=void 0,_l(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Rr(this)&&this.run()}get dirty(){return Rr(this)}}let uc=0,ss,is;function hc(t,e=!1){if(t.flags|=8,e){t.next=is,is=t;return}t.next=ss,ss=t}function fo(){uc++}function po(){if(--uc>0)return;if(is){let e=is;for(is=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ss;){let e=ss;for(ss=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function fc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function dc(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),_o(s),_f(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function Rr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(pc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function pc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ms))return;t.globalVersion=ms;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Rr(t)){t.flags&=-3;return}const n=ae,s=rt;ae=t,rt=!0;try{fc(t);const i=t.fn(t._value);(e.version===0||Bt(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ae=n,rt=s,dc(t),t.flags&=-3}}function _o(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)_o(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function _f(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let rt=!0;const _c=[];function Qt(){_c.push(rt),rt=!1}function Xt(){const t=_c.pop();rt=t===void 0?!0:t}function _l(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ae;ae=void 0;try{e()}finally{ae=n}}}let ms=0;class mf{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ae||!rt||ae===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ae)n=this.activeLink=new mf(ae,this),ae.deps?(n.prevDep=ae.depsTail,ae.depsTail.nextDep=n,ae.depsTail=n):ae.deps=ae.depsTail=n,mc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ae.depsTail,n.nextDep=void 0,ae.depsTail.nextDep=n,ae.depsTail=n,ae.deps===n&&(ae.deps=s)}return n}trigger(e){this.version++,ms++,this.notify(e)}notify(e){fo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{po()}}}function mc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)mc(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ii=new WeakMap,an=Symbol(""),Ar=Symbol(""),gs=Symbol("");function Oe(t,e,n){if(rt&&ae){let s=ii.get(t);s||ii.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new mo),i.map=s,i.key=n),i.track()}}function Tt(t,e,n,s,i,r){const o=ii.get(t);if(!o){ms++;return}const l=a=>{a&&a.trigger()};if(fo(),e==="clear")o.forEach(l);else{const a=W(t),c=a&&uo(n);if(a&&n==="length"){const u=Number(s);o.forEach((h,f)=>{(f==="length"||f===gs||!Yt(f)&&f>=u)&&l(h)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(gs)),e){case"add":a?c&&l(o.get("length")):(l(o.get(an)),An(t)&&l(o.get(Ar)));break;case"delete":a||(l(o.get(an)),An(t)&&l(o.get(Ar)));break;case"set":An(t)&&l(o.get(an));break}}po()}function gf(t,e){const n=ii.get(t);return n&&n.get(e)}function bn(t){const e=X(t);return e===t?e:(Oe(e,"iterate",gs),tt(t)?e:e.map(xe))}function ki(t){return Oe(t=X(t),"iterate",gs),t}const vf={__proto__:null,[Symbol.iterator](){return nr(this,Symbol.iterator,xe)},concat(...t){return bn(this).concat(...t.map(e=>W(e)?bn(e):e))},entries(){return nr(this,"entries",t=>(t[1]=xe(t[1]),t))},every(t,e){return bt(this,"every",t,e,void 0,arguments)},filter(t,e){return bt(this,"filter",t,e,n=>n.map(xe),arguments)},find(t,e){return bt(this,"find",t,e,xe,arguments)},findIndex(t,e){return bt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return bt(this,"findLast",t,e,xe,arguments)},findLastIndex(t,e){return bt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return bt(this,"forEach",t,e,void 0,arguments)},includes(...t){return sr(this,"includes",t)},indexOf(...t){return sr(this,"indexOf",t)},join(t){return bn(this).join(t)},lastIndexOf(...t){return sr(this,"lastIndexOf",t)},map(t,e){return bt(this,"map",t,e,void 0,arguments)},pop(){return Kn(this,"pop")},push(...t){return Kn(this,"push",t)},reduce(t,...e){return ml(this,"reduce",t,e)},reduceRight(t,...e){return ml(this,"reduceRight",t,e)},shift(){return Kn(this,"shift")},some(t,e){return bt(this,"some",t,e,void 0,arguments)},splice(...t){return Kn(this,"splice",t)},toReversed(){return bn(this).toReversed()},toSorted(t){return bn(this).toSorted(t)},toSpliced(...t){return bn(this).toSpliced(...t)},unshift(...t){return Kn(this,"unshift",t)},values(){return nr(this,"values",xe)}};function nr(t,e,n){const s=ki(t),i=s[e]();return s!==t&&!tt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const yf=Array.prototype;function bt(t,e,n,s,i,r){const o=ki(t),l=o!==t&&!tt(t),a=o[e];if(a!==yf[e]){const h=a.apply(t,r);return l?xe(h):h}let c=n;o!==t&&(l?c=function(h,f){return n.call(this,xe(h),f,t)}:n.length>2&&(c=function(h,f){return n.call(this,h,f,t)}));const u=a.call(o,c,s);return l&&i?i(u):u}function ml(t,e,n,s){const i=ki(t);let r=n;return i!==t&&(tt(t)?n.length>3&&(r=function(o,l,a){return n.call(this,o,l,a,t)}):r=function(o,l,a){return n.call(this,o,xe(l),a,t)}),i[e](r,...s)}function sr(t,e,n){const s=X(t);Oe(s,"iterate",gs);const i=s[e](...n);return(i===-1||i===!1)&&yo(n[0])?(n[0]=X(n[0]),s[e](...n)):i}function Kn(t,e,n=[]){Qt(),fo();const s=X(t)[e].apply(t,n);return po(),Xt(),s}const Ef=lo("__proto__,__v_isRef,__isVue"),gc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Yt));function bf(t){Yt(t)||(t=String(t));const e=X(this);return Oe(e,"has",t),e.hasOwnProperty(t)}class vc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?xf:Cc:r?bc:Ec).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=W(e);if(!i){let a;if(o&&(a=vf[n]))return a;if(n==="hasOwnProperty")return bf}const l=Reflect.get(e,n,ve(e)?e:s);return(Yt(n)?gc.has(n):Ef(n))||(i||Oe(e,"get",n),r)?l:ve(l)?o&&uo(n)?l:l.value:de(l)?i?Tc(l):Ms(l):l}}class yc extends vc{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const a=un(r);if(!tt(s)&&!un(s)&&(r=X(r),s=X(s)),!W(e)&&ve(r)&&!ve(s))return a?!1:(r.value=s,!0)}const o=W(e)&&uo(n)?Number(n)<e.length:te(e,n),l=Reflect.set(e,n,s,ve(e)?e:i);return e===X(i)&&(o?Bt(s,r)&&Tt(e,"set",n,s):Tt(e,"add",n,s)),l}deleteProperty(e,n){const s=te(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Tt(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Yt(n)||!gc.has(n))&&Oe(e,"has",n),s}ownKeys(e){return Oe(e,"iterate",W(e)?"length":an),Reflect.ownKeys(e)}}class Cf extends vc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const If=new yc,Tf=new Cf,Sf=new yc(!0);const Nr=t=>t,zs=t=>Reflect.getPrototypeOf(t);function wf(t,e,n){return function(...s){const i=this.__v_raw,r=X(i),o=An(r),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=i[t](...s),u=n?Nr:e?Or:xe;return!e&&Oe(r,"iterate",a?Ar:an),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:l?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Ys(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Rf(t,e){const n={get(i){const r=this.__v_raw,o=X(r),l=X(i);t||(Bt(i,l)&&Oe(o,"get",i),Oe(o,"get",l));const{has:a}=zs(o),c=e?Nr:t?Or:xe;if(a.call(o,i))return c(r.get(i));if(a.call(o,l))return c(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Oe(X(i),"iterate",an),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=X(r),l=X(i);return t||(Bt(i,l)&&Oe(o,"has",i),Oe(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,a=X(l),c=e?Nr:t?Or:xe;return!t&&Oe(a,"iterate",an),l.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return we(n,t?{add:Ys("add"),set:Ys("set"),delete:Ys("delete"),clear:Ys("clear")}:{add(i){!e&&!tt(i)&&!un(i)&&(i=X(i));const r=X(this);return zs(r).has.call(r,i)||(r.add(i),Tt(r,"add",i,i)),this},set(i,r){!e&&!tt(r)&&!un(r)&&(r=X(r));const o=X(this),{has:l,get:a}=zs(o);let c=l.call(o,i);c||(i=X(i),c=l.call(o,i));const u=a.call(o,i);return o.set(i,r),c?Bt(r,u)&&Tt(o,"set",i,r):Tt(o,"add",i,r),this},delete(i){const r=X(this),{has:o,get:l}=zs(r);let a=o.call(r,i);a||(i=X(i),a=o.call(r,i)),l&&l.call(r,i);const c=r.delete(i);return a&&Tt(r,"delete",i,void 0),c},clear(){const i=X(this),r=i.size!==0,o=i.clear();return r&&Tt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=wf(i,t,e)}),n}function go(t,e){const n=Rf(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(te(n,i)&&i in s?n:s,i,r)}const Af={get:go(!1,!1)},Nf={get:go(!1,!0)},Of={get:go(!0,!1)};const Ec=new WeakMap,bc=new WeakMap,Cc=new WeakMap,xf=new WeakMap;function Pf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Df(t){return t.__v_skip||!Object.isExtensible(t)?0:Pf(sf(t))}function Ms(t){return un(t)?t:vo(t,!1,If,Af,Ec)}function Ic(t){return vo(t,!1,Sf,Nf,bc)}function Tc(t){return vo(t,!0,Tf,Of,Cc)}function vo(t,e,n,s,i){if(!de(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=Df(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function Ut(t){return un(t)?Ut(t.__v_raw):!!(t&&t.__v_isReactive)}function un(t){return!!(t&&t.__v_isReadonly)}function tt(t){return!!(t&&t.__v_isShallow)}function yo(t){return t?!!t.__v_raw:!1}function X(t){const e=t&&t.__v_raw;return e?X(e):t}function Eo(t){return!te(t,"__v_skip")&&Object.isExtensible(t)&&nc(t,"__v_skip",!0),t}const xe=t=>de(t)?Ms(t):t,Or=t=>de(t)?Tc(t):t;function ve(t){return t?t.__v_isRef===!0:!1}function Ls(t){return Sc(t,!1)}function kf(t){return Sc(t,!0)}function Sc(t,e){return ve(t)?t:new Mf(t,e)}class Mf{constructor(e,n){this.dep=new mo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:X(e),this._value=n?e:xe(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||tt(e)||un(e);e=s?e:X(e),Bt(e,n)&&(this._rawValue=e,this._value=s?e:xe(e),this.dep.trigger())}}function Ce(t){return ve(t)?t.value:t}const Lf={get:(t,e,n)=>e==="__v_raw"?t:Ce(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return ve(i)&&!ve(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function wc(t){return Ut(t)?t:new Proxy(t,Lf)}function Ff(t){const e=W(t)?new Array(t.length):{};for(const n in t)e[n]=Bf(t,n);return e}class Hf{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return gf(X(this._object),this._key)}}function Bf(t,e,n){const s=t[e];return ve(s)?s:new Hf(t,e,n)}class Uf{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new mo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return hc(this,!0),!0}get value(){const e=this.dep.track();return pc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Wf(t,e,n=!1){let s,i;return V(t)?s=t:(s=t.get,i=t.set),new Uf(s,i,n)}const Qs={},ri=new WeakMap;let tn;function Vf(t,e=!1,n=tn){if(n){let s=ri.get(n);s||ri.set(n,s=[]),s.push(t)}}function Gf(t,e,n=oe){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:a}=n,c=P=>i?P:tt(P)||i===!1||i===0?St(P,1):St(P);let u,h,f,_,g=!1,I=!1;if(ve(t)?(h=()=>t.value,g=tt(t)):Ut(t)?(h=()=>c(t),g=!0):W(t)?(I=!0,g=t.some(P=>Ut(P)||tt(P)),h=()=>t.map(P=>{if(ve(P))return P.value;if(Ut(P))return c(P);if(V(P))return a?a(P,2):P()})):V(t)?e?h=a?()=>a(t,2):t:h=()=>{if(f){Qt();try{f()}finally{Xt()}}const P=tn;tn=u;try{return a?a(t,3,[_]):t(_)}finally{tn=P}}:h=pt,e&&i){const P=h,j=i===!0?1/0:i;h=()=>St(P(),j)}const D=ac(),k=()=>{u.stop(),D&&D.active&&co(D.effects,u)};if(r&&e){const P=e;e=(...j)=>{P(...j),k()}}let x=I?new Array(t.length).fill(Qs):Qs;const M=P=>{if(!(!(u.flags&1)||!u.dirty&&!P))if(e){const j=u.run();if(i||g||(I?j.some((be,ne)=>Bt(be,x[ne])):Bt(j,x))){f&&f();const be=tn;tn=u;try{const ne=[j,x===Qs?void 0:I&&x[0]===Qs?[]:x,_];a?a(e,3,ne):e(...ne),x=j}finally{tn=be}}}else u.run()};return l&&l(M),u=new cc(h),u.scheduler=o?()=>o(M,!1):M,_=P=>Vf(P,!1,u),f=u.onStop=()=>{const P=ri.get(u);if(P){if(a)a(P,4);else for(const j of P)j();ri.delete(u)}},e?s?M(!0):x=u.run():o?o(M.bind(null,!0),!0):u.run(),k.pause=u.pause.bind(u),k.resume=u.resume.bind(u),k.stop=k,k}function St(t,e=1/0,n){if(e<=0||!de(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ve(t))St(t.value,e,n);else if(W(t))for(let s=0;s<t.length;s++)St(t[s],e,n);else if(Xa(t)||An(t))t.forEach(s=>{St(s,e,n)});else if(ec(t)){for(const s in t)St(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&St(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fs(t,e,n,s){try{return s?t(...s):t()}catch(i){Mi(i,e,n)}}function gt(t,e,n,s){if(V(t)){const i=Fs(t,e,n,s);return i&&Ja(i)&&i.catch(r=>{Mi(r,e,n)}),i}if(W(t)){const i=[];for(let r=0;r<t.length;r++)i.push(gt(t[r],e,n,s));return i}}function Mi(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||oe;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,a,c)===!1)return}l=l.parent}if(r){Qt(),Fs(r,null,10,[t,a,c]),Xt();return}}jf(t,n,i,s,o)}function jf(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Fe=[];let ht=-1;const Nn=[];let Lt=null,Tn=0;const Rc=Promise.resolve();let oi=null;function bo(t){const e=oi||Rc;return t?e.then(this?t.bind(this):t):e}function $f(t){let e=ht+1,n=Fe.length;for(;e<n;){const s=e+n>>>1,i=Fe[s],r=vs(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Co(t){if(!(t.flags&1)){const e=vs(t),n=Fe[Fe.length-1];!n||!(t.flags&2)&&e>=vs(n)?Fe.push(t):Fe.splice($f(e),0,t),t.flags|=1,Ac()}}function Ac(){oi||(oi=Rc.then(Oc))}function qf(t){W(t)?Nn.push(...t):Lt&&t.id===-1?Lt.splice(Tn+1,0,t):t.flags&1||(Nn.push(t),t.flags|=1),Ac()}function gl(t,e,n=ht+1){for(;n<Fe.length;n++){const s=Fe[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Fe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Nc(t){if(Nn.length){const e=[...new Set(Nn)].sort((n,s)=>vs(n)-vs(s));if(Nn.length=0,Lt){Lt.push(...e);return}for(Lt=e,Tn=0;Tn<Lt.length;Tn++){const n=Lt[Tn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Lt=null,Tn=0}}const vs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Oc(t){try{for(ht=0;ht<Fe.length;ht++){const e=Fe[ht];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Fs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ht<Fe.length;ht++){const e=Fe[ht];e&&(e.flags&=-2)}ht=-1,Fe.length=0,Nc(),oi=null,(Fe.length||Nn.length)&&Oc()}}let Qe=null,xc=null;function li(t){const e=Qe;return Qe=t,xc=t&&t.type.__scopeId||null,e}function Kf(t,e=Qe,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Sl(-1);const r=li(e);let o;try{o=t(...i)}finally{li(r),s._d&&Sl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function zf(t,e){if(Qe===null)return t;const n=Bi(Qe),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,a=oe]=e[i];r&&(V(r)&&(r={mounted:r,updated:r}),r.deep&&St(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return t}function Zt(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a&&(Qt(),gt(a,n,8,[t.el,l,t,e]),Xt())}}const Yf=Symbol("_vte"),Qf=t=>t.__isTeleport;function Io(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Io(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function mn(t,e){return V(t)?we({name:t.name},e,{setup:t}):t}function Pc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ai(t,e,n,s,i=!1){if(W(t)){t.forEach((g,I)=>ai(g,e&&(W(e)?e[I]:e),n,s,i));return}if(rs(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ai(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Bi(s.component):s.el,o=i?null:r,{i:l,r:a}=t,c=e&&e.r,u=l.refs===oe?l.refs={}:l.refs,h=l.setupState,f=X(h),_=h===oe?()=>!1:g=>te(f,g);if(c!=null&&c!==a&&(ye(c)?(u[c]=null,_(c)&&(h[c]=null)):ve(c)&&(c.value=null)),V(a))Fs(a,l,12,[o,u]);else{const g=ye(a),I=ve(a);if(g||I){const D=()=>{if(t.f){const k=g?_(a)?h[a]:u[a]:a.value;i?W(k)&&co(k,r):W(k)?k.includes(r)||k.push(r):g?(u[a]=[r],_(a)&&(h[a]=u[a])):(a.value=[r],t.k&&(u[t.k]=a.value))}else g?(u[a]=o,_(a)&&(h[a]=o)):I&&(a.value=o,t.k&&(u[t.k]=o))};o?(D.id=-1,ze(D,n)):D()}}}Pi().requestIdleCallback;Pi().cancelIdleCallback;const rs=t=>!!t.type.__asyncLoader,Dc=t=>t.type.__isKeepAlive;function Xf(t,e){kc(t,"a",e)}function Jf(t,e){kc(t,"da",e)}function kc(t,e,n=Pe){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Li(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Dc(i.parent.vnode)&&Zf(s,e,n,i),i=i.parent}}function Zf(t,e,n,s){const i=Li(e,t,s,!0);Fc(()=>{co(s[e],i)},n)}function Li(t,e,n=Pe,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Qt();const l=Hs(n),a=gt(e,n,t,o);return l(),Xt(),a});return s?i.unshift(r):i.push(r),r}}const Ot=t=>(e,n=Pe)=>{(!Es||t==="sp")&&Li(t,(...s)=>e(...s),n)},ed=Ot("bm"),Mc=Ot("m"),td=Ot("bu"),Lc=Ot("u"),nd=Ot("bum"),Fc=Ot("um"),sd=Ot("sp"),id=Ot("rtg"),rd=Ot("rtc");function od(t,e=Pe){Li("ec",t,e)}const ld=Symbol.for("v-ndc");function ad(t,e,n,s){let i;const r=n,o=W(t);if(o||ye(t)){const l=o&&Ut(t);let a=!1;l&&(a=!tt(t),t=ki(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(a?xe(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r)}else if(de(t))if(t[Symbol.iterator])i=Array.from(t,(l,a)=>e(l,a,void 0,r));else{const l=Object.keys(t);i=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];i[a]=e(t[u],u,a,r)}}else i=[];return i}const xr=t=>t?su(t)?Bi(t):xr(t.parent):null,os=we(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xr(t.parent),$root:t=>xr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>To(t),$forceUpdate:t=>t.f||(t.f=()=>{Co(t.update)}),$nextTick:t=>t.n||(t.n=bo.bind(t.proxy)),$watch:t=>Od.bind(t)}),ir=(t,e)=>t!==oe&&!t.__isScriptSetup&&te(t,e),cd={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(ir(s,e))return o[e]=1,s[e];if(i!==oe&&te(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&te(c,e))return o[e]=3,r[e];if(n!==oe&&te(n,e))return o[e]=4,n[e];Pr&&(o[e]=0)}}const u=os[e];let h,f;if(u)return e==="$attrs"&&Oe(t.attrs,"get",""),u(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==oe&&te(n,e))return o[e]=4,n[e];if(f=a.config.globalProperties,te(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return ir(i,e)?(i[e]=n,!0):s!==oe&&te(s,e)?(s[e]=n,!0):te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==oe&&te(t,o)||ir(e,o)||(l=r[0])&&te(l,o)||te(s,o)||te(os,o)||te(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function vl(t){return W(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Pr=!0;function ud(t){const e=To(t),n=t.proxy,s=t.ctx;Pr=!1,e.beforeCreate&&yl(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:_,updated:g,activated:I,deactivated:D,beforeDestroy:k,beforeUnmount:x,destroyed:M,unmounted:P,render:j,renderTracked:be,renderTriggered:ne,errorCaptured:K,serverPrefetch:z,expose:pe,inheritAttrs:ke,components:je,directives:Ue,filters:Jt}=e;if(c&&hd(c,s,null),o)for(const G in o){const Z=o[G];V(Z)&&(s[G]=Z.bind(n))}if(i){const G=i.call(n,n);de(G)&&(t.data=Ms(G))}if(Pr=!0,r)for(const G in r){const Z=r[G],Et=V(Z)?Z.bind(n,n):V(Z.get)?Z.get.bind(n,n):pt,Dt=!V(Z)&&V(Z.set)?Z.set.bind(n):pt,at=He({get:Et,set:Dt});Object.defineProperty(s,G,{enumerable:!0,configurable:!0,get:()=>at.value,set:We=>at.value=We})}if(l)for(const G in l)Hc(l[G],s,n,G);if(a){const G=V(a)?a.call(n):a;Reflect.ownKeys(G).forEach(Z=>{Zs(Z,G[Z])})}u&&yl(u,t,"c");function fe(G,Z){W(Z)?Z.forEach(Et=>G(Et.bind(n))):Z&&G(Z.bind(n))}if(fe(ed,h),fe(Mc,f),fe(td,_),fe(Lc,g),fe(Xf,I),fe(Jf,D),fe(od,K),fe(rd,be),fe(id,ne),fe(nd,x),fe(Fc,P),fe(sd,z),W(pe))if(pe.length){const G=t.exposed||(t.exposed={});pe.forEach(Z=>{Object.defineProperty(G,Z,{get:()=>n[Z],set:Et=>n[Z]=Et})})}else t.exposed||(t.exposed={});j&&t.render===pt&&(t.render=j),ke!=null&&(t.inheritAttrs=ke),je&&(t.components=je),Ue&&(t.directives=Ue),z&&Pc(t)}function hd(t,e,n=pt){W(t)&&(t=Dr(t));for(const s in t){const i=t[s];let r;de(i)?"default"in i?r=_t(i.from||s,i.default,!0):r=_t(i.from||s):r=_t(i),ve(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function yl(t,e,n){gt(W(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Hc(t,e,n,s){let i=s.includes(".")?Jc(n,s):()=>n[s];if(ye(t)){const r=e[t];V(r)&&On(i,r)}else if(V(t))On(i,t.bind(n));else if(de(t))if(W(t))t.forEach(r=>Hc(r,e,n,s));else{const r=V(t.handler)?t.handler.bind(n):e[t.handler];V(r)&&On(i,r,t)}}function To(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let a;return l?a=l:!i.length&&!n&&!s?a=e:(a={},i.length&&i.forEach(c=>ci(a,c,o,!0)),ci(a,e,o)),de(e)&&r.set(e,a),a}function ci(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&ci(t,r,n,!0),i&&i.forEach(o=>ci(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=fd[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const fd={data:El,props:bl,emits:bl,methods:ts,computed:ts,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:ts,directives:ts,watch:pd,provide:El,inject:dd};function El(t,e){return e?t?function(){return we(V(t)?t.call(this,this):t,V(e)?e.call(this,this):e)}:e:t}function dd(t,e){return ts(Dr(t),Dr(e))}function Dr(t){if(W(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Me(t,e){return t?[...new Set([].concat(t,e))]:e}function ts(t,e){return t?we(Object.create(null),t,e):e}function bl(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:we(Object.create(null),vl(t),vl(e??{})):e}function pd(t,e){if(!t)return e;if(!e)return t;const n=we(Object.create(null),t);for(const s in e)n[s]=Me(t[s],e[s]);return n}function Bc(){return{app:null,config:{isNativeTag:tf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _d=0;function md(t,e){return function(s,i=null){V(s)||(s=we({},s)),i!=null&&!de(i)&&(i=null);const r=Bc(),o=new WeakSet,l=[];let a=!1;const c=r.app={_uid:_d++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Xd,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&V(u.install)?(o.add(u),u.install(c,...h)):V(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,f){if(!a){const _=c._ceVNode||De(s,i);return _.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(_,u):t(_,u,f),a=!0,c._container=u,u.__vue_app__=c,Bi(_.component)}},onUnmount(u){l.push(u)},unmount(){a&&(gt(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=cn;cn=c;try{return u()}finally{cn=h}}};return c}}let cn=null;function Zs(t,e){if(Pe){let n=Pe.provides;const s=Pe.parent&&Pe.parent.provides;s===n&&(n=Pe.provides=Object.create(s)),n[t]=e}}function _t(t,e,n=!1){const s=Pe||Qe;if(s||cn){const i=cn?cn._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&V(e)?e.call(s&&s.proxy):e}}function gd(){return!!(Pe||Qe||cn)}const Uc={},Wc=()=>Object.create(Uc),Vc=t=>Object.getPrototypeOf(t)===Uc;function vd(t,e,n,s=!1){const i={},r=Wc();t.propsDefaults=Object.create(null),Gc(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Ic(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function yd(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=X(i),[a]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Fi(t.emitsOptions,f))continue;const _=e[f];if(a)if(te(r,f))_!==r[f]&&(r[f]=_,c=!0);else{const g=$t(f);i[g]=kr(a,l,g,_,t,!1)}else _!==r[f]&&(r[f]=_,c=!0)}}}else{Gc(t,e,i,r)&&(c=!0);let u;for(const h in l)(!e||!te(e,h)&&((u=_n(h))===h||!te(e,u)))&&(a?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=kr(a,l,h,void 0,t,!0)):delete i[h]);if(r!==l)for(const h in r)(!e||!te(e,h))&&(delete r[h],c=!0)}c&&Tt(t.attrs,"set","")}function Gc(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(ns(a))continue;const c=e[a];let u;i&&te(i,u=$t(a))?!r||!r.includes(u)?n[u]=c:(l||(l={}))[u]=c:Fi(t.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(r){const a=X(n),c=l||oe;for(let u=0;u<r.length;u++){const h=r[u];n[h]=kr(i,a,h,c[h],t,!te(c,h))}}return o}function kr(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=te(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&V(a)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Hs(i);s=c[n]=a.call(null,e),u()}}else s=a;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===_n(n))&&(s=!0))}return s}const Ed=new WeakMap;function jc(t,e,n=!1){const s=n?Ed:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let a=!1;if(!V(t)){const u=h=>{a=!0;const[f,_]=jc(h,e,!0);we(o,f),_&&l.push(..._)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!a)return de(t)&&s.set(t,Rn),Rn;if(W(r))for(let u=0;u<r.length;u++){const h=$t(r[u]);Cl(h)&&(o[h]=oe)}else if(r)for(const u in r){const h=$t(u);if(Cl(h)){const f=r[u],_=o[h]=W(f)||V(f)?{type:f}:we({},f),g=_.type;let I=!1,D=!0;if(W(g))for(let k=0;k<g.length;++k){const x=g[k],M=V(x)&&x.name;if(M==="Boolean"){I=!0;break}else M==="String"&&(D=!1)}else I=V(g)&&g.name==="Boolean";_[0]=I,_[1]=D,(I||te(_,"default"))&&l.push(h)}}const c=[o,l];return de(t)&&s.set(t,c),c}function Cl(t){return t[0]!=="$"&&!ns(t)}const $c=t=>t[0]==="_"||t==="$stable",So=t=>W(t)?t.map(dt):[dt(t)],bd=(t,e,n)=>{if(e._n)return e;const s=Kf((...i)=>So(e(...i)),n);return s._c=!1,s},qc=(t,e,n)=>{const s=t._ctx;for(const i in t){if($c(i))continue;const r=t[i];if(V(r))e[i]=bd(i,r,s);else if(r!=null){const o=So(r);e[i]=()=>o}}},Kc=(t,e)=>{const n=So(e);t.slots.default=()=>n},zc=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},Cd=(t,e,n)=>{const s=t.slots=Wc();if(t.vnode.shapeFlag&32){const i=e._;i?(zc(s,e,n),n&&nc(s,"_",i,!0)):qc(e,s)}else e&&Kc(t,e)},Id=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=oe;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:zc(i,e,n):(r=!e.$stable,qc(e,i)),o=e}else e&&(Kc(t,e),o={default:1});if(r)for(const l in i)!$c(l)&&o[l]==null&&delete i[l]},ze=Fd;function Td(t){return Sd(t)}function Sd(t,e){const n=Pi();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:_=pt,insertStaticContent:g}=t,I=(d,p,m,E=null,v=null,b=null,R=void 0,w=null,S=!!p.dynamicChildren)=>{if(d===p)return;d&&!zn(d,p)&&(E=y(d),We(d,v,b,!0),d=null),p.patchFlag===-2&&(S=!1,p.dynamicChildren=null);const{type:C,ref:H,shapeFlag:N}=p;switch(C){case Hi:D(d,p,m,E);break;case hn:k(d,p,m,E);break;case lr:d==null&&x(p,m,E,R);break;case Ze:je(d,p,m,E,v,b,R,w,S);break;default:N&1?j(d,p,m,E,v,b,R,w,S):N&6?Ue(d,p,m,E,v,b,R,w,S):(N&64||N&128)&&C.process(d,p,m,E,v,b,R,w,S,L)}H!=null&&v&&ai(H,d&&d.ref,b,p||d,!p)},D=(d,p,m,E)=>{if(d==null)s(p.el=l(p.children),m,E);else{const v=p.el=d.el;p.children!==d.children&&c(v,p.children)}},k=(d,p,m,E)=>{d==null?s(p.el=a(p.children||""),m,E):p.el=d.el},x=(d,p,m,E)=>{[d.el,d.anchor]=g(d.children,p,m,E,d.el,d.anchor)},M=({el:d,anchor:p},m,E)=>{let v;for(;d&&d!==p;)v=f(d),s(d,m,E),d=v;s(p,m,E)},P=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),i(d),d=m;i(p)},j=(d,p,m,E,v,b,R,w,S)=>{p.type==="svg"?R="svg":p.type==="math"&&(R="mathml"),d==null?be(p,m,E,v,b,R,w,S):z(d,p,v,b,R,w,S)},be=(d,p,m,E,v,b,R,w)=>{let S,C;const{props:H,shapeFlag:N,transition:F,dirs:U}=d;if(S=d.el=o(d.type,b,H&&H.is,H),N&8?u(S,d.children):N&16&&K(d.children,S,null,E,v,rr(d,b),R,w),U&&Zt(d,null,E,"created"),ne(S,d,d.scopeId,R,E),H){for(const le in H)le!=="value"&&!ns(le)&&r(S,le,null,H[le],b,E);"value"in H&&r(S,"value",null,H.value,b),(C=H.onVnodeBeforeMount)&&ut(C,E,d)}U&&Zt(d,null,E,"beforeMount");const Q=wd(v,F);Q&&F.beforeEnter(S),s(S,p,m),((C=H&&H.onVnodeMounted)||Q||U)&&ze(()=>{C&&ut(C,E,d),Q&&F.enter(S),U&&Zt(d,null,E,"mounted")},v)},ne=(d,p,m,E,v)=>{if(m&&_(d,m),E)for(let b=0;b<E.length;b++)_(d,E[b]);if(v){let b=v.subTree;if(p===b||eu(b.type)&&(b.ssContent===p||b.ssFallback===p)){const R=v.vnode;ne(d,R,R.scopeId,R.slotScopeIds,v.parent)}}},K=(d,p,m,E,v,b,R,w,S=0)=>{for(let C=S;C<d.length;C++){const H=d[C]=w?Ft(d[C]):dt(d[C]);I(null,H,p,m,E,v,b,R,w)}},z=(d,p,m,E,v,b,R)=>{const w=p.el=d.el;let{patchFlag:S,dynamicChildren:C,dirs:H}=p;S|=d.patchFlag&16;const N=d.props||oe,F=p.props||oe;let U;if(m&&en(m,!1),(U=F.onVnodeBeforeUpdate)&&ut(U,m,p,d),H&&Zt(p,d,m,"beforeUpdate"),m&&en(m,!0),(N.innerHTML&&F.innerHTML==null||N.textContent&&F.textContent==null)&&u(w,""),C?pe(d.dynamicChildren,C,w,m,E,rr(p,v),b):R||Z(d,p,w,null,m,E,rr(p,v),b,!1),S>0){if(S&16)ke(w,N,F,m,v);else if(S&2&&N.class!==F.class&&r(w,"class",null,F.class,v),S&4&&r(w,"style",N.style,F.style,v),S&8){const Q=p.dynamicProps;for(let le=0;le<Q.length;le++){const ie=Q[le],$e=N[ie],Ne=F[ie];(Ne!==$e||ie==="value")&&r(w,ie,$e,Ne,v,m)}}S&1&&d.children!==p.children&&u(w,p.children)}else!R&&C==null&&ke(w,N,F,m,v);((U=F.onVnodeUpdated)||H)&&ze(()=>{U&&ut(U,m,p,d),H&&Zt(p,d,m,"updated")},E)},pe=(d,p,m,E,v,b,R)=>{for(let w=0;w<p.length;w++){const S=d[w],C=p[w],H=S.el&&(S.type===Ze||!zn(S,C)||S.shapeFlag&70)?h(S.el):m;I(S,C,H,null,E,v,b,R,!0)}},ke=(d,p,m,E,v)=>{if(p!==m){if(p!==oe)for(const b in p)!ns(b)&&!(b in m)&&r(d,b,p[b],null,v,E);for(const b in m){if(ns(b))continue;const R=m[b],w=p[b];R!==w&&b!=="value"&&r(d,b,w,R,v,E)}"value"in m&&r(d,"value",p.value,m.value,v)}},je=(d,p,m,E,v,b,R,w,S)=>{const C=p.el=d?d.el:l(""),H=p.anchor=d?d.anchor:l("");let{patchFlag:N,dynamicChildren:F,slotScopeIds:U}=p;U&&(w=w?w.concat(U):U),d==null?(s(C,m,E),s(H,m,E),K(p.children||[],m,H,v,b,R,w,S)):N>0&&N&64&&F&&d.dynamicChildren?(pe(d.dynamicChildren,F,m,v,b,R,w),(p.key!=null||v&&p===v.subTree)&&Yc(d,p,!0)):Z(d,p,m,H,v,b,R,w,S)},Ue=(d,p,m,E,v,b,R,w,S)=>{p.slotScopeIds=w,d==null?p.shapeFlag&512?v.ctx.activate(p,m,E,R,S):Jt(p,m,E,v,b,R,S):Pt(d,p,S)},Jt=(d,p,m,E,v,b,R)=>{const w=d.component=$d(d,E,v);if(Dc(d)&&(w.ctx.renderer=L),qd(w,!1,R),w.asyncDep){if(v&&v.registerDep(w,fe,R),!d.el){const S=w.subTree=De(hn);k(null,S,p,m)}}else fe(w,d,p,m,v,b,R)},Pt=(d,p,m)=>{const E=p.component=d.component;if(Md(d,p,m))if(E.asyncDep&&!E.asyncResolved){G(E,p,m);return}else E.next=p,E.update();else p.el=d.el,E.vnode=p},fe=(d,p,m,E,v,b,R)=>{const w=()=>{if(d.isMounted){let{next:N,bu:F,u:U,parent:Q,vnode:le}=d;{const qe=Qc(d);if(qe){N&&(N.el=le.el,G(d,N,R)),qe.asyncDep.then(()=>{d.isUnmounted||w()});return}}let ie=N,$e;en(d,!1),N?(N.el=le.el,G(d,N,R)):N=le,F&&Zi(F),($e=N.props&&N.props.onVnodeBeforeUpdate)&&ut($e,Q,N,le),en(d,!0);const Ne=or(d),nt=d.subTree;d.subTree=Ne,I(nt,Ne,h(nt.el),y(nt),d,v,b),N.el=Ne.el,ie===null&&Ld(d,Ne.el),U&&ze(U,v),($e=N.props&&N.props.onVnodeUpdated)&&ze(()=>ut($e,Q,N,le),v)}else{let N;const{el:F,props:U}=p,{bm:Q,m:le,parent:ie,root:$e,type:Ne}=d,nt=rs(p);if(en(d,!1),Q&&Zi(Q),!nt&&(N=U&&U.onVnodeBeforeMount)&&ut(N,ie,p),en(d,!0),F&&_e){const qe=()=>{d.subTree=or(d),_e(F,d.subTree,d,v,null)};nt&&Ne.__asyncHydrate?Ne.__asyncHydrate(F,d,qe):qe()}else{$e.ce&&$e.ce._injectChildStyle(Ne);const qe=d.subTree=or(d);I(null,qe,m,E,d,v,b),p.el=qe.el}if(le&&ze(le,v),!nt&&(N=U&&U.onVnodeMounted)){const qe=p;ze(()=>ut(N,ie,qe),v)}(p.shapeFlag&256||ie&&rs(ie.vnode)&&ie.vnode.shapeFlag&256)&&d.a&&ze(d.a,v),d.isMounted=!0,p=m=E=null}};d.scope.on();const S=d.effect=new cc(w);d.scope.off();const C=d.update=S.run.bind(S),H=d.job=S.runIfDirty.bind(S);H.i=d,H.id=d.uid,S.scheduler=()=>Co(H),en(d,!0),C()},G=(d,p,m)=>{p.component=d;const E=d.vnode.props;d.vnode=p,d.next=null,yd(d,p.props,E,m),Id(d,p.children,m),Qt(),gl(d),Xt()},Z=(d,p,m,E,v,b,R,w,S=!1)=>{const C=d&&d.children,H=d?d.shapeFlag:0,N=p.children,{patchFlag:F,shapeFlag:U}=p;if(F>0){if(F&128){Dt(C,N,m,E,v,b,R,w,S);return}else if(F&256){Et(C,N,m,E,v,b,R,w,S);return}}U&8?(H&16&&Je(C,v,b),N!==C&&u(m,N)):H&16?U&16?Dt(C,N,m,E,v,b,R,w,S):Je(C,v,b,!0):(H&8&&u(m,""),U&16&&K(N,m,E,v,b,R,w,S))},Et=(d,p,m,E,v,b,R,w,S)=>{d=d||Rn,p=p||Rn;const C=d.length,H=p.length,N=Math.min(C,H);let F;for(F=0;F<N;F++){const U=p[F]=S?Ft(p[F]):dt(p[F]);I(d[F],U,m,null,v,b,R,w,S)}C>H?Je(d,v,b,!0,!1,N):K(p,m,E,v,b,R,w,S,N)},Dt=(d,p,m,E,v,b,R,w,S)=>{let C=0;const H=p.length;let N=d.length-1,F=H-1;for(;C<=N&&C<=F;){const U=d[C],Q=p[C]=S?Ft(p[C]):dt(p[C]);if(zn(U,Q))I(U,Q,m,null,v,b,R,w,S);else break;C++}for(;C<=N&&C<=F;){const U=d[N],Q=p[F]=S?Ft(p[F]):dt(p[F]);if(zn(U,Q))I(U,Q,m,null,v,b,R,w,S);else break;N--,F--}if(C>N){if(C<=F){const U=F+1,Q=U<H?p[U].el:E;for(;C<=F;)I(null,p[C]=S?Ft(p[C]):dt(p[C]),m,Q,v,b,R,w,S),C++}}else if(C>F)for(;C<=N;)We(d[C],v,b,!0),C++;else{const U=C,Q=C,le=new Map;for(C=Q;C<=F;C++){const Ke=p[C]=S?Ft(p[C]):dt(p[C]);Ke.key!=null&&le.set(Ke.key,C)}let ie,$e=0;const Ne=F-Q+1;let nt=!1,qe=0;const qn=new Array(Ne);for(C=0;C<Ne;C++)qn[C]=0;for(C=U;C<=N;C++){const Ke=d[C];if($e>=Ne){We(Ke,v,b,!0);continue}let ct;if(Ke.key!=null)ct=le.get(Ke.key);else for(ie=Q;ie<=F;ie++)if(qn[ie-Q]===0&&zn(Ke,p[ie])){ct=ie;break}ct===void 0?We(Ke,v,b,!0):(qn[ct-Q]=C+1,ct>=qe?qe=ct:nt=!0,I(Ke,p[ct],m,null,v,b,R,w,S),$e++)}const fl=nt?Rd(qn):Rn;for(ie=fl.length-1,C=Ne-1;C>=0;C--){const Ke=Q+C,ct=p[Ke],dl=Ke+1<H?p[Ke+1].el:E;qn[C]===0?I(null,ct,m,dl,v,b,R,w,S):nt&&(ie<0||C!==fl[ie]?at(ct,m,dl,2):ie--)}}},at=(d,p,m,E,v=null)=>{const{el:b,type:R,transition:w,children:S,shapeFlag:C}=d;if(C&6){at(d.component.subTree,p,m,E);return}if(C&128){d.suspense.move(p,m,E);return}if(C&64){R.move(d,p,m,L);return}if(R===Ze){s(b,p,m);for(let N=0;N<S.length;N++)at(S[N],p,m,E);s(d.anchor,p,m);return}if(R===lr){M(d,p,m);return}if(E!==2&&C&1&&w)if(E===0)w.beforeEnter(b),s(b,p,m),ze(()=>w.enter(b),v);else{const{leave:N,delayLeave:F,afterLeave:U}=w,Q=()=>s(b,p,m),le=()=>{N(b,()=>{Q(),U&&U()})};F?F(b,Q,le):le()}else s(b,p,m)},We=(d,p,m,E=!1,v=!1)=>{const{type:b,props:R,ref:w,children:S,dynamicChildren:C,shapeFlag:H,patchFlag:N,dirs:F,cacheIndex:U}=d;if(N===-2&&(v=!1),w!=null&&ai(w,null,m,d,!0),U!=null&&(p.renderCache[U]=void 0),H&256){p.ctx.deactivate(d);return}const Q=H&1&&F,le=!rs(d);let ie;if(le&&(ie=R&&R.onVnodeBeforeUnmount)&&ut(ie,p,d),H&6)Ks(d.component,m,E);else{if(H&128){d.suspense.unmount(m,E);return}Q&&Zt(d,null,p,"beforeUnmount"),H&64?d.type.remove(d,p,m,L,E):C&&!C.hasOnce&&(b!==Ze||N>0&&N&64)?Je(C,p,m,!1,!0):(b===Ze&&N&384||!v&&H&16)&&Je(S,p,m),E&&yn(d)}(le&&(ie=R&&R.onVnodeUnmounted)||Q)&&ze(()=>{ie&&ut(ie,p,d),Q&&Zt(d,null,p,"unmounted")},m)},yn=d=>{const{type:p,el:m,anchor:E,transition:v}=d;if(p===Ze){En(m,E);return}if(p===lr){P(d);return}const b=()=>{i(m),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:R,delayLeave:w}=v,S=()=>R(m,b);w?w(d.el,b,S):S()}else b()},En=(d,p)=>{let m;for(;d!==p;)m=f(d),i(d),d=m;i(p)},Ks=(d,p,m)=>{const{bum:E,scope:v,job:b,subTree:R,um:w,m:S,a:C}=d;Il(S),Il(C),E&&Zi(E),v.stop(),b&&(b.flags|=8,We(R,d,p,m)),w&&ze(w,p),ze(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Je=(d,p,m,E=!1,v=!1,b=0)=>{for(let R=b;R<d.length;R++)We(d[R],p,m,E,v)},y=d=>{if(d.shapeFlag&6)return y(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=f(d.anchor||d.el),m=p&&p[Yf];return m?f(m):p};let O=!1;const A=(d,p,m)=>{d==null?p._vnode&&We(p._vnode,null,null,!0):I(p._vnode||null,d,p,null,null,null,m),p._vnode=d,O||(O=!0,gl(),Nc(),O=!1)},L={p:I,um:We,m:at,r:yn,mt:Jt,mc:K,pc:Z,pbc:pe,n:y,o:t};let se,_e;return{render:A,hydrate:se,createApp:md(A,se)}}function rr({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function en({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function wd(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Yc(t,e,n=!1){const s=t.children,i=e.children;if(W(s)&&W(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Ft(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&Yc(o,l)),l.type===Hi&&(l.el=o.el)}}function Rd(t){const e=t.slice(),n=[0];let s,i,r,o,l;const a=t.length;for(s=0;s<a;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<c?r=l+1:o=l;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Qc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Qc(e)}function Il(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ad=Symbol.for("v-scx"),Nd=()=>_t(Ad);function On(t,e,n){return Xc(t,e,n)}function Xc(t,e,n=oe){const{immediate:s,deep:i,flush:r,once:o}=n,l=we({},n),a=e&&s||!e&&r!=="post";let c;if(Es){if(r==="sync"){const _=Nd();c=_.__watcherHandles||(_.__watcherHandles=[])}else if(!a){const _=()=>{};return _.stop=pt,_.resume=pt,_.pause=pt,_}}const u=Pe;l.call=(_,g,I)=>gt(_,u,g,I);let h=!1;r==="post"?l.scheduler=_=>{ze(_,u&&u.suspense)}:r!=="sync"&&(h=!0,l.scheduler=(_,g)=>{g?_():Co(_)}),l.augmentJob=_=>{e&&(_.flags|=4),h&&(_.flags|=2,u&&(_.id=u.uid,_.i=u))};const f=Gf(t,e,l);return Es&&(c?c.push(f):a&&f()),f}function Od(t,e,n){const s=this.proxy,i=ye(t)?t.includes(".")?Jc(s,t):()=>s[t]:t.bind(s,s);let r;V(e)?r=e:(r=e.handler,n=e);const o=Hs(this),l=Xc(i,r.bind(s),n);return o(),l}function Jc(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const xd=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${$t(e)}Modifiers`]||t[`${_n(e)}Modifiers`];function Pd(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||oe;let i=n;const r=e.startsWith("update:"),o=r&&xd(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>ye(u)?u.trim():u)),o.number&&(i=n.map(lf)));let l,a=s[l=Ji(e)]||s[l=Ji($t(e))];!a&&r&&(a=s[l=Ji(_n(e))]),a&&gt(a,t,6,i);const c=s[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,gt(c,t,6,i)}}function Zc(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!V(t)){const a=c=>{const u=Zc(c,e,!0);u&&(l=!0,we(o,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!l?(de(t)&&s.set(t,null),null):(W(r)?r.forEach(a=>o[a]=null):we(o,r),de(t)&&s.set(t,o),o)}function Fi(t,e){return!t||!Ni(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(t,e[0].toLowerCase()+e.slice(1))||te(t,_n(e))||te(t,e))}function or(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:a,render:c,renderCache:u,props:h,data:f,setupState:_,ctx:g,inheritAttrs:I}=t,D=li(t);let k,x;try{if(n.shapeFlag&4){const P=i||s,j=P;k=dt(c.call(j,P,u,h,_,f,g)),x=l}else{const P=e;k=dt(P.length>1?P(h,{attrs:l,slots:o,emit:a}):P(h,null)),x=e.props?l:Dd(l)}}catch(P){ls.length=0,Mi(P,t,1),k=De(hn)}let M=k;if(x&&I!==!1){const P=Object.keys(x),{shapeFlag:j}=M;P.length&&j&7&&(r&&P.some(ao)&&(x=kd(x,r)),M=kn(M,x,!1,!0))}return n.dirs&&(M=kn(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&Io(M,n.transition),k=M,li(D),k}const Dd=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ni(n))&&((e||(e={}))[n]=t[n]);return e},kd=(t,e)=>{const n={};for(const s in t)(!ao(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Md(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:a}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Tl(s,o,c):!!o;if(a&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Fi(c,f))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Tl(s,o,c):!0:!!o;return!1}function Tl(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Fi(n,r))return!0}return!1}function Ld({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const eu=t=>t.__isSuspense;function Fd(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):qf(t)}const Ze=Symbol.for("v-fgt"),Hi=Symbol.for("v-txt"),hn=Symbol.for("v-cmt"),lr=Symbol.for("v-stc"),ls=[];let Xe=null;function Ye(t=!1){ls.push(Xe=t?null:[])}function Hd(){ls.pop(),Xe=ls[ls.length-1]||null}let ys=1;function Sl(t,e=!1){ys+=t,t<0&&Xe&&e&&(Xe.hasOnce=!0)}function tu(t){return t.dynamicChildren=ys>0?Xe||Rn:null,Hd(),ys>0&&Xe&&Xe.push(t),t}function ft(t,e,n,s,i,r){return tu(mt(t,e,n,s,i,r,!0))}function wo(t,e,n,s,i){return tu(De(t,e,n,s,i,!0))}function ui(t){return t?t.__v_isVNode===!0:!1}function zn(t,e){return t.type===e.type&&t.key===e.key}const nu=({key:t})=>t??null,ei=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ye(t)||ve(t)||V(t)?{i:Qe,r:t,k:e,f:!!n}:t:null);function mt(t,e=null,n=null,s=0,i=null,r=t===Ze?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&nu(e),ref:e&&ei(e),scopeId:xc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qe};return l?(Ro(a,n),r&128&&t.normalize(a)):n&&(a.shapeFlag|=ye(n)?8:16),ys>0&&!o&&Xe&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&Xe.push(a),a}const De=Bd;function Bd(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===ld)&&(t=hn),ui(t)){const l=kn(t,e,!0);return n&&Ro(l,n),ys>0&&!r&&Xe&&(l.shapeFlag&6?Xe[Xe.indexOf(t)]=l:Xe.push(l)),l.patchFlag=-2,l}if(Qd(t)&&(t=t.__vccOpts),e){e=Ud(e);let{class:l,style:a}=e;l&&!ye(l)&&(e.class=Di(l)),de(a)&&(yo(a)&&!W(a)&&(a=we({},a)),e.style=ho(a))}const o=ye(t)?1:eu(t)?128:Qf(t)?64:de(t)?4:V(t)?2:0;return mt(t,e,n,s,i,o,r,!0)}function Ud(t){return t?yo(t)||Vc(t)?we({},t):t:null}function kn(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:a}=t,c=e?Vd(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&nu(c),ref:e&&e.ref?n&&r?W(r)?r.concat(ei(e)):[r,ei(e)]:ei(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&kn(t.ssContent),ssFallback:t.ssFallback&&kn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&s&&Io(u,a.clone(u)),u}function Wd(t=" ",e=0){return De(Hi,null,t,e)}function ti(t="",e=!1){return e?(Ye(),wo(hn,null,t)):De(hn,null,t)}function dt(t){return t==null||typeof t=="boolean"?De(hn):W(t)?De(Ze,null,t.slice()):ui(t)?Ft(t):De(Hi,null,String(t))}function Ft(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:kn(t)}function Ro(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(W(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Ro(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Vc(e)?e._ctx=Qe:i===3&&Qe&&(Qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else V(e)?(e={default:e,_ctx:Qe},n=32):(e=String(e),s&64?(n=16,e=[Wd(e)]):n=8);t.children=e,t.shapeFlag|=n}function Vd(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Di([e.class,s.class]));else if(i==="style")e.style=ho([e.style,s.style]);else if(Ni(i)){const r=e[i],o=s[i];o&&r!==o&&!(W(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function ut(t,e,n,s=null){gt(t,e,7,[n,s])}const Gd=Bc();let jd=0;function $d(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||Gd,r={uid:jd++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new oc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jc(s,i),emitsOptions:Zc(s,i),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:s.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Pd.bind(null,r),t.ce&&t.ce(r),r}let Pe=null,hi,Mr;{const t=Pi(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};hi=e("__VUE_INSTANCE_SETTERS__",n=>Pe=n),Mr=e("__VUE_SSR_SETTERS__",n=>Es=n)}const Hs=t=>{const e=Pe;return hi(t),t.scope.on(),()=>{t.scope.off(),hi(e)}},wl=()=>{Pe&&Pe.scope.off(),hi(null)};function su(t){return t.vnode.shapeFlag&4}let Es=!1;function qd(t,e=!1,n=!1){e&&Mr(e);const{props:s,children:i}=t.vnode,r=su(t);vd(t,s,r,e),Cd(t,i,n);const o=r?Kd(t,e):void 0;return e&&Mr(!1),o}function Kd(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,cd);const{setup:s}=n;if(s){Qt();const i=t.setupContext=s.length>1?Yd(t):null,r=Hs(t),o=Fs(s,t,0,[t.props,i]),l=Ja(o);if(Xt(),r(),(l||t.sp)&&!rs(t)&&Pc(t),l){if(o.then(wl,wl),e)return o.then(a=>{Rl(t,a,e)}).catch(a=>{Mi(a,t,0)});t.asyncDep=o}else Rl(t,o,e)}else iu(t,e)}function Rl(t,e,n){V(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:de(e)&&(t.setupState=wc(e)),iu(t,n)}let Al;function iu(t,e,n){const s=t.type;if(!t.render){if(!e&&Al&&!s.render){const i=s.template||To(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=s,c=we(we({isCustomElement:r,delimiters:l},o),a);s.render=Al(i,c)}}t.render=s.render||pt}{const i=Hs(t);Qt();try{ud(t)}finally{Xt(),i()}}}const zd={get(t,e){return Oe(t,"get",""),t[e]}};function Yd(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,zd),slots:t.slots,emit:t.emit,expose:e}}function Bi(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(wc(Eo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in os)return os[n](t)},has(e,n){return n in e||n in os}})):t.proxy}function Qd(t){return V(t)&&"__vccOpts"in t}const He=(t,e)=>Wf(t,e,Es);function ru(t,e,n){const s=arguments.length;return s===2?de(e)&&!W(e)?ui(e)?De(t,null,[e]):De(t,e):De(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ui(n)&&(n=[n]),De(t,e,n))}const Xd="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lr;const Nl=typeof window<"u"&&window.trustedTypes;if(Nl)try{Lr=Nl.createPolicy("vue",{createHTML:t=>t})}catch{}const ou=Lr?t=>Lr.createHTML(t):t=>t,Jd="http://www.w3.org/2000/svg",Zd="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,Ol=It&&It.createElement("template"),ep={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?It.createElementNS(Jd,t):e==="mathml"?It.createElementNS(Zd,t):n?It.createElement(t,{is:n}):It.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>It.createTextNode(t),createComment:t=>It.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>It.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Ol.innerHTML=ou(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=Ol.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},tp=Symbol("_vtc");function np(t,e,n){const s=t[tp];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const fi=Symbol("_vod"),lu=Symbol("_vsh"),sp={beforeMount(t,{value:e},{transition:n}){t[fi]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Yn(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Yn(t,!0),s.enter(t)):s.leave(t,()=>{Yn(t,!1)}):Yn(t,e))},beforeUnmount(t,{value:e}){Yn(t,e)}};function Yn(t,e){t.style.display=e?t[fi]:"none",t[lu]=!e}const ip=Symbol(""),rp=/(^|;)\s*display\s*:/;function op(t,e,n){const s=t.style,i=ye(n);let r=!1;if(n&&!i){if(e)if(ye(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ni(s,l,"")}else for(const o in e)n[o]==null&&ni(s,o,"");for(const o in n)o==="display"&&(r=!0),ni(s,o,n[o])}else if(i){if(e!==n){const o=s[ip];o&&(n+=";"+o),s.cssText=n,r=rp.test(n)}}else e&&t.removeAttribute("style");fi in t&&(t[fi]=r?s.display:"",t[lu]&&(s.display="none"))}const xl=/\s*!important$/;function ni(t,e,n){if(W(n))n.forEach(s=>ni(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=lp(t,e);xl.test(n)?t.setProperty(_n(s),n.replace(xl,""),"important"):t[s]=n}}const Pl=["Webkit","Moz","ms"],ar={};function lp(t,e){const n=ar[e];if(n)return n;let s=$t(e);if(s!=="filter"&&s in t)return ar[e]=s;s=tc(s);for(let i=0;i<Pl.length;i++){const r=Pl[i]+s;if(r in t)return ar[e]=r}return e}const Dl="http://www.w3.org/1999/xlink";function kl(t,e,n,s,i,r=df(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Dl,e.slice(6,e.length)):t.setAttributeNS(Dl,e,n):n==null||r&&!sc(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Yt(n)?String(n):n)}function Ml(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?ou(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=sc(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function ap(t,e,n,s){t.addEventListener(e,n,s)}function cp(t,e,n,s){t.removeEventListener(e,n,s)}const Ll=Symbol("_vei");function up(t,e,n,s,i=null){const r=t[Ll]||(t[Ll]={}),o=r[e];if(s&&o)o.value=s;else{const[l,a]=hp(e);if(s){const c=r[e]=pp(s,i);ap(t,l,c,a)}else o&&(cp(t,l,o,a),r[e]=void 0)}}const Fl=/(?:Once|Passive|Capture)$/;function hp(t){let e;if(Fl.test(t)){e={};let s;for(;s=t.match(Fl);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_n(t.slice(2)),e]}let cr=0;const fp=Promise.resolve(),dp=()=>cr||(fp.then(()=>cr=0),cr=Date.now());function pp(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;gt(_p(s,n.value),e,5,[s])};return n.value=t,n.attached=dp(),n}function _p(t,e){if(W(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Hl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,mp=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?np(t,s,o):e==="style"?op(t,n,s):Ni(e)?ao(e)||up(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):gp(t,e,s,o))?(Ml(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&kl(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ye(s))?Ml(t,$t(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),kl(t,e,s,o))};function gp(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Hl(e)&&V(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Hl(e)&&ye(n)?!1:e in t}const vp=we({patchProp:mp},ep);let Bl;function yp(){return Bl||(Bl=Td(vp))}const Ep=(...t)=>{const e=yp().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=Cp(s);if(!i)return;const r=e._component;!V(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,bp(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function bp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Cp(t){return ye(t)?document.querySelector(t):t}var Ip=!1;/*!
 * pinia v2.2.7
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let au;const Ui=t=>au=t,cu=Symbol();function Fr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var as;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(as||(as={}));function Tp(){const t=lc(!0),e=t.run(()=>Ls({}));let n=[],s=[];const i=Eo({install(r){Ui(i),i._a=r,r.provide(cu,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!Ip?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const uu=()=>{};function Ul(t,e,n,s=uu){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&ac()&&pf(i),i}function Cn(t,...e){t.slice().forEach(n=>{n(...e)})}const Sp=t=>t(),Wl=Symbol(),ur=Symbol();function Hr(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];Fr(i)&&Fr(s)&&t.hasOwnProperty(n)&&!ve(s)&&!Ut(s)?t[n]=Hr(i,s):t[n]=s}return t}const wp=Symbol();function Rp(t){return!Fr(t)||!t.hasOwnProperty(wp)}const{assign:Mt}=Object;function Ap(t){return!!(ve(t)&&t.effect)}function Np(t,e,n,s){const{state:i,actions:r,getters:o}=e,l=n.state.value[t];let a;function c(){l||(n.state.value[t]=i?i():{});const u=Ff(n.state.value[t]);return Mt(u,r,Object.keys(o||{}).reduce((h,f)=>(h[f]=Eo(He(()=>{Ui(n);const _=n._s.get(t);return o[f].call(_,_)})),h),{}))}return a=hu(t,c,e,n,s,!0),a}function hu(t,e,n={},s,i,r){let o;const l=Mt({actions:{}},n),a={deep:!0};let c,u,h=[],f=[],_;const g=s.state.value[t];!r&&!g&&(s.state.value[t]={}),Ls({});let I;function D(K){let z;c=u=!1,typeof K=="function"?(K(s.state.value[t]),z={type:as.patchFunction,storeId:t,events:_}):(Hr(s.state.value[t],K),z={type:as.patchObject,payload:K,storeId:t,events:_});const pe=I=Symbol();bo().then(()=>{I===pe&&(c=!0)}),u=!0,Cn(h,z,s.state.value[t])}const k=r?function(){const{state:z}=n,pe=z?z():{};this.$patch(ke=>{Mt(ke,pe)})}:uu;function x(){o.stop(),h=[],f=[],s._s.delete(t)}const M=(K,z="")=>{if(Wl in K)return K[ur]=z,K;const pe=function(){Ui(s);const ke=Array.from(arguments),je=[],Ue=[];function Jt(G){je.push(G)}function Pt(G){Ue.push(G)}Cn(f,{args:ke,name:pe[ur],store:j,after:Jt,onError:Pt});let fe;try{fe=K.apply(this&&this.$id===t?this:j,ke)}catch(G){throw Cn(Ue,G),G}return fe instanceof Promise?fe.then(G=>(Cn(je,G),G)).catch(G=>(Cn(Ue,G),Promise.reject(G))):(Cn(je,fe),fe)};return pe[Wl]=!0,pe[ur]=z,pe},P={_p:s,$id:t,$onAction:Ul.bind(null,f),$patch:D,$reset:k,$subscribe(K,z={}){const pe=Ul(h,K,z.detached,()=>ke()),ke=o.run(()=>On(()=>s.state.value[t],je=>{(z.flush==="sync"?u:c)&&K({storeId:t,type:as.direct,events:_},je)},Mt({},a,z)));return pe},$dispose:x},j=Ms(P);s._s.set(t,j);const ne=(s._a&&s._a.runWithContext||Sp)(()=>s._e.run(()=>(o=lc()).run(()=>e({action:M}))));for(const K in ne){const z=ne[K];if(ve(z)&&!Ap(z)||Ut(z))r||(g&&Rp(z)&&(ve(z)?z.value=g[K]:Hr(z,g[K])),s.state.value[t][K]=z);else if(typeof z=="function"){const pe=M(z,K);ne[K]=pe,l.actions[K]=z}}return Mt(j,ne),Mt(X(j),ne),Object.defineProperty(j,"$state",{get:()=>s.state.value[t],set:K=>{D(z=>{Mt(z,K)})}}),s._p.forEach(K=>{Mt(j,o.run(()=>K({store:j,app:s._a,pinia:s,options:l})))}),g&&r&&n.hydrate&&n.hydrate(j.$state,g),c=!0,u=!0,j}/*! #__NO_SIDE_EFFECTS__ */function Op(t,e,n){let s,i;const r=typeof e=="function";s=t,i=r?n:e;function o(l,a){const c=gd();return l=l||(c?_t(cu,null):null),l&&Ui(l),l=au,l._s.has(s)||(r?hu(s,e,i,l):Np(s,i,l)),l._s.get(s)}return o.$id=s,o}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Sn=typeof document<"u";function fu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function xp(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&fu(t.default)}const ee=Object.assign;function hr(t,e){const n={};for(const s in e){const i=e[s];n[s]=lt(i)?i.map(t):t(i)}return n}const cs=()=>{},lt=Array.isArray,du=/#/g,Pp=/&/g,Dp=/\//g,kp=/=/g,Mp=/\?/g,pu=/\+/g,Lp=/%5B/g,Fp=/%5D/g,_u=/%5E/g,Hp=/%60/g,mu=/%7B/g,Bp=/%7C/g,gu=/%7D/g,Up=/%20/g;function Ao(t){return encodeURI(""+t).replace(Bp,"|").replace(Lp,"[").replace(Fp,"]")}function Wp(t){return Ao(t).replace(mu,"{").replace(gu,"}").replace(_u,"^")}function Br(t){return Ao(t).replace(pu,"%2B").replace(Up,"+").replace(du,"%23").replace(Pp,"%26").replace(Hp,"`").replace(mu,"{").replace(gu,"}").replace(_u,"^")}function Vp(t){return Br(t).replace(kp,"%3D")}function Gp(t){return Ao(t).replace(du,"%23").replace(Mp,"%3F")}function jp(t){return t==null?"":Gp(t).replace(Dp,"%2F")}function bs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const $p=/\/$/,qp=t=>t.replace($p,"");function fr(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),i=t(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=Qp(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:bs(o)}}function Kp(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Vl(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function zp(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Mn(e.matched[s],n.matched[i])&&vu(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Mn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Yp(t[n],e[n]))return!1;return!0}function Yp(t,e){return lt(t)?Gl(t,e):lt(e)?Gl(e,t):t===e}function Gl(t,e){return lt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Qp(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const kt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Cs;(function(t){t.pop="pop",t.push="push"})(Cs||(Cs={}));var us;(function(t){t.back="back",t.forward="forward",t.unknown=""})(us||(us={}));function Xp(t){if(!t)if(Sn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),qp(t)}const Jp=/^[^#]+#/;function Zp(t,e){return t.replace(Jp,"#")+e}function e_(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Wi=()=>({left:window.scrollX,top:window.scrollY});function t_(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=e_(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function jl(t,e){return(history.state?history.state.position-e:-1)+t}const Ur=new Map;function n_(t,e){Ur.set(t,e)}function s_(t){const e=Ur.get(t);return Ur.delete(t),e}let i_=()=>location.protocol+"//"+location.host;function yu(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let l=i.includes(t.slice(r))?t.slice(r).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),Vl(a,"")}return Vl(n,t)+s+i}function r_(t,e,n,s){let i=[],r=[],o=null;const l=({state:f})=>{const _=yu(t,location),g=n.value,I=e.value;let D=0;if(f){if(n.value=_,e.value=f,o&&o===g){o=null;return}D=I?f.position-I.position:0}else s(_);i.forEach(k=>{k(n.value,g,{delta:D,type:Cs.pop,direction:D?D>0?us.forward:us.back:us.unknown})})};function a(){o=n.value}function c(f){i.push(f);const _=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return r.push(_),_}function u(){const{history:f}=window;f.state&&f.replaceState(ee({},f.state,{scroll:Wi()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:h}}function $l(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Wi():null}}function o_(t){const{history:e,location:n}=window,s={value:yu(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(a,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+a:i_()+t+a;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(_){console.error(_),n[u?"replace":"assign"](f)}}function o(a,c){const u=ee({},e.state,$l(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});r(a,u,!0),s.value=a}function l(a,c){const u=ee({},i.value,e.state,{forward:a,scroll:Wi()});r(u.current,u,!0);const h=ee({},$l(s.value,a,null),{position:u.position+1},c);r(a,h,!1),s.value=a}return{location:s,state:i,push:l,replace:o}}function l_(t){t=Xp(t);const e=o_(t),n=r_(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=ee({location:"",base:t,go:s,createHref:Zp.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function a_(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),l_(t)}function c_(t){return typeof t=="string"||t&&typeof t=="object"}function Eu(t){return typeof t=="string"||typeof t=="symbol"}const bu=Symbol("");var ql;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ql||(ql={}));function Ln(t,e){return ee(new Error,{type:t,[bu]:!0},e)}function Ct(t,e){return t instanceof Error&&bu in t&&(e==null||!!(t.type&e))}const Kl="[^/]+?",u_={sensitive:!1,strict:!1,start:!0,end:!0},h_=/[.+*?^${}()[\]/\\]/g;function f_(t,e){const n=ee({},u_,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let _=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(h_,"\\$&"),_+=40;else if(f.type===1){const{value:g,repeatable:I,optional:D,regexp:k}=f;r.push({name:g,repeatable:I,optional:D});const x=k||Kl;if(x!==Kl){_+=10;try{new RegExp(`(${x})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${g}" (${x}): `+P.message)}}let M=I?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(M=D&&c.length<2?`(?:/${M})`:"/"+M),D&&(M+="?"),i+=M,_+=20,D&&(_+=-8),I&&(_+=-20),x===".*"&&(_+=-50)}u.push(_)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const _=u[f]||"",g=r[f-1];h[g.name]=_&&g.repeatable?_.split("/"):_}return h}function a(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const _ of f)if(_.type===0)u+=_.value;else if(_.type===1){const{value:g,repeatable:I,optional:D}=_,k=g in c?c[g]:"";if(lt(k)&&!I)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const x=lt(k)?k.join("/"):k;if(!x)if(D)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=x}}return u||"/"}return{re:o,score:s,keys:r,parse:l,stringify:a}}function d_(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Cu(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=d_(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(zl(s))return 1;if(zl(i))return-1}return i.length-s.length}function zl(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const p_={type:0,value:""},__=/[a-zA-Z0-9_]/;function m_(t){if(!t)return[[]];if(t==="/")return[[p_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${n})/"${c}": ${_}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,a,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&h(),o()):a===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:a==="("?n=2:__.test(a)?f():(h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function g_(t,e,n){const s=f_(m_(t.path),n),i=ee(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function v_(t,e){const n=[],s=new Map;e=Jl({strict:!1,end:!0,sensitive:!1},e);function i(h){return s.get(h)}function r(h,f,_){const g=!_,I=Ql(h);I.aliasOf=_&&_.record;const D=Jl(e,h),k=[I];if("alias"in h){const P=typeof h.alias=="string"?[h.alias]:h.alias;for(const j of P)k.push(Ql(ee({},I,{components:_?_.record.components:I.components,path:j,aliasOf:_?_.record:I})))}let x,M;for(const P of k){const{path:j}=P;if(f&&j[0]!=="/"){const be=f.record.path,ne=be[be.length-1]==="/"?"":"/";P.path=f.record.path+(j&&ne+j)}if(x=g_(P,f,D),_?_.alias.push(x):(M=M||x,M!==x&&M.alias.push(x),g&&h.name&&!Xl(x)&&o(h.name)),Iu(x)&&a(x),I.children){const be=I.children;for(let ne=0;ne<be.length;ne++)r(be[ne],x,_&&_.children[ne])}_=_||x}return M?()=>{o(M)}:cs}function o(h){if(Eu(h)){const f=s.get(h);f&&(s.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function l(){return n}function a(h){const f=b_(h,n);n.splice(f,0,h),h.record.name&&!Xl(h)&&s.set(h.record.name,h)}function c(h,f){let _,g={},I,D;if("name"in h&&h.name){if(_=s.get(h.name),!_)throw Ln(1,{location:h});D=_.record.name,g=ee(Yl(f.params,_.keys.filter(M=>!M.optional).concat(_.parent?_.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),h.params&&Yl(h.params,_.keys.map(M=>M.name))),I=_.stringify(g)}else if(h.path!=null)I=h.path,_=n.find(M=>M.re.test(I)),_&&(g=_.parse(I),D=_.record.name);else{if(_=f.name?s.get(f.name):n.find(M=>M.re.test(f.path)),!_)throw Ln(1,{location:h,currentLocation:f});D=_.record.name,g=ee({},f.params,h.params),I=_.stringify(g)}const k=[];let x=_;for(;x;)k.unshift(x.record),x=x.parent;return{name:D,path:I,params:g,matched:k,meta:E_(k)}}t.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:l,getRecordMatcher:i}}function Yl(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Ql(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:y_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function y_(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Xl(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function E_(t){return t.reduce((e,n)=>ee(e,n.meta),{})}function Jl(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function b_(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;Cu(t,e[r])<0?s=r:n=r+1}const i=C_(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function C_(t){let e=t;for(;e=e.parent;)if(Iu(e)&&Cu(t,e)===0)return e}function Iu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function I_(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(pu," "),o=r.indexOf("="),l=bs(o<0?r:r.slice(0,o)),a=o<0?null:bs(r.slice(o+1));if(l in e){let c=e[l];lt(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function Zl(t){let e="";for(let n in t){const s=t[n];if(n=Vp(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(lt(s)?s.map(r=>r&&Br(r)):[s&&Br(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function T_(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=lt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const S_=Symbol(""),ea=Symbol(""),No=Symbol(""),Tu=Symbol(""),Wr=Symbol("");function Qn(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ht(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,a)=>{const c=f=>{f===!1?a(Ln(4,{from:n,to:e})):f instanceof Error?a(f):c_(f)?a(Ln(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),l())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>a(f))})}function dr(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(fu(a)){const u=(a.__vccOpts||a)[e];u&&r.push(Ht(u,n,s,o,l,i))}else{let c=a();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const h=xp(u)?u.default:u;o.mods[l]=u,o.components[l]=h;const _=(h.__vccOpts||h)[e];return _&&Ht(_,n,s,o,l,i)()}))}}return r}function ta(t){const e=_t(No),n=_t(Tu),s=He(()=>{const a=Ce(t.to);return e.resolve(a)}),i=He(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Mn.bind(null,u));if(f>-1)return f;const _=na(a[c-2]);return c>1&&na(u)===_&&h[h.length-1].path!==_?h.findIndex(Mn.bind(null,a[c-2])):f}),r=He(()=>i.value>-1&&O_(n.params,s.value.params)),o=He(()=>i.value>-1&&i.value===n.matched.length-1&&vu(n.params,s.value.params));function l(a={}){if(N_(a)){const c=e[Ce(t.replace)?"replace":"push"](Ce(t.to)).catch(cs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:He(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function w_(t){return t.length===1?t[0]:t}const R_=mn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ta,setup(t,{slots:e}){const n=Ms(ta(t)),{options:s}=_t(No),i=He(()=>({[sa(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[sa(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&w_(e.default(n));return t.custom?r:ru("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),A_=R_;function N_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function O_(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!lt(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function na(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sa=(t,e,n)=>t??e??n,x_=mn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=_t(Wr),i=He(()=>t.route||s.value),r=_t(ea,0),o=He(()=>{let c=Ce(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),l=He(()=>i.value.matched[o.value]);Zs(ea,He(()=>o.value+1)),Zs(S_,l),Zs(Wr,i);const a=Ls();return On(()=>[a.value,l.value,t.name],([c,u,h],[f,_,g])=>{u&&(u.instances[h]=c,_&&_!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=_.leaveGuards),u.updateGuards.size||(u.updateGuards=_.updateGuards))),c&&u&&(!_||!Mn(u,_)||!f)&&(u.enterCallbacks[h]||[]).forEach(I=>I(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=l.value,f=h&&h.components[u];if(!f)return ia(n.default,{Component:f,route:c});const _=h.props[u],g=_?_===!0?c.params:typeof _=="function"?_(c):_:null,D=ru(f,ee({},g,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(h.instances[u]=null)},ref:a}));return ia(n.default,{Component:D,route:c})||D}}});function ia(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Su=x_;function P_(t){const e=v_(t.routes,t),n=t.parseQuery||I_,s=t.stringifyQuery||Zl,i=t.history,r=Qn(),o=Qn(),l=Qn(),a=kf(kt);let c=kt;Sn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=hr.bind(null,y=>""+y),h=hr.bind(null,jp),f=hr.bind(null,bs);function _(y,O){let A,L;return Eu(y)?(A=e.getRecordMatcher(y),L=O):L=y,e.addRoute(L,A)}function g(y){const O=e.getRecordMatcher(y);O&&e.removeRoute(O)}function I(){return e.getRoutes().map(y=>y.record)}function D(y){return!!e.getRecordMatcher(y)}function k(y,O){if(O=ee({},O||a.value),typeof y=="string"){const p=fr(n,y,O.path),m=e.resolve({path:p.path},O),E=i.createHref(p.fullPath);return ee(p,m,{params:f(m.params),hash:bs(p.hash),redirectedFrom:void 0,href:E})}let A;if(y.path!=null)A=ee({},y,{path:fr(n,y.path,O.path).path});else{const p=ee({},y.params);for(const m in p)p[m]==null&&delete p[m];A=ee({},y,{params:h(p)}),O.params=h(O.params)}const L=e.resolve(A,O),se=y.hash||"";L.params=u(f(L.params));const _e=Kp(s,ee({},y,{hash:Wp(se),path:L.path})),d=i.createHref(_e);return ee({fullPath:_e,hash:se,query:s===Zl?T_(y.query):y.query||{}},L,{redirectedFrom:void 0,href:d})}function x(y){return typeof y=="string"?fr(n,y,a.value.path):ee({},y)}function M(y,O){if(c!==y)return Ln(8,{from:O,to:y})}function P(y){return ne(y)}function j(y){return P(ee(x(y),{replace:!0}))}function be(y){const O=y.matched[y.matched.length-1];if(O&&O.redirect){const{redirect:A}=O;let L=typeof A=="function"?A(y):A;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=x(L):{path:L},L.params={}),ee({query:y.query,hash:y.hash,params:L.path!=null?{}:y.params},L)}}function ne(y,O){const A=c=k(y),L=a.value,se=y.state,_e=y.force,d=y.replace===!0,p=be(A);if(p)return ne(ee(x(p),{state:typeof p=="object"?ee({},se,p.state):se,force:_e,replace:d}),O||A);const m=A;m.redirectedFrom=O;let E;return!_e&&zp(s,L,A)&&(E=Ln(16,{to:m,from:L}),at(L,L,!0,!1)),(E?Promise.resolve(E):pe(m,L)).catch(v=>Ct(v)?Ct(v,2)?v:Dt(v):Z(v,m,L)).then(v=>{if(v){if(Ct(v,2))return ne(ee({replace:d},x(v.to),{state:typeof v.to=="object"?ee({},se,v.to.state):se,force:_e}),O||m)}else v=je(m,L,!0,d,se);return ke(m,L,v),v})}function K(y,O){const A=M(y,O);return A?Promise.reject(A):Promise.resolve()}function z(y){const O=En.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(y):y()}function pe(y,O){let A;const[L,se,_e]=D_(y,O);A=dr(L.reverse(),"beforeRouteLeave",y,O);for(const p of L)p.leaveGuards.forEach(m=>{A.push(Ht(m,y,O))});const d=K.bind(null,y,O);return A.push(d),Je(A).then(()=>{A=[];for(const p of r.list())A.push(Ht(p,y,O));return A.push(d),Je(A)}).then(()=>{A=dr(se,"beforeRouteUpdate",y,O);for(const p of se)p.updateGuards.forEach(m=>{A.push(Ht(m,y,O))});return A.push(d),Je(A)}).then(()=>{A=[];for(const p of _e)if(p.beforeEnter)if(lt(p.beforeEnter))for(const m of p.beforeEnter)A.push(Ht(m,y,O));else A.push(Ht(p.beforeEnter,y,O));return A.push(d),Je(A)}).then(()=>(y.matched.forEach(p=>p.enterCallbacks={}),A=dr(_e,"beforeRouteEnter",y,O,z),A.push(d),Je(A))).then(()=>{A=[];for(const p of o.list())A.push(Ht(p,y,O));return A.push(d),Je(A)}).catch(p=>Ct(p,8)?p:Promise.reject(p))}function ke(y,O,A){l.list().forEach(L=>z(()=>L(y,O,A)))}function je(y,O,A,L,se){const _e=M(y,O);if(_e)return _e;const d=O===kt,p=Sn?history.state:{};A&&(L||d?i.replace(y.fullPath,ee({scroll:d&&p&&p.scroll},se)):i.push(y.fullPath,se)),a.value=y,at(y,O,A,d),Dt()}let Ue;function Jt(){Ue||(Ue=i.listen((y,O,A)=>{if(!Ks.listening)return;const L=k(y),se=be(L);if(se){ne(ee(se,{replace:!0,force:!0}),L).catch(cs);return}c=L;const _e=a.value;Sn&&n_(jl(_e.fullPath,A.delta),Wi()),pe(L,_e).catch(d=>Ct(d,12)?d:Ct(d,2)?(ne(ee(x(d.to),{force:!0}),L).then(p=>{Ct(p,20)&&!A.delta&&A.type===Cs.pop&&i.go(-1,!1)}).catch(cs),Promise.reject()):(A.delta&&i.go(-A.delta,!1),Z(d,L,_e))).then(d=>{d=d||je(L,_e,!1),d&&(A.delta&&!Ct(d,8)?i.go(-A.delta,!1):A.type===Cs.pop&&Ct(d,20)&&i.go(-1,!1)),ke(L,_e,d)}).catch(cs)}))}let Pt=Qn(),fe=Qn(),G;function Z(y,O,A){Dt(y);const L=fe.list();return L.length?L.forEach(se=>se(y,O,A)):console.error(y),Promise.reject(y)}function Et(){return G&&a.value!==kt?Promise.resolve():new Promise((y,O)=>{Pt.add([y,O])})}function Dt(y){return G||(G=!y,Jt(),Pt.list().forEach(([O,A])=>y?A(y):O()),Pt.reset()),y}function at(y,O,A,L){const{scrollBehavior:se}=t;if(!Sn||!se)return Promise.resolve();const _e=!A&&s_(jl(y.fullPath,0))||(L||!A)&&history.state&&history.state.scroll||null;return bo().then(()=>se(y,O,_e)).then(d=>d&&t_(d)).catch(d=>Z(d,y,O))}const We=y=>i.go(y);let yn;const En=new Set,Ks={currentRoute:a,listening:!0,addRoute:_,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:I,resolve:k,options:t,push:P,replace:j,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:fe.add,isReady:Et,install(y){const O=this;y.component("RouterLink",A_),y.component("RouterView",Su),y.config.globalProperties.$router=O,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>Ce(a)}),Sn&&!yn&&a.value===kt&&(yn=!0,P(i.location).catch(se=>{}));const A={};for(const se in kt)Object.defineProperty(A,se,{get:()=>a.value[se],enumerable:!0});y.provide(No,O),y.provide(Tu,Ic(A)),y.provide(Wr,a);const L=y.unmount;En.add(y),y.unmount=function(){En.delete(y),En.size<1&&(c=kt,Ue&&Ue(),Ue=null,a.value=kt,yn=!1,G=!1),L()}}};function Je(y){return y.reduce((O,A)=>O.then(()=>z(A)),Promise.resolve())}return Ks}function D_(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(c=>Mn(c,l))?s.push(l):n.push(l));const a=t.matched[o];a&&(e.matched.find(c=>Mn(c,a))||i.push(a))}return[n,s,i]}const k_=mn({__name:"App",setup(t){return(e,n)=>(Ye(),wo(Ce(Su)))}}),M_="modulepreload",L_=function(t){return"/BotanInvestments-test-task/"+t},ra={},F_=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=L_(a),a in ra)return;ra[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":M_,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,_)=>{h.addEventListener("load",f),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},H_=[[{id:0,header:"Stage 1, Header 1",text:"Lorem ipsum odor amet, consectetuer adipiscing elit. Montes interdum nibh dolor magna augue fames congue ridiculus. Sed euismod dapibus consectetur ipsum luctus. Arcu posuere penatibus malesuada, ad dictumst vitae. Et euismod netus lobortis ex consectetur ridiculus enim molestie. Ullamcorper integer ad luctus a ornare porttitor. Odio mollis at scelerisque pharetra feugiat justo iaculis mollis. Pellentesque hendrerit turpis inceptos phasellus libero."},{id:1,header:"Stage 1, Header 2",text:"Nec fringilla dui ultricies penatibus augue orci odio. At cursus suscipit senectus venenatis velit aliquet. Aliquet dictumst pulvinar cras finibus magnis velit. Cubilia primis habitant parturient dictum porta condimentum sociosqu. Morbi congue fames tempor molestie laoreet magna curae. Nunc nam sodales nulla morbi bibendum eget ac in. Sociosqu varius semper accumsan ridiculus dictumst egestas?"},{id:2,header:"Stage 1, Header 3",text:"Eget tortor eros leo ante augue nostra tristique. Sapien commodo ultrices lacinia condimentum non cubilia dapibus. Sapien tempus mauris sodales condimentum molestie; enim ligula. Suscipit dis sapien sodales eleifend feugiat fusce convallis fames. Rutrum elementum congue penatibus torquent odio. Adipiscing torquent odio accumsan fringilla magnis. Rutrum pretium placerat viverra dis eros. Volutpat eget fusce; mattis vulputate arcu nullam convallis."},{id:3,header:"Stage 1, Header 4",text:"Quis phasellus potenti mauris malesuada duis sem nulla. Posuere quis molestie accumsan ultricies nec venenatis. Nisl purus dictumst placerat iaculis gravida nibh cursus. Sollicitudin diam semper iaculis gravida efficitur luctus. Magnis ornare lorem mollis non semper mollis! Habitasse nam faucibus porta tempor vulputate mus. Morbi ipsum hac vel maximus consectetur. Sodales pellentesque luctus nascetur mattis tincidunt magna. Habitasse varius netus posuere, venenatis fames dis."},{id:4,header:"Stage 1, Header 5",text:"Hendrerit primis viverra elementum donec viverra lobortis. Natoque urna vestibulum nisi odio torquent semper? Suspendisse scelerisque malesuada curabitur; faucibus nisl habitant justo vivamus senectus. Senectus ullamcorper ligula natoque facilisi tempus ipsum. Porttitor nisl ad ultrices dignissim mattis aliquet. Gravida finibus proin libero ipsum placerat laoreet. Himenaeos taciti dis tempor litora litora cras pellentesque sed."}],[{id:0,header:"Stage 2, Header 1",text:"Lorem ipsum odor amet, consectetuer adipiscing elit. Dapibus cursus odio rutrum curae mi taciti tempus pulvinar? Integer porttitor mus rhoncus litora parturient aliquam placerat. Posuere posuere egestas sapien habitant ac nostra hac. Pulvinar vestibulum blandit quam donec lacinia. Ante accumsan sollicitudin ut blandit felis, aliquet ipsum rhoncus. Duis eros netus netus ut ut quam. Integer luctus metus montes iaculis cubilia dolor."},{id:1,header:"Stage 2, Header 2",text:"Elit libero orci; quisque porta scelerisque sollicitudin. Velit mus est nisi nunc etiam tempus. Diam erat tortor ac tortor lobortis vivamus ridiculus vehicula. Eu ultrices penatibus cras mus torquent maecenas semper fringilla. Curabitur at velit metus habitant luctus aliquam venenatis. Facilisis pharetra dignissim facilisis scelerisque bibendum fermentum mi."},{id:2,header:"Stage 2, Header 3",text:"Arcu potenti eros sit quisque natoque ex facilisis mollis. Tortor senectus quis efficitur; vel eros dis. Imperdiet tincidunt lacus nostra curabitur pellentesque, natoque est! Tincidunt aliquet fames blandit conubia sociosqu feugiat rhoncus himenaeos. Parturient maximus consectetur ad adipiscing himenaeos nisi rutrum leo. Pulvinar leo per quam imperdiet dictumst a nec maximus. Eget nullam etiam lobortis aptent orci taciti vehicula a. Vulputate fusce curabitur aliquet aliquet duis."},{id:3,header:"Stage 2, Header 4",text:"Vulputate eu massa in nisl consectetur euismod dolor. Nec ultricies ligula; lectus eros faucibus consectetur ad convallis. Porttitor pulvinar cras morbi nec orci mi maecenas duis? Nam dolor mollis maecenas massa purus orci natoque ac. Ornare curae feugiat orci vel duis. Enim imperdiet habitasse eleifend posuere quis mattis diam per."}],[{id:0,header:"Stage 3, Header 1",text:"Lorem ipsum odor amet, consectetuer adipiscing elit. Ased nec pulvinar pellentesque iaculis tempor. Primis sodales ultrices diam per aliquam; erat donec quisque. Facilisi ipsum lectus, bibendum fusce conubia non. Ex purus semper vehicula consequat, ornare purus. Tempus nascetur lacus primis mattis libero commodo adipiscing. Ornare etiam cras ut; ipsum justo orci. Commodo curabitur scelerisque nec fames nunc quis. Sociosqu posuere luctus mus vivamus adipiscing fermentum."},{id:1,header:"Stage 3, Header 2",text:"Laoreet nisi nostra cras accumsan, phasellus rutrum ex sem. Neque facilisis torquent sollicitudin ac pulvinar interdum eros. Vestibulum enim nisl euismod; nisi nisl aptent. Semper penatibus magna aenean; orci faucibus torquent. Nullam quam ante cubilia risus pellentesque velit dignissim. Fusce efficitur vehicula urna gravida sem magnis penatibus. Potenti fusce sit gravida potenti ipsum consectetur."},{id:2,header:"Stage 3, Header 3",text:"Facilisi placerat lacus a bibendum vehicula dictumst erat aenean erat. Elementum et elit sociosqu auctor habitasse urna posuere maximus. Dictumst convallis venenatis curae diam mauris amet ipsum, libero sem. Nisl eget hac ligula vehicula leo platea sagittis dignissim arcu. Feugiat nisi sem imperdiet torquent varius magna. Ut sem hendrerit ipsum urna mollis volutpat aliquet. Ex netus risus dignissim felis lobortis turpis vitae placerat."}]],pr=[{id:0,header:"Wellcome to onboarding!"},{id:1,header:"Stage"},{id:2,header:"Well done!"}],_r=[{id:0,header:"Get Started"},{id:1,header:"Next"},{id:2,header:"Finish onboarding"}],B_=[{description:"Welcome to Glam!",link:"https://cdn.getglam.app/content/paywalls/240515_web2web_video1_v04.mp4"},{description:"Match your Aesthetic",link:"https://cdn.getglam.app/content/paywalls/240515_web2web_video2_v01.mp4"},{description:"Explore 100+ Styles",link:"https://cdn.getglam.app/content/paywalls/240515_web2web_video3_v01.mp4"}],wu=Op("stage",()=>{const t=Ls(0);function e(){t.value++}return{stage:t,increment:e}}),U_={class:"head"},W_={class:"green"},V_=mn({__name:"HeaderComponent",setup(t){const e=wu(),n=He(()=>{switch(e.stage){case 0:return pr[0].header;case 4:return pr[2].header;default:return pr[1].header}}),s=He(()=>e.stage>0&&e.stage<4?` ${e.stage}.`:"");return(i,r)=>(Ye(),ft("div",U_,[mt("h1",W_,ln(n.value)+ln(s.value),1)]))}}),Bs=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},G_=Bs(V_,[["__scopeId","data-v-bbc58754"]]);var oa={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"npm/10.8.2 node/v18.20.5 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/18.20.5/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",VITE_FIREBASE_MESSAGING_SENDER_ID:"196245016684",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"varaeff",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"113440374",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_userconfig:"/home/runner/.npmrc",npm_config_local_prefix:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",SYSTEMD_EXEC_PID:"827",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241201.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.9/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.3/x64",JOURNAL_STREAM:"8:6666",GITHUB_WORKFLOW:"Deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/18.20.5/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/18.20.5/x64",npm_config_npm_version:"10.8.2",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12231723142",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",VITE_FIREBASE_STORAGE_BUCKET:"botaninvestments-onboarding.firebasestorage.app",GITHUB_WORKFLOW_SHA:"1ff860eb7cde85e34002fdf7399731aac6b7febd",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"varaeff/BotanInvestments-test-task/.github/workflows/deploy.yml@refs/heads/main",VITE_FIREBASE_AUTH_DOMAIN:"botaninvestments-onboarding.firebaseapp.com",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/18.20.5/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_722ef419-41cc-4ae9-9551-3a80cbc7425b",INVOCATION_ID:"9c2549a50cc644b8b39943f66346724f",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/18.20.5/x64/bin/node",npm_package_name:"onboarding-front",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"18",GITHUB_TRIGGERING_ACTOR:"varaeff",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 7",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"varaeff/BotanInvestments-test-task",STATS_D_D:"true",npm_lifecycle_script:"vite build",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"899555682",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"0.0.0",npm_lifecycle_event:"build",VITE_FIREBASE_PROJECT_ID:"botaninvestments-onboarding",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"1ff860eb7cde85e34002fdf7399731aac6b7febd",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",VITE_FIREBASE_APP_ID:"1:196245016684:web:2b912f287ad9ecfb014849",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"varaeff",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/18.20.5/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",GITHUB_ACTOR_ID:"113440374",RUNNER_WORKSPACE:"/home/runner/work/BotanInvestments-test-task",npm_execpath:"/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",npm_config_global_prefix:"/opt/hostedtoolcache/node/18.20.5/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",VITE_FIREBASE_API_KEY:"AIzaSyDeJ\\_-qfuKQzhuMggUbvLl7YabZpIjqRVo",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",INIT_CWD:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",EDITOR:"vi",NODE_ENV:"production",LAUNCH_EDITOR:"code"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(t,e){if(!t)throw Vn(e)},Vn=function(t){return new Error("Firebase Database ("+Ru.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},j_=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Oo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=r>>2,h=(r&3)<<4|l>>4;let f=(l&15)<<2|c>>6,_=c&63;a||(_=64,o||(f=64)),s.push(n[u],n[h],n[f],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Au(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||c==null||h==null)throw new $_;const f=r<<2|l>>4;if(s.push(f),c!==64){const _=l<<4&240|c>>2;if(s.push(_),h!==64){const g=c<<6&192|h;s.push(g)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nu=function(t){const e=Au(t);return Oo.encodeByteArray(e,!0)},di=function(t){return Nu(t).replace(/\./g,"")},Vr=function(t){try{return Oo.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){return Ou(void 0,t)}function Ou(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!K_(n)||(t[n]=Ou(t[n],e[n]));return t}function K_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=()=>z_().__FIREBASE_DEFAULTS__,Q_=()=>{if(typeof process>"u"||typeof oa>"u")return;const t=oa.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vr(t[1]);return e&&JSON.parse(e)},xu=()=>{try{return Y_()||Q_()||X_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J_=t=>{var e,n;return(n=(e=xu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Z_=t=>{const e=J_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Pu=()=>{var t;return(t=xu())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[di(JSON.stringify(n)),di(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Du(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tm())}function nm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ku(){return Ru.NODE_ADMIN===!0}function sm(){try{return typeof indexedDB=="object"}catch{return!1}}function im(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="FirebaseError";class Us extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=rm,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?om(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Us(i,l,s)}}function om(t,e){return t.replace(lm,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const lm=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){return JSON.parse(t)}function Ee(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=Is(Vr(r[0])||""),n=Is(Vr(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},am=function(t){const e=Lu(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},cm=function(t){const e=Lu(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function la(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pi(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Gr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(aa(r)&&aa(o)){if(!Gr(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function aa(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)s[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)s[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=l^r&(o^l),u=1518500249):(c=r^o^l,u=1859775393):h<60?(c=r&o|l&(r|o),u=2400959708):(c=r^o^l,u=3395469782);const f=(i<<5|i>>>27)+c+a+u+s[h]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function xo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,T(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Gi=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Vi;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_m(e))try{this.getOrInitializeService({instanceIdentifier:nn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=nn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nn){return this.instances.has(e)}getOptions(e=nn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pm(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=nn){return this.component?this.component.multipleInstances?e:nn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pm(t){return t===nn?void 0:t}function _m(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const gm={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},vm=ue.INFO,ym={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Em=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=ym[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fu{constructor(e){this.name=e,this._logLevel=vm,this._logHandler=Em,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const bm=(t,e)=>e.some(n=>t instanceof n);let ca,ua;function Cm(){return ca||(ca=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Im(){return ua||(ua=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hu=new WeakMap,jr=new WeakMap,Bu=new WeakMap,mr=new WeakMap,Po=new WeakMap;function Tm(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Wt(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Hu.set(n,t)}).catch(()=>{}),Po.set(e,t),e}function Sm(t){if(jr.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});jr.set(t,e)}let $r={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jr.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bu.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wm(t){$r=t($r)}function Rm(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(gr(this),e,...n);return Bu.set(s,e.sort?e.sort():[e]),Wt(s)}:Im().includes(t)?function(...e){return t.apply(gr(this),e),Wt(Hu.get(this))}:function(...e){return Wt(t.apply(gr(this),e))}}function Am(t){return typeof t=="function"?Rm(t):(t instanceof IDBTransaction&&Sm(t),bm(t,Cm())?new Proxy(t,$r):t)}function Wt(t){if(t instanceof IDBRequest)return Tm(t);if(mr.has(t))return mr.get(t);const e=Am(t);return e!==t&&(mr.set(t,e),Po.set(e,t)),e}const gr=t=>Po.get(t);function Nm(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=Wt(o);return s&&o.addEventListener("upgradeneeded",a=>{s(Wt(o.result),a.oldVersion,a.newVersion,Wt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Om=["get","getKey","getAll","getAllKeys","count"],xm=["put","add","delete","clear"],vr=new Map;function ha(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vr.get(e))return vr.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=xm.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Om.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return vr.set(e,r),r}wm(t=>({...t,get:(e,n,s)=>ha(e,n)||t.get(e,n,s),has:(e,n)=>!!ha(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dm(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Dm(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qr="@firebase/app",fa="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At=new Fu("@firebase/app"),km="@firebase/app-compat",Mm="@firebase/analytics-compat",Lm="@firebase/analytics",Fm="@firebase/app-check-compat",Hm="@firebase/app-check",Bm="@firebase/auth",Um="@firebase/auth-compat",Wm="@firebase/database",Vm="@firebase/data-connect",Gm="@firebase/database-compat",jm="@firebase/functions",$m="@firebase/functions-compat",qm="@firebase/installations",Km="@firebase/installations-compat",zm="@firebase/messaging",Ym="@firebase/messaging-compat",Qm="@firebase/performance",Xm="@firebase/performance-compat",Jm="@firebase/remote-config",Zm="@firebase/remote-config-compat",eg="@firebase/storage",tg="@firebase/storage-compat",ng="@firebase/firestore",sg="@firebase/vertexai",ig="@firebase/firestore-compat",rg="firebase",og="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]",lg={[qr]:"fire-core",[km]:"fire-core-compat",[Lm]:"fire-analytics",[Mm]:"fire-analytics-compat",[Hm]:"fire-app-check",[Fm]:"fire-app-check-compat",[Bm]:"fire-auth",[Um]:"fire-auth-compat",[Wm]:"fire-rtdb",[Vm]:"fire-data-connect",[Gm]:"fire-rtdb-compat",[jm]:"fire-fn",[$m]:"fire-fn-compat",[qm]:"fire-iid",[Km]:"fire-iid-compat",[zm]:"fire-fcm",[Ym]:"fire-fcm-compat",[Qm]:"fire-perf",[Xm]:"fire-perf-compat",[Jm]:"fire-rc",[Zm]:"fire-rc-compat",[eg]:"fire-gcs",[tg]:"fire-gcs-compat",[ng]:"fire-fst",[ig]:"fire-fst-compat",[sg]:"fire-vertex","fire-js":"fire-js",[rg]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Map,ag=new Map,zr=new Map;function da(t,e){try{t.container.addComponent(e)}catch(n){At.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mi(t){const e=t.name;if(zr.has(e))return At.debug(`There were multiple attempts to register component ${e}.`),!1;zr.set(e,t);for(const n of _i.values())da(n,t);for(const n of ag.values())da(n,t);return!0}function cg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vt=new Mu("app","Firebase",ug);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=og;function Uu(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Kr,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Vt.create("bad-app-name",{appName:String(i)});if(n||(n=Pu()),!n)throw Vt.create("no-options");const r=_i.get(i);if(r){if(Gr(n,r.options)&&Gr(s,r.config))return r;throw Vt.create("duplicate-app",{appName:i})}const o=new mm(i);for(const a of zr.values())o.addComponent(a);const l=new hg(n,s,o);return _i.set(i,l),l}function dg(t=Kr){const e=_i.get(t);if(!e&&t===Kr&&Pu())return Uu();if(!e)throw Vt.create("no-app",{appName:t});return e}function xn(t,e,n){var s;let i=(s=lg[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),At.warn(l.join(" "));return}mi(new Ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="firebase-heartbeat-database",_g=1,Ss="firebase-heartbeat-store";let yr=null;function Wu(){return yr||(yr=Nm(pg,_g,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ss)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vt.create("idb-open",{originalErrorMessage:t.message})})),yr}async function mg(t){try{const n=(await Wu()).transaction(Ss),s=await n.objectStore(Ss).get(Vu(t));return await n.done,s}catch(e){if(e instanceof Us)At.warn(e.message);else{const n=Vt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});At.warn(n.message)}}}async function pa(t,e){try{const s=(await Wu()).transaction(Ss,"readwrite");await s.objectStore(Ss).put(e,Vu(t)),await s.done}catch(n){if(n instanceof Us)At.warn(n.message);else{const s=Vt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});At.warn(s.message)}}}function Vu(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=1024,vg=30*24*60*60*1e3;class yg{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bg(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_a();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=vg}),this._storage.overwrite(this._heartbeatsCache))}catch(s){At.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_a(),{heartbeatsToSend:s,unsentEntries:i}=Eg(this._heartbeatsCache.heartbeats),r=di(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return At.warn(n),""}}}function _a(){return new Date().toISOString().substring(0,10)}function Eg(t,e=gg){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),ma(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ma(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bg{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sm()?im().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mg(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ma(t){return di(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t){mi(new Ts("platform-logger",e=>new Pm(e),"PRIVATE")),mi(new Ts("heartbeat",e=>new yg(e),"PRIVATE")),xn(qr,fa,t),xn(qr,fa,"esm2017"),xn("fire-js","")}Cg("");var ga={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"npm/10.8.2 node/v18.20.5 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/18.20.5/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",VITE_FIREBASE_MESSAGING_SENDER_ID:"196245016684",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"varaeff",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"113440374",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_userconfig:"/home/runner/.npmrc",npm_config_local_prefix:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",SYSTEMD_EXEC_PID:"827",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241201.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.9/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.3/x64",JOURNAL_STREAM:"8:6666",GITHUB_WORKFLOW:"Deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/18.20.5/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/18.20.5/x64",npm_config_npm_version:"10.8.2",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12231723142",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",VITE_FIREBASE_STORAGE_BUCKET:"botaninvestments-onboarding.firebasestorage.app",GITHUB_WORKFLOW_SHA:"1ff860eb7cde85e34002fdf7399731aac6b7febd",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"varaeff/BotanInvestments-test-task/.github/workflows/deploy.yml@refs/heads/main",VITE_FIREBASE_AUTH_DOMAIN:"botaninvestments-onboarding.firebaseapp.com",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/BotanInvestments-test-task/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/18.20.5/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_722ef419-41cc-4ae9-9551-3a80cbc7425b",INVOCATION_ID:"9c2549a50cc644b8b39943f66346724f",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/18.20.5/x64/bin/node",npm_package_name:"onboarding-front",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"18",GITHUB_TRIGGERING_ACTOR:"varaeff",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 7",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"varaeff/BotanInvestments-test-task",STATS_D_D:"true",npm_lifecycle_script:"vite build",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"899555682",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"0.0.0",npm_lifecycle_event:"build",VITE_FIREBASE_PROJECT_ID:"botaninvestments-onboarding",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"1ff860eb7cde85e34002fdf7399731aac6b7febd",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",VITE_FIREBASE_APP_ID:"1:196245016684:web:2b912f287ad9ecfb014849",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"varaeff",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/18.20.5/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",GITHUB_ACTOR_ID:"113440374",RUNNER_WORKSPACE:"/home/runner/work/BotanInvestments-test-task",npm_execpath:"/opt/hostedtoolcache/node/18.20.5/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",npm_config_global_prefix:"/opt/hostedtoolcache/node/18.20.5/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",VITE_FIREBASE_API_KEY:"AIzaSyDeJ\\_-qfuKQzhuMggUbvLl7YabZpIjqRVo",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_1d333ad4-ed04-4a0f-b1a3-6af530a3748d",INIT_CWD:"/home/runner/work/BotanInvestments-test-task/BotanInvestments-test-task",EDITOR:"vi",NODE_ENV:"production",LAUNCH_EDITOR:"code"};const va="@firebase/database",ya="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="";function Ig(t){Gu=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ee(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Is(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return yt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Tg(e)}}catch{}return new Sg},rn=ju("localStorage"),wg=ju("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Fu("@firebase/database"),Rg=function(){let t=1;return function(){return t++}}(),$u=function(t){const e=fm(t),n=new hm;n.update(e);const s=n.digest();return Oo.encodeByteArray(s)},Vs=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Vs.apply(null,s):typeof s=="object"?e+=Ee(s):e+=s,e+=" "}return e};let hs=null,Ea=!0;const Ag=function(t,e){T(!e,"Can't turn on custom loggers persistently."),Pn.logLevel=ue.VERBOSE,hs=Pn.log.bind(Pn)},Re=function(...t){if(Ea===!0&&(Ea=!1,hs===null&&wg.get("logging_enabled")===!0&&Ag()),hs){const e=Vs.apply(null,t);hs(e)}},Gs=function(t){return function(...e){Re(t,...e)}},Yr=function(...t){const e="FIREBASE INTERNAL ERROR: "+Vs(...t);Pn.error(e)},Nt=function(...t){const e=`FIREBASE FATAL ERROR: ${Vs(...t)}`;throw Pn.error(e),new Error(e)},Ge=function(...t){const e="FIREBASE WARNING: "+Vs(...t);Pn.warn(e)},Ng=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ge("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Do=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Og=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Hn="[MIN_NAME]",fn="[MAX_NAME]",gn=function(t,e){if(t===e)return 0;if(t===Hn||e===fn)return-1;if(e===Hn||t===fn)return 1;{const n=ba(t),s=ba(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},xg=function(t,e){return t===e?0:t<e?-1:1},Xn=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ee(e))},ko=function(t){if(typeof t!="object"||t===null)return Ee(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Ee(e[s]),n+=":",n+=ko(t[e[s]]);return n+="}",n},qu=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Ae(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Ku=function(t){T(!Do(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,l,a;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=l+s,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(a=0;a<64;a+=8){let f=parseInt(u.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},Pg=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Dg=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kg(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const Mg=new RegExp("^-?(0*)\\d{1,10}$"),Lg=-2147483648,Fg=2147483647,ba=function(t){if(Mg.test(t)){const e=Number(t);if(e>=Lg&&e<=Fg)return e}return null},Gn=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ge("Exception was thrown by user callback.",n),e},Math.floor(0))}},Hg=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Ge(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ge(e)}}class si{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}si.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="5",zu="v",Yu="s",Qu="r",Xu="f",Ju=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Zu="ls",eh="p",Qr="ac",th="websocket",nh="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,s,i,r=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Wg(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ih(t,e,n){T(typeof e=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let s;if(e===th)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===nh)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Wg(t)&&(n.ns=t.namespace);const i=[];return Ae(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.counters_={}}incrementCounter(e,n=1){yt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return q_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er={},br={};function Lo(t){const e=t.toString();return Er[e]||(Er[e]=new Vg),Er[e]}function Gg(t,e){const n=t.toString();return br[n]||(br[n]=e()),br[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Gn(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="start",$g="close",qg="pLPCommand",Kg="pRTLPCB",rh="id",oh="pw",lh="ser",zg="cb",Yg="seg",Qg="ts",Xg="d",Jg="dframe",ah=1870,ch=30,Zg=ah-ch,ev=25e3,tv=3e4;class wn{constructor(e,n,s,i,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gs(e),this.stats_=Lo(n),this.urlFn=a=>(this.appCheckToken&&(a[Qr]=this.appCheckToken),ih(n,nh,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new jg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tv)),Og(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fo((...r)=>{const[o,l,a,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ca)this.id=l,this.password=a;else if(o===$g)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const s={};s[Ca]="t",s[lh]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[zg]=this.scriptTagHolder.uniqueCallbackIdentifier),s[zu]=Mo,this.transportSessionId&&(s[Yu]=this.transportSessionId),this.lastSessionId&&(s[Zu]=this.lastSessionId),this.applicationId&&(s[eh]=this.applicationId),this.appCheckToken&&(s[Qr]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ju.test(location.hostname)&&(s[Qu]=Xu);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wn.forceAllow_=!0}static forceDisallow(){wn.forceDisallow_=!0}static isAvailable(){return wn.forceAllow_?!0:!wn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Pg()&&!Dg()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ee(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Nu(n),i=qu(s,Zg);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[Jg]="t",s[rh]=e,s[oh]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ee(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Fo{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Rg(),window[qg+this.uniqueCallbackIdentifier]=e,window[Kg+this.uniqueCallbackIdentifier]=n,this.myIFrame=Fo.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Re("frame writing exception"),l.stack&&Re(l.stack),Re(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Re("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[rh]=this.myID,e[oh]=this.myPW,e[lh]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ch+s.length<=ah;){const o=this.pendingSegs.shift();s=s+"&"+Yg+i+"="+o.seg+"&"+Qg+i+"="+o.ts+"&"+Xg+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(ev)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Re("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=16384,sv=45e3;let gi=null;typeof MozWebSocket<"u"?gi=MozWebSocket:typeof WebSocket<"u"&&(gi=WebSocket);class st{constructor(e,n,s,i,r,o,l){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gs(this.connId),this.stats_=Lo(n),this.connURL=st.connectionURL_(n,o,l,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[zu]=Mo,typeof location<"u"&&location.hostname&&Ju.test(location.hostname)&&(o[Qu]=Xu),n&&(o[Yu]=n),s&&(o[Zu]=s),i&&(o[Qr]=i),r&&(o[eh]=r),ih(e,th,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rn.set("previous_websocket_failure",!0);try{let s;ku(),this.mySock=new gi(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){st.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&gi!==null&&!st.forceDisallow_}static previouslyFailed(){return rn.isInMemoryStorage||rn.get("previous_websocket_failure")===!0}markConnectionHealthy(){rn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Is(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(T(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Ee(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=qu(n,nv);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sv))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}st.responsesRequiredToBeHealthy=2;st.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static get ALL_TRANSPORTS(){return[wn,st]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=st&&st.isAvailable();let s=n&&!st.previouslyFailed();if(e.webSocketOnly&&(n||Ge("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[st];else{const i=this.transports_=[];for(const r of ws.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ws.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=6e4,rv=5e3,ov=10*1024,lv=100*1024,Cr="t",Ia="d",av="s",Ta="r",cv="e",Sa="o",wa="a",Ra="n",Aa="p",uv="h";class hv{constructor(e,n,s,i,r,o,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gs("c:"+this.id+":"),this.transportManager_=new ws(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=fs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>lv?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ov?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cr in e){const n=e[Cr];n===wa?this.upgradeIfSecondaryHealthy_():n===Ta?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Sa&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xn("t",e),s=Xn("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Aa,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:wa,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ra,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xn("t",e),s=Xn("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xn(Cr,e);if(Ia in e){const s=e[Ia];if(n===uv){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ra){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===av?this.onConnectionShutdown_(s):n===Ta?this.onReset_(s):n===cv?Yr("Server Error: "+s):n===Sa?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yr("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Mo!==s&&Ge("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),fs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(iv))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rv))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Aa,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.allowedEvents_=e,this.listeners_={},T(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){T(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends hh{static getInstance(){return new vi}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Du()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return T(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=32,Oa=768;class re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function J(){return new re("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qt(t){return t.pieces_.length-t.pieceNum_}function he(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new re(t.pieces_,e)}function Ho(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function fv(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Rs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function fh(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new re(e,0)}function me(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof re)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new re(n,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function Be(t,e){const n=Y(t),s=Y(e);if(n===null)return e;if(n===s)return Be(he(t),he(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function dv(t,e){const n=Rs(t,0),s=Rs(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=gn(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function dh(t,e){if(qt(t)!==qt(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function et(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(qt(t)>qt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class pv{constructor(e,n){this.errorPrefix_=n,this.parts_=Rs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Gi(this.parts_[s]);ph(this)}}function _v(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Gi(e),ph(t)}function mv(t){const e=t.parts_.pop();t.byteLength_-=Gi(e),t.parts_.length>0&&(t.byteLength_-=1)}function ph(t){if(t.byteLength_>Oa)throw new Error(t.errorPrefix_+"has a key path longer than "+Oa+" bytes ("+t.byteLength_+").");if(t.parts_.length>Na)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Na+") or object contains a cycle "+sn(t))}function sn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends hh{static getInstance(){return new Bo}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return T(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=1e3,gv=60*5*1e3,xa=30*1e3,vv=1.3,yv=3e4,Ev="server_kill",Pa=3;class Rt extends uh{constructor(e,n,s,i,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Rt.nextPersistentConnectionId_++,this.log_=Gs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jn,this.maxReconnectDelay_=gv,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!ku())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bo.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vi.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(Ee(r)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new Vi,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,c=l.s;Rt.warnOnListenWarnings_(a,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&yt(e,"w")){const s=Fn(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Ge(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||cm(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xa)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=am(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ee(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Yr("Unrecognized action received from server: "+Ee(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Jn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yv&&(this.reconnectDelay_=Jn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vv)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Rt.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,s())},c=function(h){T(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new hv(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,_=>{Ge(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ev)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ge(h),a())}}}interrupt(e){Re("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Re("Resuming connection for reason: "+e),delete this.interruptReasons_[e],la(this.interruptReasons_)&&(this.reconnectDelay_=Jn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>ko(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new re(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){Re("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Pa&&(this.reconnectDelay_=xa,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Re("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Pa&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Gu.replace(/\./g,"-")]=1,Du()?e["framework.cordova"]=1:nm()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vi.getInstance().currentlyOnline();return la(this.interruptReasons_)&&e}}Rt.nextPersistentConnectionId_=0;Rt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new $(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new $(Hn,e),i=new $(Hn,n);return this.compare(s,i)!==0}minPost(){return $.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs;class _h extends ji{static get __EMPTY_NODE(){return Xs}static set __EMPTY_NODE(e){Xs=e}compare(e,n){return gn(e.name,n.name)}isDefinedOn(e){throw Vn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return $.MIN}maxPost(){return new $(fn,Xs)}makePost(e,n){return T(typeof e=="string","KeyIndex indexValue must always be a string."),new $(e,Xs)}toString(){return".key"}}const Dn=new _h;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Te{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??Te.RED,this.left=i??Ve.EMPTY_NODE,this.right=r??Ve.EMPTY_NODE}copy(e,n,s,i,r){return new Te(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ve.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Ve.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Te.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Te.RED=!0;Te.BLACK=!1;class bv{copy(e,n,s,i,r){return this}insert(e,n,s){return new Te(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ve{constructor(e,n=Ve.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ve(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Te.BLACK,null,null))}remove(e){return new Ve(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Te.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Js(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Js(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Js(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Js(this.root_,null,this.comparator_,!0,e)}}Ve.EMPTY_NODE=new bv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){return gn(t.name,e.name)}function Uo(t,e){return gn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xr;function Iv(t){Xr=t}const mh=function(t){return typeof t=="number"?"number:"+Ku(t):"string:"+t},gh=function(t){if(t.isLeafNode()){const e=t.val();T(typeof e=="string"||typeof e=="number"||typeof e=="object"&&yt(e,".sv"),"Priority must be a string or number.")}else T(t===Xr||t.isEmpty(),"priority of unexpected type.");T(t===Xr||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da;class Ie{static set __childrenNodeConstructor(e){Da=e}static get __childrenNodeConstructor(){return Da}constructor(e,n=Ie.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gh(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ie(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ie.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return q(e)?this:Y(e)===".priority"?this.priorityNode_:Ie.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ie.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Y(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(T(s!==".priority"||qt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ie.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+mh(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Ku(this.value_):e+=this.value_,this.lazyHash_=$u(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ie.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ie.__childrenNodeConstructor?-1:(T(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=Ie.VALUE_TYPE_ORDER.indexOf(n),r=Ie.VALUE_TYPE_ORDER.indexOf(s);return T(i>=0,"Unknown leaf type: "+n),T(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ie.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh,yh;function Tv(t){vh=t}function Sv(t){yh=t}class wv extends ji{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?gn(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(fn,new Ie("[PRIORITY-POST]",yh))}makePost(e,n){const s=vh(e);return new $(n,new Ie("[PRIORITY-POST]",s))}toString(){return".priority"}}const ge=new wv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=Math.log(2);class Av{constructor(e){const n=r=>parseInt(Math.log(r)/Rv,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yi=function(t,e,n,s){t.sort(e);const i=function(a,c){const u=c-a;let h,f;if(u===0)return null;if(u===1)return h=t[a],f=n?n(h):h,new Te(f,h.node,Te.BLACK,null,null);{const _=parseInt(u/2,10)+a,g=i(a,_),I=i(_+1,c);return h=t[_],f=n?n(h):h,new Te(f,h.node,Te.BLACK,g,I)}},r=function(a){let c=null,u=null,h=t.length;const f=function(g,I){const D=h-g,k=h;h-=g;const x=i(D+1,k),M=t[D],P=n?n(M):M;_(new Te(P,M.node,I,null,x))},_=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<a.count;++g){const I=a.nextBitIsOne(),D=Math.pow(2,a.count-(g+1));I?f(D,Te.BLACK):(f(D,Te.BLACK),f(D,Te.RED))}return u},o=new Av(t.length),l=r(o);return new Ve(s||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir;const In={};class wt{static get Default(){return T(In&&ge,"ChildrenNode.ts has not been loaded"),Ir=Ir||new wt({".priority":In},{".priority":ge}),Ir}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Fn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ve?n:null}hasIndex(e){return yt(this.indexSet_,e.toString())}addIndex(e,n){T(e!==Dn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator($.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let l;i?l=yi(s,e.getCompare()):l=In;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=l,new wt(u,c)}addToIndexes(e,n){const s=pi(this.indexes_,(i,r)=>{const o=Fn(this.indexSet_,r);if(T(o,"Missing index implementation for "+r),i===In)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator($.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),yi(l,o.getCompare())}else return In;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new $(e.name,l))),a.insert(e,e.node)}});return new wt(s,this.indexSet_)}removeFromIndexes(e,n){const s=pi(this.indexes_,i=>{if(i===In)return i;{const r=n.get(e.name);return r?i.remove(new $(e.name,r)):i}});return new wt(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zn;class B{static get EMPTY_NODE(){return Zn||(Zn=new B(new Ve(Uo),null,wt.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&gh(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zn}updatePriority(e){return this.children_.isEmpty()?this:new B(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zn:n}}getChild(e){const n=Y(e);return n===null?this:this.getImmediateChild(n).getChild(he(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(T(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new $(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?Zn:this.priorityNode_;return new B(i,o,r)}}updateChild(e,n){const s=Y(e);if(s===null)return n;{T(Y(e)!==".priority"||qt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(he(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(ge,(o,l)=>{n[o]=l.val(e),s++,r&&B.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+mh(this.getPriority().val())+":"),this.forEachChild(ge,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":$u(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new $(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new $(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new $(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,$.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,$.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===js?-1:0}withIndex(e){if(e===Dn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Dn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(ge),i=n.getIterator(ge);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Dn?null:this.indexMap_.get(e.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Nv extends B{constructor(){super(new Ve(Uo),B.EMPTY_NODE,wt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}}const js=new Nv;Object.defineProperties($,{MIN:{value:new $(Hn,B.EMPTY_NODE)},MAX:{value:new $(fn,js)}});_h.__EMPTY_NODE=B.EMPTY_NODE;Ie.__childrenNodeConstructor=B;Iv(js);Sv(js);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=!0;function Se(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),T(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ie(n,Se(e))}if(!(t instanceof Array)&&Ov){const n=[];let s=!1;if(Ae(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Se(l);a.isEmpty()||(s=s||!a.getPriority().isEmpty(),n.push(new $(o,a)))}}),n.length===0)return B.EMPTY_NODE;const r=yi(n,Cv,o=>o.name,Uo);if(s){const o=yi(n,ge.getCompare());return new B(r,Se(e),new wt({".priority":o},{".priority":ge}))}else return new B(r,Se(e),wt.Default)}else{let n=B.EMPTY_NODE;return Ae(t,(s,i)=>{if(yt(t,s)&&s.substring(0,1)!=="."){const r=Se(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(Se(e))}}Tv(Se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends ji{constructor(e){super(),this.indexPath_=e,T(!q(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?gn(e.name,n.name):r}makePost(e,n){const s=Se(e),i=B.EMPTY_NODE.updateChild(this.indexPath_,s);return new $(n,i)}maxPost(){const e=B.EMPTY_NODE.updateChild(this.indexPath_,js);return new $(fn,e)}toString(){return Rs(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends ji{compare(e,n){const s=e.node.compareTo(n.node);return s===0?gn(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(e,n){const s=Se(e);return new $(n,s)}toString(){return".value"}}const Dv=new Pv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return{type:"value",snapshotNode:t}}function Bn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function As(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ns(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kv(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(s.getChild(i))&&l.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(As(n,l)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Bn(n,s)):o.trackChildChange(Ns(n,s,l))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ge,(i,r)=>{n.hasChild(i)||s.trackChildChange(As(i,r))}),n.isLeafNode()||n.forEachChild(ge,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(Ns(i,r,o))}else s.trackChildChange(Bn(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.indexedFilter_=new Wo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Os.getStartPost_(e),this.endPost_=Os.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new $(n,s))||(s=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);const r=this;return n.forEachChild(ge,(o,l)=>{r.matches(new $(o,l))||(i=i.updateImmediateChild(o,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Os(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new $(n,s))||(s=B.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,_)=>h(_,f)}else o=this.index_.getCompare();const l=e;T(l.numChildren()===this.limit_,"");const a=new $(n,s),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const _=f==null?1:o(f,a);if(u&&!s.isEmpty()&&_>=0)return r!=null&&r.trackChildChange(Ns(n,s,h)),l.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(As(n,h));const I=l.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Bn(f.name,f.node)),I.updateImmediateChild(f.name,f.node)):I}}else return s.isEmpty()?e:u&&o(c,a)>=0?(r!=null&&(r.trackChildChange(As(c.name,c.node)),r.trackChildChange(Bn(n,s))),l.updateImmediateChild(n,s).updateImmediateChild(c.name,B.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hn}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){const e=new Vo;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Lv(t){return t.loadsAllData()?new Wo(t.getIndex()):t.hasLimit()?new Mv(t):new Os(t)}function ka(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ge?n="$priority":t.index_===Dv?n="$value":t.index_===Dn?n="$key":(T(t.index_ instanceof xv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ee(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Ee(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Ee(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Ee(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Ee(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ma(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends uh{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Gs("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Ei.getListenId_(e,s),l={};this.listens_[o]=l;const a=ka(e._queryParams);this.restRequest_(r+".json",a,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,s),Fn(this.listens_,o)===l){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=Ei.getListenId_(e,n);delete this.listens_[s]}get(e){const n=ka(e._queryParams),s=e._path.toString(),i=new Vi;return this.restRequest_(s+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(s,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+um(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(s&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Is(l.responseText)}catch{Ge("Failed to parse JSON response for "+o+": "+l.responseText)}s(null,a)}else l.status!==401&&l.status!==404&&Ge("Got unsuccessful REST response for "+o+" Status: "+l.status),s(l.status);s=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return{value:null,children:new Map}}function bh(t,e,n){if(q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Y(e);t.children.has(s)||t.children.set(s,bi());const i=t.children.get(s);e=he(e),bh(i,e,n)}}function Jr(t,e,n){t.value!==null?n(e,t.value):Hv(t,(s,i)=>{const r=new re(e.toString()+"/"+s);Jr(i,r,n)})}function Hv(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ae(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=10*1e3,Uv=30*1e3,Wv=5*60*1e3;class Vv{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Bv(e);const s=La+(Uv-La)*Math.random();fs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Ae(e,(i,r)=>{r>0&&yt(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),fs(this.reportStats_.bind(this),Math.floor(Math.random()*2*Wv))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(it||(it={}));function Go(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jo(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $o(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=it.ACK_USER_WRITE,this.source=Go()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new re(e));return new Ci(J(),n,this.revert)}}else return T(Y(this.path)===e,"operationForChild called for unrelated child."),new Ci(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.source=e,this.path=n,this.type=it.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new xs(this.source,J()):new xs(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=it.OVERWRITE}operationForChild(e){return q(this.path)?new dn(this.source,J(),this.snap.getImmediateChild(e)):new dn(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=it.MERGE}operationForChild(e){if(q(this.path)){const n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new dn(this.source,J(),n.value):new Un(this.source,J(),n)}else return T(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Un(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function jv(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(kv(o.childName,o.snapshotNode))}),es(t,i,"child_removed",e,s,n),es(t,i,"child_added",e,s,n),es(t,i,"child_moved",r,s,n),es(t,i,"child_changed",e,s,n),es(t,i,"value",e,s,n),i}function es(t,e,n,s,i,r){const o=s.filter(l=>l.type===n);o.sort((l,a)=>qv(t,l,a)),o.forEach(l=>{const a=$v(t,l,r);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function $v(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function qv(t,e,n){if(e.childName==null||n.childName==null)throw Vn("Should only compare child_ events.");const s=new $(e.childName,e.snapshotNode),i=new $(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){return{eventCache:t,serverCache:e}}function ds(t,e,n,s){return $i(new Kt(e,n,s),t.serverCache)}function Ch(t,e,n,s){return $i(t.eventCache,new Kt(e,n,s))}function Ii(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr;const Kv=()=>(Tr||(Tr=new Ve(xg)),Tr);class ce{static fromObject(e){let n=new ce(null);return Ae(e,(s,i)=>{n=n.set(new re(s),i)}),n}constructor(e,n=Kv()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(q(e))return null;{const s=Y(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(he(e),n);return r!=null?{path:me(new re(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{const n=Y(e),s=this.children.get(n);return s!==null?s.subtree(he(e)):new ce(null)}}set(e,n){if(q(e))return new ce(n,this.children);{const s=Y(e),r=(this.children.get(s)||new ce(null)).set(he(e),n),o=this.children.insert(s,r);return new ce(this.value,o)}}remove(e){if(q(e))return this.children.isEmpty()?new ce(null):new ce(null,this.children);{const n=Y(e),s=this.children.get(n);if(s){const i=s.remove(he(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new ce(null):new ce(this.value,r)}else return this}}get(e){if(q(e))return this.value;{const n=Y(e),s=this.children.get(n);return s?s.get(he(e)):null}}setTree(e,n){if(q(e))return n;{const s=Y(e),r=(this.children.get(s)||new ce(null)).setTree(he(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new ce(this.value,o)}}fold(e){return this.fold_(J(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(me(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,J(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(q(e))return null;{const r=Y(e),o=this.children.get(r);return o?o.findOnPath_(he(e),me(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,J(),n)}foreachOnPath_(e,n,s){if(q(e))return this;{this.value&&s(n,this.value);const i=Y(e),r=this.children.get(i);return r?r.foreachOnPath_(he(e),me(n,i),s):new ce(null)}}foreach(e){this.foreach_(J(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(me(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.writeTree_=e}static empty(){return new ot(new ce(null))}}function ps(t,e,n){if(q(e))return new ot(new ce(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Be(i,e);return r=r.updateChild(o,n),new ot(t.writeTree_.set(i,r))}else{const i=new ce(n),r=t.writeTree_.setTree(e,i);return new ot(r)}}}function Zr(t,e,n){let s=t;return Ae(n,(i,r)=>{s=ps(s,me(e,i),r)}),s}function Fa(t,e){if(q(e))return ot.empty();{const n=t.writeTree_.setTree(e,new ce(null));return new ot(n)}}function eo(t,e){return vn(t,e)!=null}function vn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Be(n.path,e)):null}function Ha(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(s,i)=>{e.push(new $(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new $(s,i.value))}),e}function Gt(t,e){if(q(e))return t;{const n=vn(t,e);return n!=null?new ot(new ce(n)):new ot(t.writeTree_.subtree(e))}}function to(t){return t.writeTree_.isEmpty()}function Wn(t,e){return Ih(J(),t.writeTree_,e)}function Ih(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(T(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=Ih(me(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(me(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){return Rh(e,t)}function zv(t,e,n,s,i){T(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=ps(t.visibleWrites,e,n)),t.lastWriteId=s}function Yv(t,e,n,s){T(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=Zr(t.visibleWrites,e,n),t.lastWriteId=s}function Qv(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function Xv(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);T(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&Jv(l,s.path)?i=!1:et(s.path,l.path)&&(r=!0)),o--}if(i){if(r)return Zv(t),!0;if(s.snap)t.visibleWrites=Fa(t.visibleWrites,s.path);else{const l=s.children;Ae(l,a=>{t.visibleWrites=Fa(t.visibleWrites,me(s.path,a))})}return!0}else return!1}function Jv(t,e){if(t.snap)return et(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&et(me(t.path,n),e))return!0;return!1}function Zv(t){t.visibleWrites=Th(t.allWrites,ey,J()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ey(t){return t.visible}function Th(t,e,n){let s=ot.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let l;if(r.snap)et(n,o)?(l=Be(n,o),s=ps(s,l,r.snap)):et(o,n)&&(l=Be(o,n),s=ps(s,J(),r.snap.getChild(l)));else if(r.children){if(et(n,o))l=Be(n,o),s=Zr(s,l,r.children);else if(et(o,n))if(l=Be(o,n),q(l))s=Zr(s,J(),r.children);else{const a=Fn(r.children,Y(l));if(a){const c=a.getChild(he(l));s=ps(s,J(),c)}}}else throw Vn("WriteRecord should have .snap or .children")}}return s}function Sh(t,e,n,s,i){if(!s&&!i){const r=vn(t.visibleWrites,e);if(r!=null)return r;{const o=Gt(t.visibleWrites,e);if(to(o))return n;if(n==null&&!eo(o,J()))return null;{const l=n||B.EMPTY_NODE;return Wn(o,l)}}}else{const r=Gt(t.visibleWrites,e);if(!i&&to(r))return n;if(!i&&n==null&&!eo(r,J()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(et(c.path,e)||et(e,c.path))},l=Th(t.allWrites,o,e),a=n||B.EMPTY_NODE;return Wn(l,a)}}}function ty(t,e,n){let s=B.EMPTY_NODE;const i=vn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ge,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=Gt(t.visibleWrites,e);return n.forEachChild(ge,(o,l)=>{const a=Wn(Gt(r,new re(o)),l);s=s.updateImmediateChild(o,a)}),Ha(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=Gt(t.visibleWrites,e);return Ha(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function ny(t,e,n,s,i){T(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=me(e,n);if(eo(t.visibleWrites,r))return null;{const o=Gt(t.visibleWrites,r);return to(o)?i.getChild(n):Wn(o,i.getChild(n))}}function sy(t,e,n,s){const i=me(e,n),r=vn(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=Gt(t.visibleWrites,i);return Wn(o,s.getNode().getImmediateChild(n))}else return null}function iy(t,e){return vn(t.visibleWrites,e)}function ry(t,e,n,s,i,r,o){let l;const a=Gt(t.visibleWrites,e),c=vn(a,J());if(c!=null)l=c;else if(n!=null)l=Wn(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],h=o.getCompare(),f=r?l.getReverseIteratorFrom(s,o):l.getIteratorFrom(s,o);let _=f.getNext();for(;_&&u.length<i;)h(_,s)!==0&&u.push(_),_=f.getNext();return u}else return[]}function oy(){return{visibleWrites:ot.empty(),allWrites:[],lastWriteId:-1}}function Ti(t,e,n,s){return Sh(t.writeTree,t.treePath,e,n,s)}function qo(t,e){return ty(t.writeTree,t.treePath,e)}function Ba(t,e,n,s){return ny(t.writeTree,t.treePath,e,n,s)}function Si(t,e){return iy(t.writeTree,me(t.treePath,e))}function ly(t,e,n,s,i,r){return ry(t.writeTree,t.treePath,e,n,s,i,r)}function Ko(t,e,n){return sy(t.writeTree,t.treePath,e,n)}function wh(t,e){return Rh(me(t.treePath,e),t.writeTree)}function Rh(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,Ns(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,As(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,Bn(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,Ns(s,e.snapshotNode,i.oldSnap));else throw Vn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Ah=new cy;class zo{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ko(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pn(this.viewCache_),r=ly(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t){return{filter:t}}function hy(t,e){T(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),T(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function fy(t,e,n,s,i){const r=new ay;let o,l;if(n.type===it.OVERWRITE){const c=n;c.source.fromUser?o=no(t,e,c.path,c.snap,s,i,r):(T(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!q(c.path),o=wi(t,e,c.path,c.snap,s,i,l,r))}else if(n.type===it.MERGE){const c=n;c.source.fromUser?o=py(t,e,c.path,c.children,s,i,r):(T(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=so(t,e,c.path,c.children,s,i,l,r))}else if(n.type===it.ACK_USER_WRITE){const c=n;c.revert?o=gy(t,e,c.path,s,i,r):o=_y(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===it.LISTEN_COMPLETE)o=my(t,e,n.path,s,r);else throw Vn("Unknown operation type: "+n.type);const a=r.getChanges();return dy(e,o,a),{viewCache:o,changes:a}}function dy(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Ii(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(Eh(Ii(e)))}}function Nh(t,e,n,s,i,r){const o=e.eventCache;if(Si(s,n)!=null)return e;{let l,a;if(q(n))if(T(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=pn(e),u=c instanceof B?c:B.EMPTY_NODE,h=qo(s,u);l=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=Ti(s,pn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=Y(n);if(c===".priority"){T(qt(n)===1,"Can't have a priority with additional path components");const u=o.getNode();a=e.serverCache.getNode();const h=Ba(s,n,u,a);h!=null?l=t.filter.updatePriority(u,h):l=o.getNode()}else{const u=he(n);let h;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const f=Ba(s,n,o.getNode(),a);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=Ko(s,c,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),c,h,u,i,r):l=o.getNode()}}return ds(e,l,o.isFullyInitialized()||q(n),t.filter.filtersNodes())}}function wi(t,e,n,s,i,r,o,l){const a=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(q(n))c=u.updateFullNode(a.getNode(),s,null);else if(u.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,s);c=u.updateFullNode(a.getNode(),_,null)}else{const _=Y(n);if(!a.isCompleteForPath(n)&&qt(n)>1)return e;const g=he(n),D=a.getNode().getImmediateChild(_).updateChild(g,s);_===".priority"?c=u.updatePriority(a.getNode(),D):c=u.updateChild(a.getNode(),_,D,g,Ah,null)}const h=Ch(e,c,a.isFullyInitialized()||q(n),u.filtersNodes()),f=new zo(i,h,r);return Nh(t,h,n,i,f,l)}function no(t,e,n,s,i,r,o){const l=e.eventCache;let a,c;const u=new zo(i,e,r);if(q(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),a=ds(e,c,!0,t.filter.filtersNodes());else{const h=Y(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),a=ds(e,c,l.isFullyInitialized(),l.isFiltered());else{const f=he(n),_=l.getNode().getImmediateChild(h);let g;if(q(f))g=s;else{const I=u.getCompleteChild(h);I!=null?Ho(f)===".priority"&&I.getChild(fh(f)).isEmpty()?g=I:g=I.updateChild(f,s):g=B.EMPTY_NODE}if(_.equals(g))a=e;else{const I=t.filter.updateChild(l.getNode(),h,g,f,u,o);a=ds(e,I,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Ua(t,e){return t.eventCache.isCompleteForChild(e)}function py(t,e,n,s,i,r,o){let l=e;return s.foreach((a,c)=>{const u=me(n,a);Ua(e,Y(u))&&(l=no(t,l,u,c,i,r,o))}),s.foreach((a,c)=>{const u=me(n,a);Ua(e,Y(u))||(l=no(t,l,u,c,i,r,o))}),l}function Wa(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function so(t,e,n,s,i,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;q(n)?c=s:c=new ce(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const _=e.serverCache.getNode().getImmediateChild(h),g=Wa(t,_,f);a=wi(t,a,new re(h),g,i,r,o,l)}}),c.children.inorderTraversal((h,f)=>{const _=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!_){const g=e.serverCache.getNode().getImmediateChild(h),I=Wa(t,g,f);a=wi(t,a,new re(h),I,i,r,o,l)}}),a}function _y(t,e,n,s,i,r,o){if(Si(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(s.value!=null){if(q(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return wi(t,e,n,a.getNode().getChild(n),i,r,l,o);if(q(n)){let c=new ce(null);return a.getNode().forEachChild(Dn,(u,h)=>{c=c.set(new re(u),h)}),so(t,e,n,c,i,r,l,o)}else return e}else{let c=new ce(null);return s.foreach((u,h)=>{const f=me(n,u);a.isCompleteForPath(f)&&(c=c.set(u,a.getNode().getChild(f)))}),so(t,e,n,c,i,r,l,o)}}function my(t,e,n,s,i){const r=e.serverCache,o=Ch(e,r.getNode(),r.isFullyInitialized()||q(n),r.isFiltered());return Nh(t,o,n,s,Ah,i)}function gy(t,e,n,s,i,r){let o;if(Si(s,n)!=null)return e;{const l=new zo(s,e,i),a=e.eventCache.getNode();let c;if(q(n)||Y(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ti(s,pn(e));else{const h=e.serverCache.getNode();T(h instanceof B,"serverChildren would be complete if leaf node"),u=qo(s,h)}u=u,c=t.filter.updateFullNode(a,u,r)}else{const u=Y(n);let h=Ko(s,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=a.getImmediateChild(u)),h!=null?c=t.filter.updateChild(a,u,h,he(n),l,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,B.EMPTY_NODE,he(n),l,r):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ti(s,pn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Si(s,J())!=null,ds(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Wo(s.getIndex()),r=Lv(s);this.processor_=uy(r);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(B.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(B.EMPTY_NODE,l.getNode(),null),u=new Kt(a,o.isFullyInitialized(),i.filtersNodes()),h=new Kt(c,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=$i(h,u),this.eventGenerator_=new Gv(this.query_)}get query(){return this.query_}}function yy(t){return t.viewCache_.serverCache.getNode()}function Ey(t){return Ii(t.viewCache_)}function by(t,e){const n=pn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!q(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function Va(t){return t.eventRegistrations_.length===0}function Cy(t,e){t.eventRegistrations_.push(e)}function Ga(t,e,n){const s=[];if(n){T(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function ja(t,e,n,s){e.type===it.MERGE&&e.source.queryId!==null&&(T(pn(t.viewCache_),"We should always have a full cache before handling merges"),T(Ii(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=fy(t.processor_,i,e,n,s);return hy(t.processor_,r.viewCache),T(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,Oh(t,r.changes,r.viewCache.eventCache.getNode(),null)}function Iy(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(r,o)=>{s.push(Bn(r,o))}),n.isFullyInitialized()&&s.push(Eh(n.getNode())),Oh(t,s,n.getNode(),e)}function Oh(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return jv(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri;class xh{constructor(){this.views=new Map}}function Ty(t){T(!Ri,"__referenceConstructor has already been defined"),Ri=t}function Sy(){return T(Ri,"Reference.ts has not been loaded"),Ri}function wy(t){return t.views.size===0}function Yo(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return T(r!=null,"SyncTree gave us an op for an invalid query."),ja(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(ja(o,e,n,s));return r}}function Ph(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=Ti(n,i?s:null),a=!1;l?a=!0:s instanceof B?(l=qo(n,s),a=!1):(l=B.EMPTY_NODE,a=!1);const c=$i(new Kt(l,a,!1),new Kt(s,i,!1));return new vy(e,c)}return o}function Ry(t,e,n,s,i,r){const o=Ph(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Cy(o,n),Iy(o,n)}function Ay(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const l=zt(t);if(i==="default")for(const[a,c]of t.views.entries())o=o.concat(Ga(c,n,s)),Va(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||r.push(c.query));else{const a=t.views.get(i);a&&(o=o.concat(Ga(a,n,s)),Va(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!zt(t)&&r.push(new(Sy())(e._repo,e._path)),{removed:r,events:o}}function Dh(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function jt(t,e){let n=null;for(const s of t.views.values())n=n||by(s,e);return n}function kh(t,e){if(e._queryParams.loadsAllData())return Ki(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Mh(t,e){return kh(t,e)!=null}function zt(t){return Ki(t)!=null}function Ki(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai;function Ny(t){T(!Ai,"__referenceConstructor has already been defined"),Ai=t}function Oy(){return T(Ai,"Reference.ts has not been loaded"),Ai}let xy=1;class $a{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ce(null),this.pendingWriteTree_=oy(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Py(t,e,n,s,i){return zv(t.pendingWriteTree_,e,n,s,i),i?jn(t,new dn(Go(),e,n)):[]}function Dy(t,e,n,s){Yv(t.pendingWriteTree_,e,n,s);const i=ce.fromObject(n);return jn(t,new Un(Go(),e,i))}function on(t,e,n=!1){const s=Qv(t.pendingWriteTree_,e);if(Xv(t.pendingWriteTree_,e)){let r=new ce(null);return s.snap!=null?r=r.set(J(),!0):Ae(s.children,o=>{r=r.set(new re(o),!0)}),jn(t,new Ci(s.path,r,n))}else return[]}function $s(t,e,n){return jn(t,new dn(jo(),e,n))}function ky(t,e,n){const s=ce.fromObject(n);return jn(t,new Un(jo(),e,s))}function My(t,e){return jn(t,new xs(jo(),e))}function Ly(t,e,n){const s=Qo(t,n);if(s){const i=Xo(s),r=i.path,o=i.queryId,l=Be(r,e),a=new xs($o(o),l);return Jo(t,r,a)}else return[]}function Lh(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||Mh(o,e))){const a=Ay(o,e,n,s);wy(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=a.removed;if(l=a.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(f,_)=>zt(_));if(u&&!h){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const _=Uy(f);for(let g=0;g<_.length;++g){const I=_[g],D=I.query,k=Wh(t,I);t.listenProvider_.startListening(_s(D),Ps(t,D),k.hashFn,k.onComplete)}}}!h&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(_s(e),null):c.forEach(f=>{const _=t.queryToTagMap.get(zi(f));t.listenProvider_.stopListening(_s(f),_)}))}Wy(t,c)}return l}function Fh(t,e,n,s){const i=Qo(t,s);if(i!=null){const r=Xo(i),o=r.path,l=r.queryId,a=Be(o,e),c=new dn($o(l),a,n);return Jo(t,o,c)}else return[]}function Fy(t,e,n,s){const i=Qo(t,s);if(i){const r=Xo(i),o=r.path,l=r.queryId,a=Be(o,e),c=ce.fromObject(n),u=new Un($o(l),a,c);return Jo(t,o,u)}else return[]}function Hy(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,_)=>{const g=Be(f,i);r=r||jt(_,g),o=o||zt(_)});let l=t.syncPointTree_.get(i);l?(o=o||zt(l),r=r||jt(l,J())):(l=new xh,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;r!=null?a=!0:(a=!1,r=B.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,g)=>{const I=jt(g,J());I&&(r=r.updateImmediateChild(_,I))}));const c=Mh(l,e);if(!c&&!e._queryParams.loadsAllData()){const f=zi(e);T(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const _=Vy();t.queryToTagMap.set(f,_),t.tagToQueryMap.set(_,f)}const u=qi(t.pendingWriteTree_,i);let h=Ry(l,e,n,u,r,a);if(!c&&!o&&!s){const f=kh(l,e);h=h.concat(Gy(t,e,f))}return h}function Hh(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Be(o,e),c=jt(l,a);if(c)return c});return Sh(i,e,r,n,!0)}function By(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=Be(c,n);s=s||jt(u,h)});let i=t.syncPointTree_.get(n);i?s=s||jt(i,J()):(i=new xh,t.syncPointTree_=t.syncPointTree_.set(n,i));const r=s!=null,o=r?new Kt(s,!0,!1):null,l=qi(t.pendingWriteTree_,e._path),a=Ph(i,e,l,r?o.getNode():B.EMPTY_NODE,r);return Ey(a)}function jn(t,e){return Bh(e,t.syncPointTree_,null,qi(t.pendingWriteTree_,J()))}function Bh(t,e,n,s){if(q(t.path))return Uh(t,e,n,s);{const i=e.get(J());n==null&&i!=null&&(n=jt(i,J()));let r=[];const o=Y(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,u=wh(s,o);r=r.concat(Bh(l,a,c,u))}return i&&(r=r.concat(Yo(i,t,s,n))),r}}function Uh(t,e,n,s){const i=e.get(J());n==null&&i!=null&&(n=jt(i,J()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=wh(s,o),u=t.operationForChild(o);u&&(r=r.concat(Uh(u,l,a,c)))}),i&&(r=r.concat(Yo(i,t,s,n))),r}function Wh(t,e){const n=e.query,s=Ps(t,n);return{hashFn:()=>(yy(e)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?Ly(t,n._path,s):My(t,n._path);{const r=kg(i,n);return Lh(t,n,null,r)}}}}function Ps(t,e){const n=zi(e);return t.queryToTagMap.get(n)}function zi(t){return t._path.toString()+"$"+t._queryIdentifier}function Qo(t,e){return t.tagToQueryMap.get(e)}function Xo(t){const e=t.indexOf("$");return T(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new re(t.substr(0,e))}}function Jo(t,e,n){const s=t.syncPointTree_.get(e);T(s,"Missing sync point for query tag that we're tracking");const i=qi(t.pendingWriteTree_,e);return Yo(s,n,i,null)}function Uy(t){return t.fold((e,n,s)=>{if(n&&zt(n))return[Ki(n)];{let i=[];return n&&(i=Dh(n)),Ae(s,(r,o)=>{i=i.concat(o)}),i}})}function _s(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Oy())(t._repo,t._path):t}function Wy(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=zi(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function Vy(){return xy++}function Gy(t,e,n){const s=e._path,i=Ps(t,e),r=Wh(t,n),o=t.listenProvider_.startListening(_s(e),i,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(s);if(i)T(!zt(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,h)=>{if(!q(c)&&u&&zt(u))return[Ki(u).query];{let f=[];return u&&(f=f.concat(Dh(u).map(_=>_.query))),Ae(h,(_,g)=>{f=f.concat(g)}),f}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(_s(u),Ps(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Zo(n)}node(){return this.node_}}class el{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=me(this.path_,e);return new el(this.syncTree_,n)}node(){return Hh(this.syncTree_,this.path_)}}const jy=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qa=function(t,e,n){if(!t||typeof t!="object")return t;if(T(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $y(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qy(t[".sv"],e);T(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$y=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+t)}},qy=function(t,e,n){t.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&T(!1,"Unexpected increment value: "+s);const i=e.node();if(T(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},Vh=function(t,e,n,s){return tl(e,new el(n,t),s)},Ky=function(t,e,n){return tl(t,new Zo(e),n)};function tl(t,e,n){const s=t.getPriority().val(),i=qa(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=qa(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ie(l,Se(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Ie(i))),o.forEachChild(ge,(l,a)=>{const c=tl(a,e.getImmediateChild(l),n);c!==a&&(r=r.updateImmediateChild(l,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function sl(t,e){let n=e instanceof re?e:new re(e),s=t,i=Y(n);for(;i!==null;){const r=Fn(s.node.children,i)||{children:{},childCount:0};s=new nl(i,s,r),n=he(n),i=Y(n)}return s}function $n(t){return t.node.value}function Gh(t,e){t.node.value=e,io(t)}function jh(t){return t.node.childCount>0}function zy(t){return $n(t)===void 0&&!jh(t)}function Yi(t,e){Ae(t.node.children,(n,s)=>{e(new nl(n,t,s))})}function $h(t,e,n,s){n&&!s&&e(t),Yi(t,i=>{$h(i,e,!0,s)}),n&&s&&e(t)}function Yy(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function qs(t){return new re(t.parent===null?t.name:qs(t.parent)+"/"+t.name)}function io(t){t.parent!==null&&Qy(t.parent,t.name,t)}function Qy(t,e,n){const s=zy(n),i=yt(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,io(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,io(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=/[\[\].#$\/\u0000-\u001F\u007F]/,Jy=/[\[\].#$\u0000-\u001F\u007F]/,Sr=10*1024*1024,il=function(t){return typeof t=="string"&&t.length!==0&&!Xy.test(t)},qh=function(t){return typeof t=="string"&&t.length!==0&&!Jy.test(t)},Zy=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qh(t)},eE=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Do(t)||t&&typeof t=="object"&&yt(t,".sv")},rl=function(t,e,n){const s=n instanceof re?new pv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+sn(s));if(typeof e=="function")throw new Error(t+"contains a function "+sn(s)+" with contents = "+e.toString());if(Do(e))throw new Error(t+"contains "+e.toString()+" "+sn(s));if(typeof e=="string"&&e.length>Sr/3&&Gi(e)>Sr)throw new Error(t+"contains a string greater than "+Sr+" utf8 bytes "+sn(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Ae(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!il(o)))throw new Error(t+" contains an invalid key ("+o+") "+sn(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_v(s,o),rl(t,l,s),mv(s)}),i&&r)throw new Error(t+' contains ".value" child '+sn(s)+" in addition to actual children.")}},tE=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=Rs(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!il(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(dv);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&et(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},nE=function(t,e,n,s){const i=xo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];Ae(e,(o,l)=>{const a=new re(o);if(rl(i,l,me(n,a)),Ho(a)===".priority"&&!eE(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(a)}),tE(i,r)},Kh=function(t,e,n,s){if(!qh(n))throw new Error(xo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sE=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Kh(t,e,n)},iE=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!il(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Zy(n))throw new Error(xo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zh(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!dh(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function vt(t,e,n){zh(t,n),oE(t,s=>et(s,e)||et(e,s))}function oE(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(lE(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function lE(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();hs&&Re("event: "+n.toString()),Gn(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="repo_interrupt",cE=25;class uE{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bi(),this.transactionQueueTree_=new nl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hE(t,e,n){if(t.stats_=Lo(t.repoInfo_),t.forceRestClient_||Hg())t.server_=new Ei(t.repoInfo_,(s,i,r,o)=>{Ka(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>za(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Rt(t.repoInfo_,e,(s,i,r,o)=>{Ka(t,s,i,r,o)},s=>{za(t,s)},s=>{dE(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=Gg(t.repoInfo_,()=>new Vv(t.stats_,t.server_)),t.infoData_=new Fv,t.infoSyncTree_=new $a({startListening:(s,i,r,o)=>{let l=[];const a=t.infoData_.getNode(s._path);return a.isEmpty()||(l=$s(t.infoSyncTree_,s._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ll(t,"connected",!1),t.serverSyncTree_=new $a({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(l,a)=>{const c=o(l,a);vt(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function fE(t){const n=t.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ol(t){return jy({timestamp:fE(t)})}function Ka(t,e,n,s,i){t.dataUpdateCount++;const r=new re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const a=pi(n,c=>Se(c));o=Fy(t.serverSyncTree_,r,a,i)}else{const a=Se(n);o=Fh(t.serverSyncTree_,r,a,i)}else if(s){const a=pi(n,c=>Se(c));o=ky(t.serverSyncTree_,r,a)}else{const a=Se(n);o=$s(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=Ds(t,r)),vt(t.eventQueue_,l,o)}function za(t,e){ll(t,"connected",e),e===!1&&mE(t)}function dE(t,e){Ae(e,(n,s)=>{ll(t,n,s)})}function ll(t,e,n){const s=new re("/.info/"+e),i=Se(n);t.infoData_.updateSnapshot(s,i);const r=$s(t.infoSyncTree_,s,i);vt(t.eventQueue_,s,r)}function Yh(t){return t.nextWriteId_++}function pE(t,e,n){const s=By(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const r=Se(i).withIndex(e._queryParams.getIndex());Hy(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=$s(t.serverSyncTree_,e._path,r);else{const l=Ps(t.serverSyncTree_,e);o=Fh(t.serverSyncTree_,e._path,r,l)}return vt(t.eventQueue_,e._path,o),Lh(t.serverSyncTree_,e,n,null,!0),r},i=>(Qi(t,"get for query "+Ee(e)+" failed: "+i),Promise.reject(new Error(i))))}function _E(t,e,n,s){Qi(t,"update",{path:e.toString(),value:n});let i=!0;const r=ol(t),o={};if(Ae(n,(l,a)=>{i=!1,o[l]=Vh(me(e,l),Se(a),t.serverSyncTree_,r)}),i)Re("update() called with empty data.  Don't do anything."),Ya(t,s,"ok",void 0);else{const l=Yh(t),a=Dy(t.serverSyncTree_,e,o,l);zh(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,u)=>{const h=c==="ok";h||Ge("update at "+e+" failed: "+c);const f=on(t.serverSyncTree_,l,!h),_=f.length>0?Ds(t,e):e;vt(t.eventQueue_,_,f),Ya(t,s,c,u)}),Ae(n,c=>{const u=ef(t,me(e,c));Ds(t,u)}),vt(t.eventQueue_,e,[])}}function mE(t){Qi(t,"onDisconnectEvents");const e=ol(t),n=bi();Jr(t.onDisconnect_,J(),(i,r)=>{const o=Vh(i,r,t.serverSyncTree_,e);bh(n,i,o)});let s=[];Jr(n,J(),(i,r)=>{s=s.concat($s(t.serverSyncTree_,i,r));const o=ef(t,i);Ds(t,o)}),t.onDisconnect_=bi(),vt(t.eventQueue_,J(),s)}function gE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aE)}function Qi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Re(n,...e)}function Ya(t,e,n,s){e&&Gn(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function Qh(t,e,n){return Hh(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function al(t,e=t.transactionQueueTree_){if(e||Xi(t,e),$n(e)){const n=Jh(t,e);T(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&vE(t,qs(e),n)}else jh(e)&&Yi(e,n=>{al(t,n)})}function vE(t,e,n){const s=n.map(c=>c.currentWriteId),i=Qh(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];T(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Be(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Qi(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(on(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Xi(t,sl(t.transactionQueueTree_,e)),al(t,t.transactionQueueTree_),vt(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)Gn(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ge("transaction at "+a.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Ds(t,e)}},o)}function Ds(t,e){const n=Xh(t,e),s=qs(n),i=Jh(t,n);return yE(t,i,s),s}function yE(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Be(n,a.path);let u=!1,h;if(T(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,h=a.abortReason,i=i.concat(on(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=cE)u=!0,h="maxretry",i=i.concat(on(t.serverSyncTree_,a.currentWriteId,!0));else{const f=Qh(t,a.path,o);a.currentInputSnapshot=f;const _=e[l].update(f.val());if(_!==void 0){rl("transaction failed: Data returned ",_,a.path);let g=Se(_);typeof _=="object"&&_!=null&&yt(_,".priority")||(g=g.updatePriority(f.getPriority()));const D=a.currentWriteId,k=ol(t),x=Ky(g,f,k);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=x,a.currentWriteId=Yh(t),o.splice(o.indexOf(D),1),i=i.concat(Py(t.serverSyncTree_,a.path,x,a.currentWriteId,a.applyLocally)),i=i.concat(on(t.serverSyncTree_,D,!0))}else u=!0,h="nodata",i=i.concat(on(t.serverSyncTree_,a.currentWriteId,!0))}vt(t.eventQueue_,n,i),i=[],u&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?s.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):s.push(()=>e[l].onComplete(new Error(h),!1,null))))}Xi(t,t.transactionQueueTree_);for(let l=0;l<s.length;l++)Gn(s[l]);al(t,t.transactionQueueTree_)}function Xh(t,e){let n,s=t.transactionQueueTree_;for(n=Y(e);n!==null&&$n(s)===void 0;)s=sl(s,n),e=he(e),n=Y(e);return s}function Jh(t,e){const n=[];return Zh(t,e,n),n.sort((s,i)=>s.order-i.order),n}function Zh(t,e,n){const s=$n(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Yi(e,i=>{Zh(t,i,n)})}function Xi(t,e){const n=$n(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,Gh(e,n.length>0?n:void 0)}Yi(e,s=>{Xi(t,s)})}function ef(t,e){const n=qs(Xh(t,e)),s=sl(t.transactionQueueTree_,e);return Yy(s,i=>{wr(t,i)}),wr(t,s),$h(s,i=>{wr(t,i)}),n}function wr(t,e){const n=$n(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(T(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(T(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(on(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Gh(e,void 0):n.length=r+1,vt(t.eventQueue_,qs(e),i);for(let o=0;o<s.length;o++)Gn(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function bE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ge(`Invalid query segment '${n}' in query '${t}'`)}return e}const Qa=function(t,e){const n=CE(t),s=n.namespace;n.domain==="firebase.com"&&Nt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Nt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ng();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sh(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new re(n.pathString)}},CE=function(t){let e="",n="",s="",i="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=EE(t.substring(u,h)));const f=bE(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const g=e.indexOf(".");s=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:a,domain:n,subdomain:s,secure:o,scheme:l,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ee(this.snapshot.exportVal())}}class TE{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return q(this._path)?null:Ho(this._path)}get ref(){return new xt(this._repo,this._path)}get _queryIdentifier(){const e=Ma(this._queryParams),n=ko(e);return n==="{}"?"default":n}get _queryObject(){return Ma(this._queryParams)}isEqual(e){if(e=Ws(e),!(e instanceof cl))return!1;const n=this._repo===e._repo,s=dh(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+fv(this._path)}}class xt extends cl{constructor(e,n){super(e,n,new Vo,!1)}get parent(){const e=fh(this._path);return e===null?null:new xt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ks{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new re(e),s=ro(this.ref,e);return new ks(this._node.getChild(n),s,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new ks(i,ro(this.ref,s),ge)))}hasChild(e){const n=new re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wE(t,e){return t=Ws(t),t._checkNotDeleted("ref"),ro(t._root,e)}function ro(t,e){return t=Ws(t),Y(t._path)===null?sE("child","path",e):Kh("child","path",e),new xt(t._repo,me(t._path,e))}function RE(t,e){nE("update",e,t._path);const n=new Vi;return _E(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ib(t){t=Ws(t);const e=new SE(()=>{}),n=new ul(e);return pE(t._repo,t,n).then(s=>new ks(s,new xt(t._repo,t._path),t._queryParams.getIndex()))}class ul{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new IE("value",this,new ks(e.snapshotNode,new xt(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new TE(this,e,n):null}matches(e){return e instanceof ul?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Ty(xt);Ny(xt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="FIREBASE_DATABASE_EMULATOR_HOST",oo={};let NE=!1;function OE(t,e,n,s){t.repoInfo_=new sh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function xE(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||Nt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Qa(r,i),l=o.repoInfo,a;typeof process<"u"&&ga&&(a=ga[AE]),a?(r=`http://${a}?ns=${l.namespace}`,o=Qa(r,i),l=o.repoInfo):o.repoInfo.secure;const c=new Ug(t.name,t.options,e);iE("Invalid Firebase Database URL",o),q(o.path)||Nt("Database URL must point to the root of a Firebase Database (not including a child path).");const u=DE(l,t,c,new Bg(t.name,n));return new kE(u,t)}function PE(t,e){const n=oo[e];(!n||n[t.key]!==t)&&Nt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),gE(t),delete n[t.key]}function DE(t,e,n,s){let i=oo[e.name];i||(i={},oo[e.name]=i);let r=i[t.toURLString()];return r&&Nt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new uE(t,NE,n,s),i[t.toURLString()]=r,r}class kE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xt(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(PE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Nt("Cannot call "+e+" on a deleted database.")}}function ME(t=dg(),e){const n=cg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=Z_("database");s&&LE(n,...s)}return n}function LE(t,e,n,s={}){t=Ws(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Nt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&Nt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new si(si.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:em(s.mockUserToken,t.app.options.projectId);r=new si(o)}OE(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){Ig(fg),mi(new Ts("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return xE(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),xn(va,ya,t),xn(va,ya,"esm2017")}function HE(t){return{".sv":{increment:t}}}Rt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Rt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FE();var BE="firebase",UE="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(BE,UE,"app");const WE={apiKey:"AIzaSyDeJ\\_-qfuKQzhuMggUbvLl7YabZpIjqRVo",authDomain:"botaninvestments-onboarding.firebaseapp.com",projectId:"botaninvestments-onboarding",storageBucket:"botaninvestments-onboarding.firebasestorage.app",messagingSenderId:"196245016684",appId:"1:196245016684:web:2b912f287ad9ecfb014849"},VE=Uu(WE),GE=ME(VE),jE={},$E={class:"loader"};function qE(t,e){return Ye(),ft("div",$E)}const KE=Bs(jE,[["render",qE],["__scopeId","data-v-5d34a76b"]]),zE={class:"videoWrapper"},YE=["src"],QE=mn({__name:"VideoComponent",props:{clip:{}},setup(t){const e=t,n=Ls(!0);On(()=>e.clip,()=>{n.value=!0});const s=()=>{n.value=!1};return(i,r)=>(Ye(),ft("div",zE,[n.value?(Ye(),wo(KE,{key:0})):ti("",!0),zf(mt("video",{class:"video",src:i.clip.link,autoplay:"",muted:"",playsinline:"",loop:"",onLoadeddata:s,style:{height:"auto",width:"200px"}},null,40,YE),[[sp,!n.value]]),mt("p",null,ln(i.clip.description),1)]))}}),XE=Bs(QE,[["__scopeId","data-v-f669aee5"]]),JE={key:1,class:"videoBlock"},ZE=mn({__name:"OnboardingComponent",setup(t){const e=wu(),n=He(()=>{switch(e.stage){case 0:return _r[0].header;case 3:return _r[2].header;default:return _r[1].header}});Mc(()=>{s()}),Lc(()=>{s()});function s(){window.scrollTo({top:0,behavior:"smooth"})}function i(){const o=wE(GE,"onboarding/completed");RE(o,{count:HE(1)}).then(()=>console.log("Onboarding completed")).catch(l=>{console.error("Error during counter update",l)})}function r(){e.stage===3&&i(),e.increment()}return(o,l)=>(Ye(),ft(Ze,null,[Ce(e).stage>0&&Ce(e).stage<4?(Ye(),ft("ul",{class:"list",key:Ce(e).stage},[(Ye(!0),ft(Ze,null,ad(Ce(H_)[Ce(e).stage-1],a=>(Ye(),ft("li",{class:"listItem",key:a.id},[mt("h2",null,ln(a.header),1),mt("p",null,ln(a.text),1)]))),128))])):ti("",!0),Ce(e).stage>0&&Ce(e).stage<4?(Ye(),ft("div",JE,[De(XE,{clip:Ce(B_)[Ce(e).stage-1]},null,8,["clip"])])):ti("",!0),mt("div",{class:Di(["buttonBlock",{buttonStart:Ce(e).stage===0}])},[Ce(e).stage<4?(Ye(),ft("button",{key:0,class:"button",onClick:r},ln(n.value),1)):ti("",!0)],2)],64))}}),eb=Bs(ZE,[["__scopeId","data-v-ff681463"]]),tb=mn({__name:"HomeView",setup(t){return(e,n)=>(Ye(),ft(Ze,null,[mt("header",null,[De(G_,{class:"wrapper"})]),mt("main",null,[De(eb)])],64))}}),nb=Bs(tb,[["__scopeId","data-v-1e8965a7"]]),sb=P_({history:a_("/BotanInvestments-test-task/"),routes:[{path:"/",name:"home",component:nb},{path:"/admin",name:"admin",component:()=>F_(()=>import("./AdminView-CLRSt2cz.js"),__vite__mapDeps([0,1]))}]}),hl=Ep(k_);hl.use(Tp());hl.use(sb);hl.mount("#app");export{KE as P,Bs as _,Fc as a,wE as b,GE as c,mn as d,ft as e,wo as f,ib as g,Ye as h,Mc as o,Ls as r,ln as t};
